(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function Yy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qf={exports:{}},kl={};var tv;function Nw(){if(tv)return kl;tv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:n,type:a,key:d,ref:l!==void 0?l:null,props:u}}return kl.Fragment=t,kl.jsx=i,kl.jsxs=i,kl}var ev;function jw(){return ev||(ev=1,qf.exports=Nw()),qf.exports}var O=jw(),Zf={exports:{}},Rt={};var iv;function zw(){if(iv)return Rt;iv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),T=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=T&&z[T]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,M={};function D(z,K,rt){this.props=z,this.context=K,this.refs=M,this.updater=rt||k}D.prototype.isReactComponent={},D.prototype.setState=function(z,K){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,K,"setState")},D.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function P(){}P.prototype=D.prototype;function U(z,K,rt){this.props=z,this.context=K,this.refs=M,this.updater=rt||k}var W=U.prototype=new P;W.constructor=U,R(W,D.prototype),W.isPureReactComponent=!0;var et=Array.isArray;function at(){}var st={H:null,A:null,T:null,S:null},dt=Object.prototype.hasOwnProperty;function yt(z,K,rt){var ot=rt.ref;return{$$typeof:n,type:z,key:K,ref:ot!==void 0?ot:null,props:rt}}function Tt(z,K){return yt(z.type,K,z.props)}function bt(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function gt(z){var K={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(rt){return K[rt]})}var se=/\/+/g;function qt(z,K){return typeof z=="object"&&z!==null&&z.key!=null?gt(""+z.key):K.toString(36)}function Lt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(at,at):(z.status="pending",z.then(function(K){z.status==="pending"&&(z.status="fulfilled",z.value=K)},function(K){z.status==="pending"&&(z.status="rejected",z.reason=K)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Z(z,K,rt,ot,ht){var ut=typeof z;(ut==="undefined"||ut==="boolean")&&(z=null);var Nt=!1;if(z===null)Nt=!0;else switch(ut){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(z.$$typeof){case n:case t:Nt=!0;break;case b:return Nt=z._init,Z(Nt(z._payload),K,rt,ot,ht)}}if(Nt)return ht=ht(z),Nt=ot===""?"."+qt(z,0):ot,et(ht)?(rt="",Nt!=null&&(rt=Nt.replace(se,"$&/")+"/"),Z(ht,K,rt,"",function(zn){return zn})):ht!=null&&(bt(ht)&&(ht=Tt(ht,rt+(ht.key==null||z&&z.key===ht.key?"":(""+ht.key).replace(se,"$&/")+"/")+Nt)),K.push(ht)),1;Nt=0;var fe=ot===""?".":ot+":";if(et(z))for(var me=0;me<z.length;me++)ot=z[me],ut=fe+qt(ot,me),Nt+=Z(ot,K,rt,ut,ht);else if(me=E(z),typeof me=="function")for(z=me.call(z),me=0;!(ot=z.next()).done;)ot=ot.value,ut=fe+qt(ot,me++),Nt+=Z(ot,K,rt,ut,ht);else if(ut==="object"){if(typeof z.then=="function")return Z(Lt(z),K,rt,ot,ht);throw K=String(z),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function nt(z,K,rt){if(z==null)return z;var ot=[],ht=0;return Z(z,ot,"","",function(ut){return K.call(rt,ut,ht++)}),ot}function it(z){if(z._status===-1){var K=z._result;K=K(),K.then(function(rt){(z._status===0||z._status===-1)&&(z._status=1,z._result=rt)},function(rt){(z._status===0||z._status===-1)&&(z._status=2,z._result=rt)}),z._status===-1&&(z._status=0,z._result=K)}if(z._status===1)return z._result.default;throw z._result}var At=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ct={map:nt,forEach:function(z,K,rt){nt(z,function(){K.apply(this,arguments)},rt)},count:function(z){var K=0;return nt(z,function(){K++}),K},toArray:function(z){return nt(z,function(K){return K})||[]},only:function(z){if(!bt(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Rt.Activity=w,Rt.Children=ct,Rt.Component=D,Rt.Fragment=i,Rt.Profiler=l,Rt.PureComponent=U,Rt.StrictMode=a,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return st.H.useMemoCache(z)}},Rt.cache=function(z){return function(){return z.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(z,K,rt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ot=R({},z.props),ht=z.key;if(K!=null)for(ut in K.key!==void 0&&(ht=""+K.key),K)!dt.call(K,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&K.ref===void 0||(ot[ut]=K[ut]);var ut=arguments.length-2;if(ut===1)ot.children=rt;else if(1<ut){for(var Nt=Array(ut),fe=0;fe<ut;fe++)Nt[fe]=arguments[fe+2];ot.children=Nt}return yt(z.type,ht,ot)},Rt.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},Rt.createElement=function(z,K,rt){var ot,ht={},ut=null;if(K!=null)for(ot in K.key!==void 0&&(ut=""+K.key),K)dt.call(K,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(ht[ot]=K[ot]);var Nt=arguments.length-2;if(Nt===1)ht.children=rt;else if(1<Nt){for(var fe=Array(Nt),me=0;me<Nt;me++)fe[me]=arguments[me+2];ht.children=fe}if(z&&z.defaultProps)for(ot in Nt=z.defaultProps,Nt)ht[ot]===void 0&&(ht[ot]=Nt[ot]);return yt(z,ut,ht)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(z){return{$$typeof:f,render:z}},Rt.isValidElement=bt,Rt.lazy=function(z){return{$$typeof:b,_payload:{_status:-1,_result:z},_init:it}},Rt.memo=function(z,K){return{$$typeof:_,type:z,compare:K===void 0?null:K}},Rt.startTransition=function(z){var K=st.T,rt={};st.T=rt;try{var ot=z(),ht=st.S;ht!==null&&ht(rt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(at,At)}catch(ut){At(ut)}finally{K!==null&&rt.types!==null&&(K.types=rt.types),st.T=K}},Rt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Rt.use=function(z){return st.H.use(z)},Rt.useActionState=function(z,K,rt){return st.H.useActionState(z,K,rt)},Rt.useCallback=function(z,K){return st.H.useCallback(z,K)},Rt.useContext=function(z){return st.H.useContext(z)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(z,K){return st.H.useDeferredValue(z,K)},Rt.useEffect=function(z,K){return st.H.useEffect(z,K)},Rt.useEffectEvent=function(z){return st.H.useEffectEvent(z)},Rt.useId=function(){return st.H.useId()},Rt.useImperativeHandle=function(z,K,rt){return st.H.useImperativeHandle(z,K,rt)},Rt.useInsertionEffect=function(z,K){return st.H.useInsertionEffect(z,K)},Rt.useLayoutEffect=function(z,K){return st.H.useLayoutEffect(z,K)},Rt.useMemo=function(z,K){return st.H.useMemo(z,K)},Rt.useOptimistic=function(z,K){return st.H.useOptimistic(z,K)},Rt.useReducer=function(z,K,rt){return st.H.useReducer(z,K,rt)},Rt.useRef=function(z){return st.H.useRef(z)},Rt.useState=function(z){return st.H.useState(z)},Rt.useSyncExternalStore=function(z,K,rt){return st.H.useSyncExternalStore(z,K,rt)},Rt.useTransition=function(){return st.H.useTransition()},Rt.version="19.2.4",Rt}var nv;function Dm(){return nv||(nv=1,Zf.exports=zw()),Zf.exports}var B=Dm();const fm=Yy(B);var Vf={exports:{}},Ml={},$f={exports:{}},Gf={};var sv;function Pw(){return sv||(sv=1,(function(n){function t(Z,nt){var it=Z.length;Z.push(nt);t:for(;0<it;){var At=it-1>>>1,ct=Z[At];if(0<l(ct,nt))Z[At]=nt,Z[it]=ct,it=At;else break t}}function i(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var nt=Z[0],it=Z.pop();if(it!==nt){Z[0]=it;t:for(var At=0,ct=Z.length,z=ct>>>1;At<z;){var K=2*(At+1)-1,rt=Z[K],ot=K+1,ht=Z[ot];if(0>l(rt,it))ot<ct&&0>l(ht,rt)?(Z[At]=ht,Z[ot]=it,At=ot):(Z[At]=rt,Z[K]=it,At=K);else if(ot<ct&&0>l(ht,it))Z[At]=ht,Z[ot]=it,At=ot;else break t}}return nt}function l(Z,nt){var it=Z.sortIndex-nt.sortIndex;return it!==0?it:Z.id-nt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var p=[],_=[],b=1,w=null,T=3,E=!1,k=!1,R=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function W(Z){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=Z)a(_),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=i(_)}}function et(Z){if(R=!1,W(Z),!k)if(i(p)!==null)k=!0,at||(at=!0,gt());else{var nt=i(_);nt!==null&&Lt(et,nt.startTime-Z)}}var at=!1,st=-1,dt=5,yt=-1;function Tt(){return M?!0:!(n.unstable_now()-yt<dt)}function bt(){if(M=!1,at){var Z=n.unstable_now();yt=Z;var nt=!0;try{t:{k=!1,R&&(R=!1,P(st),st=-1),E=!0;var it=T;try{e:{for(W(Z),w=i(p);w!==null&&!(w.expirationTime>Z&&Tt());){var At=w.callback;if(typeof At=="function"){w.callback=null,T=w.priorityLevel;var ct=At(w.expirationTime<=Z);if(Z=n.unstable_now(),typeof ct=="function"){w.callback=ct,W(Z),nt=!0;break e}w===i(p)&&a(p),W(Z)}else a(p);w=i(p)}if(w!==null)nt=!0;else{var z=i(_);z!==null&&Lt(et,z.startTime-Z),nt=!1}}break t}finally{w=null,T=it,E=!1}nt=void 0}}finally{nt?gt():at=!1}}}var gt;if(typeof U=="function")gt=function(){U(bt)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,qt=se.port2;se.port1.onmessage=bt,gt=function(){qt.postMessage(null)}}else gt=function(){D(bt,0)};function Lt(Z,nt){st=D(function(){Z(n.unstable_now())},nt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):dt=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var nt=3;break;default:nt=T}var it=T;T=nt;try{return Z()}finally{T=it}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(Z,nt){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var it=T;T=Z;try{return nt()}finally{T=it}},n.unstable_scheduleCallback=function(Z,nt,it){var At=n.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?At+it:At):it=At,Z){case 1:var ct=-1;break;case 2:ct=250;break;case 5:ct=1073741823;break;case 4:ct=1e4;break;default:ct=5e3}return ct=it+ct,Z={id:b++,callback:nt,priorityLevel:Z,startTime:it,expirationTime:ct,sortIndex:-1},it>At?(Z.sortIndex=it,t(_,Z),i(p)===null&&Z===i(_)&&(R?(P(st),st=-1):R=!0,Lt(et,it-At))):(Z.sortIndex=ct,t(p,Z),k||E||(k=!0,at||(at=!0,gt()))),Z},n.unstable_shouldYield=Tt,n.unstable_wrapCallback=function(Z){var nt=T;return function(){var it=T;T=nt;try{return Z.apply(this,arguments)}finally{T=it}}}})(Gf)),Gf}var av;function Bw(){return av||(av=1,$f.exports=Pw()),$f.exports}var Yf={exports:{}},ti={};var rv;function Uw(){if(rv)return ti;rv=1;var n=Dm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,_,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:p,containerInfo:_,implementation:b}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ti.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ti.createPortal=function(p,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(p,_,null,b)},ti.flushSync=function(p){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=b,a.d.f()}},ti.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},ti.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},ti.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var b=_.as,w=f(b,_.crossOrigin),T=typeof _.integrity=="string"?_.integrity:void 0,E=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:E}):b==="script"&&a.d.X(p,{crossOrigin:w,integrity:T,fetchPriority:E,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ti.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=f(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},ti.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,w=f(b,_.crossOrigin);a.d.L(p,b,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ti.preloadModule=function(p,_){if(typeof p=="string")if(_){var b=f(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},ti.requestFormReset=function(p){a.d.r(p)},ti.unstable_batchedUpdates=function(p,_){return p(_)},ti.useFormState=function(p,_,b){return d.H.useFormState(p,_,b)},ti.useFormStatus=function(){return d.H.useHostTransitionStatus()},ti.version="19.2.4",ti}var ov;function Fy(){if(ov)return Yf.exports;ov=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Yf.exports=Uw(),Yf.exports}var lv;function Hw(){if(lv)return Ml;lv=1;var n=Bw(),t=Dm(),i=Fy();function a(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,o=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(o=s.return),e=s.return;while(e)}return s.tag===3?o:null}function d(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function f(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(a(188))}function _(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(a(188));return s!==e?null:e}for(var o=e,h=s;;){var g=o.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){o=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===o)return p(g),e;if(v===h)return p(g),s;v=v.sibling}throw Error(a(188))}if(o.return!==h.return)o=g,h=v;else{for(var S=!1,C=g.child;C;){if(C===o){S=!0,o=g,h=v;break}if(C===h){S=!0,h=g,o=v;break}C=C.sibling}if(!S){for(C=v.child;C;){if(C===o){S=!0,o=v,h=g;break}if(C===h){S=!0,h=v,o=g;break}C=C.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==h)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:s}function b(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=b(e),s!==null)return s;e=e.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),U=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),yt=Symbol.for("react.activity"),Tt=Symbol.for("react.memo_cache_sentinel"),bt=Symbol.iterator;function gt(e){return e===null||typeof e!="object"?null:(e=bt&&e[bt]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case D:return"Profiler";case M:return"StrictMode";case et:return"Suspense";case at:return"SuspenseList";case yt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case U:return e.displayName||"Context";case P:return(e._context.displayName||"Context")+".Consumer";case W:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case st:return s=e.displayName||null,s!==null?s:qt(e.type)||"Memo";case dt:s=e._payload,e=e._init;try{return qt(e(s))}catch{}}return null}var Lt=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},At=[],ct=-1;function z(e){return{current:e}}function K(e){0>ct||(e.current=At[ct],At[ct]=null,ct--)}function rt(e,s){ct++,At[ct]=e.current,e.current=s}var ot=z(null),ht=z(null),ut=z(null),Nt=z(null);function fe(e,s){switch(rt(ut,s),rt(ht,e),rt(ot,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?S_(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=S_(s),e=T_(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(ot),rt(ot,e)}function me(){K(ot),K(ht),K(ut)}function zn(e){e.memoizedState!==null&&rt(Nt,e);var s=ot.current,o=T_(s,e.type);s!==o&&(rt(ht,e),rt(ot,o))}function vs(e){ht.current===e&&(K(ot),K(ht)),Nt.current===e&&(K(Nt),Al._currentValue=it)}var Pn,fr;function Bn(e){if(Pn===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Pn=s&&s[1]||"",fr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pn+e+fr}var mr=!1;function pr(e,s){if(!e||mr)return"";mr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(F){var Y=F}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(F){Y=F}e.call(tt.prototype)}}else{try{throw Error()}catch(F){Y=F}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(F){if(F&&Y&&typeof F.stack=="string")return[F.stack,Y.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),S=v[0],C=v[1];if(S&&C){var j=S.split(`
`),$=C.split(`
`);for(g=h=0;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;for(;g<$.length&&!$[g].includes("DetermineComponentFrameRoot");)g++;if(h===j.length||g===$.length)for(h=j.length-1,g=$.length-1;1<=h&&0<=g&&j[h]!==$[g];)g--;for(;1<=h&&0<=g;h--,g--)if(j[h]!==$[g]){if(h!==1||g!==1)do if(h--,g--,0>g||j[h]!==$[g]){var X=`
`+j[h].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=h&&0<=g);break}}}finally{mr=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Bn(o):""}function Eo(e,s){switch(e.tag){case 26:case 27:case 5:return Bn(e.type);case 16:return Bn("Lazy");case 13:return e.child!==s&&s!==null?Bn("Suspense Fallback"):Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return pr(e.type,!1);case 11:return pr(e.type.render,!1);case 1:return pr(e.type,!0);case 31:return Bn("Activity");default:return""}}function ha(e){try{var s="",o=null;do s+=Eo(e,o),o=e,e=e.return;while(e);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Oo=Object.prototype.hasOwnProperty,gr=n.unstable_scheduleCallback,da=n.unstable_cancelCallback,vu=n.unstable_shouldYield,yu=n.unstable_requestPaint,ni=n.unstable_now,Zh=n.unstable_getCurrentPriorityLevel,_r=n.unstable_ImmediatePriority,Ao=n.unstable_UserBlockingPriority,fa=n.unstable_NormalPriority,Vh=n.unstable_LowPriority,Co=n.unstable_IdlePriority,bu=n.log,$h=n.unstable_setDisableYieldValue,ys=null,Ve=null;function Xi(e){if(typeof bu=="function"&&$h(e),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(ys,e)}catch{}}var si=Math.clz32?Math.clz32:Yh,ma=Math.log,Gh=Math.LN2;function Yh(e){return e>>>=0,e===0?32:31-(ma(e)/Gh|0)|0}var pa=256,ga=262144,_a=4194304;function Un(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vr(e,s,o){var h=e.pendingLanes;if(h===0)return 0;var g=0,v=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var C=h&134217727;return C!==0?(h=C&~v,h!==0?g=Un(h):(S&=C,S!==0?g=Un(S):o||(o=C&~e,o!==0&&(g=Un(o))))):(C=h&~v,C!==0?g=Un(C):S!==0?g=Un(S):o||(o=h&~e,o!==0&&(g=Un(o)))),g===0?0:s!==0&&s!==g&&(s&v)===0&&(v=g&-g,o=s&-s,v>=o||v===32&&(o&4194048)!==0)?s:g}function va(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Fh(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var e=_a;return _a<<=1,(_a&62914560)===0&&(_a=4194304),e}function Ro(e){for(var s=[],o=0;31>o;o++)s.push(e);return s}function Hn(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wh(e,s,o,h,g,v){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var C=e.entanglements,j=e.expirationTimes,$=e.hiddenUpdates;for(o=S&~o;0<o;){var X=31-si(o),tt=1<<X;C[X]=0,j[X]=-1;var Y=$[X];if(Y!==null)for($[X]=null,X=0;X<Y.length;X++){var F=Y[X];F!==null&&(F.lane&=-536870913)}o&=~tt}h!==0&&xu(e,h,0),v!==0&&g===0&&e.tag!==0&&(e.suspendedLanes|=v&~(S&~s))}function xu(e,s,o){e.pendingLanes|=s,e.suspendedLanes&=~s;var h=31-si(s);e.entangledLanes|=s,e.entanglements[h]=e.entanglements[h]|1073741824|o&261930}function Su(e,s){var o=e.entangledLanes|=s;for(e=e.entanglements;o;){var h=31-si(o),g=1<<h;g&s|e[h]&s&&(e[h]|=s),o&=~g}}function Tu(e,s){var o=s&-s;return o=(o&42)!==0?1:li(o),(o&(e.suspendedLanes|s))!==0?0:o}function li(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lo(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:Y_(e.type))}function ko(e,s){var o=nt.p;try{return nt.p=e,s()}finally{nt.p=o}}var Ji=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Ji,He="__reactProps$"+Ji,In="__reactContainer$"+Ji,pn="__reactEvents$"+Ji,Eu="__reactListeners$"+Ji,Kh="__reactHandles$"+Ji,Ou="__reactResources$"+Ji,ya="__reactMarker$"+Ji;function Mo(e){delete e[Ae],delete e[He],delete e[pn],delete e[Eu],delete e[Kh]}function qn(e){var s=e[Ae];if(s)return s;for(var o=e.parentNode;o;){if(s=o[In]||o[Ae]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(e=k_(e);e!==null;){if(o=e[Ae])return o;e=k_(e)}return s}e=o,o=e.parentNode}return null}function bs(e){if(e=e[Ae]||e[In]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function gn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(a(33))}function ws(e){var s=e[Ou];return s||(s=e[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ce(e){e[ya]=!0}var Au=new Set,Cu={};function Zn(e,s){_n(e,s),_n(e+"Capture",s)}function _n(e,s){for(Cu[e]=s,e=0;e<s.length;e++)Au.add(s[e])}var ba=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},No={};function wa(e){return Oo.call(No,e)?!0:Oo.call(Do,e)?!1:ba.test(e)?No[e]=!0:(Do[e]=!0,!1)}function jt(e,s,o){if(wa(s))if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+o)}}function te(e,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+o)}}function ui(e,s,o,h){if(h===null)e.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(s,o,""+h)}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vn(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function jo(e,s,o){var h=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,v=h.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return g.call(this)},set:function(S){o=""+S,v.call(this,S)}}),Object.defineProperty(e,s,{enumerable:h.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Ct(e){if(!e._valueTracker){var s=Vn(e)?"checked":"value";e._valueTracker=jo(e,s,""+e[s])}}function pe(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var o=s.getValue(),h="";return e&&(h=Vn(e)?e.checked?"true":"false":e.value),e=h,e!==o?(s.setValue(e),!0):!1}function xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yr=/[\n"\\]/g;function ue(e){return e.replace(yr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zo(e,s,o,h,g,v,S,C){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),s!=null?S==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+je(s)):e.value!==""+je(s)&&(e.value=""+je(s)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),s!=null?Qi(e,S,je(s)):o!=null?Qi(e,S,je(o)):h!=null&&e.removeAttribute("value"),g==null&&v!=null&&(e.defaultChecked=!!v),g!=null&&(e.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+je(C):e.removeAttribute("name")}function xa(e,s,o,h,g,v,S,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),s!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){Ct(e);return}o=o!=null?""+je(o):"",s=s!=null?""+je(s):o,C||s===e.value||(e.value=s),e.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,e.checked=C?e.checked:!!h,e.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Ct(e)}function Qi(e,s,o){s==="number"&&xs(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ae(e,s,o,h){if(e=e.options,s){s={};for(var g=0;g<o.length;g++)s["$"+o[g]]=!0;for(o=0;o<e.length;o++)g=s.hasOwnProperty("$"+e[o].value),e[o].selected!==g&&(e[o].selected=g),g&&h&&(e[o].defaultSelected=!0)}else{for(o=""+je(o),s=null,g=0;g<e.length;g++){if(e[g].value===o){e[g].selected=!0,h&&(e[g].defaultSelected=!0);return}s!==null||e[g].disabled||(s=e[g])}s!==null&&(s.selected=!0)}}function vn(e,s,o){if(s!=null&&(s=""+je(s),s!==e.value&&(e.value=s),o==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=o!=null?""+je(o):""}function Ss(e,s,o,h){if(s==null){if(h!=null){if(o!=null)throw Error(a(92));if(Lt(h)){if(1<h.length)throw Error(a(93));h=h[0]}o=h}o==null&&(o=""),s=o}o=je(s),e.defaultValue=o,h=e.textContent,h===o&&h!==""&&h!==null&&(e.value=h),Ct(e)}function zi(e,s){if(s){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=s;return}}e.textContent=s}var Po=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ts(e,s,o){var h=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":h?e.setProperty(s,o):typeof o!="number"||o===0||Po.has(s)?s==="float"?e.cssFloat=o:e[s]=(""+o).trim():e[s]=o+"px"}function br(e,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(e=e.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?e.setProperty(h,""):h==="float"?e.cssFloat="":e[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&o[g]!==h&&Ts(e,g,h)}else for(var v in s)s.hasOwnProperty(v)&&Ts(e,v,s[v])}function Sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Es(e){return Bo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ci(){}var xr=null;function Ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Os=null,Et=null;function Ti(e){var s=bs(e);if(s&&(e=s.stateNode)){var o=e[He]||null;t:switch(e=s.stateNode,s.type){case"input":if(zo(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ue(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var h=o[s];if(h!==e&&h.form===e.form){var g=h[He]||null;if(!g)throw Error(a(90));zo(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<o.length;s++)h=o[s],h.form===e.form&&pe(h)}break t;case"textarea":vn(e,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&ae(e,!!o.multiple,s,!1)}}}var Wt=!1;function Uo(e,s,o){if(Wt)return e(s,o);Wt=!0;try{var h=e(s);return h}finally{if(Wt=!1,(Os!==null||Et!==null)&&(Tc(),Os&&(s=Os,e=Et,Et=Os=null,Ti(s),e)))for(s=0;s<e.length;s++)Ti(e[s])}}function $n(e,s){var o=e.stateNode;if(o===null)return null;var h=o[He]||null;if(h===null)return null;o=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(e=e.type,h=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!h;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ea=!1;if(Ei)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Ea=!1}var Pi=null,Gn=null,ye=null;function yn(){if(ye)return ye;var e,s=Gn,o=s.length,h,g="value"in Pi?Pi.value:Pi.textContent,v=g.length;for(e=0;e<o&&s[e]===g[e];e++);var S=o-e;for(h=1;h<=S&&s[o-h]===g[v-h];h++);return ye=g.slice(e,1<h?1-h:void 0)}function Oa(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Aa(){return!0}function Ru(){return!1}function $e(e){function s(o,h,g,v,S){this._reactName=o,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(o=e[C],this[C]=o?o(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Aa:Ru,this.isPropagationStopped=Ru,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),s}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sr=$e(tn),As=w({},tn,{view:0,detail:0}),Ut=$e(As),Ho,ai,en,Ca=w({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Go,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&e.type==="mousemove"?(Ho=e.screenX-en.screenX,ai=e.screenY-en.screenY):ai=Ho=0,en=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:ai}}),Lu=$e(Ca),Io=w({},Ca,{dataTransfer:0}),Xh=$e(Io),ku=w({},As,{relatedTarget:0}),qo=$e(ku),Jh=w({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zo=$e(Jh),Qh=w({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bi=$e(Qh),td=w({},tn,{data:0}),Vo=$e(td),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Du[e])?!!s[e]:!1}function Go(){return $o}var Nu=w({},As,{key:function(e){if(e.key){var s=bn[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Oa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Go,charCode:function(e){return e.type==="keypress"?Oa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ju=$e(Nu),ed=w({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zu=$e(ed),Yo=w({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Go}),id=$e(Yo),Pu=w({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=$e(Pu),Tr=w({},Ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yn=$e(Tr),nd=w({},tn,{newState:0,oldState:0}),Ra=$e(nd),hi=[9,13,27,32],Er=Ei&&"CompositionEvent"in window,Cs=null;Ei&&"documentMode"in document&&(Cs=document.documentMode);var sd=Ei&&"TextEvent"in window&&!Cs,Or=Ei&&(!Er||Cs&&8<Cs&&11>=Cs),Ar=" ",Uu=!1;function Hu(e,s){switch(e){case"keyup":return hi.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rs=!1;function Ai(e,s){switch(e){case"compositionend":return Fo(s);case"keypress":return s.which!==32?null:(Uu=!0,Ar);case"textInput":return e=s.data,e===Ar&&Uu?null:e;default:return null}}function Ls(e,s){if(Rs)return e==="compositionend"||!Er&&Hu(e,s)?(e=yn(),ye=Gn=Pi=null,Rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Or&&s.locale!=="ko"?null:s.data;default:return null}}var ad={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ui(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!ad[e.type]:s==="textarea"}function Iu(e,s,o,h){Os?Et?Et.push(h):Et=[h]:Os=h,s=kc(s,"onChange"),0<s.length&&(o=new Sr("onChange","change",null,o,h),e.push({event:o,listeners:s}))}var Hi=null,La=null;function ka(e){__(e,0)}function Ma(e){var s=gn(e);if(pe(s))return e}function Da(e,s){if(e==="change")return s}var qu=!1;if(Ei){var Ii;if(Ei){var ks="oninput"in document;if(!ks){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),ks=typeof Zu.oninput=="function"}Ii=ks}else Ii=!1;qu=Ii&&(!document.documentMode||9<document.documentMode)}function Cr(){Hi&&(Hi.detachEvent("onpropertychange",Vu),La=Hi=null)}function Vu(e){if(e.propertyName==="value"&&Ma(La)){var s=[];Iu(s,La,e,Ta(e)),Uo(ka,s)}}function nn(e,s,o){e==="focusin"?(Cr(),Hi=s,La=o,Hi.attachEvent("onpropertychange",Vu)):e==="focusout"&&Cr()}function rd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ma(La)}function Ms(e,s){if(e==="click")return Ma(s)}function od(e,s){if(e==="input"||e==="change")return Ma(s)}function sn(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Ie=typeof Object.is=="function"?Object.is:sn;function Ds(e,s){if(Ie(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var o=Object.keys(e),h=Object.keys(s);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var g=o[h];if(!Oo.call(s,g)||!Ie(e[g],s[g]))return!1}return!0}function Rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Na(e,s){var o=Rr(e);e=0;for(var h;o;){if(o.nodeType===3){if(h=e+o.textContent.length,e<=s&&h>=s)return{node:o,offset:s-e};e=h}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Rr(o)}}function Lr(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Lr(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function ja(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=xs(e.document);s instanceof e.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)e=s.contentWindow;else break;s=xs(e.document)}return s}function wn(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var kr=Ei&&"documentMode"in document&&11>=document.documentMode,xn=null,Mr=null,za=null,Ns=!1;function $u(e,s,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ns||xn==null||xn!==xs(h)||(h=xn,"selectionStart"in h&&wn(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),za&&Ds(za,h)||(za=h,h=kc(Mr,"onSelect"),0<h.length&&(s=new Sr("onSelect","select",null,s,o),e.push({event:s,listeners:h}),s.target=xn)))}function Sn(e,s){var o={};return o[e.toLowerCase()]=s.toLowerCase(),o["Webkit"+e]="webkit"+s,o["Moz"+e]="moz"+s,o}var js={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},Dr={},Gu={};Ei&&(Gu=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function qe(e){if(Dr[e])return Dr[e];if(!js[e])return e;var s=js[e],o;for(o in s)if(s.hasOwnProperty(o)&&o in Gu)return Dr[e]=s[o];return e}var Pa=qe("animationend"),Yu=qe("animationiteration"),Ba=qe("animationstart"),ld=qe("transitionrun"),Fu=qe("transitionstart"),ud=qe("transitioncancel"),zs=qe("transitionend"),Wu=new Map,Tn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tn.push("scrollEnd");function di(e,s){Wu.set(e,s),Zn(s,[e])}var Ua=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fi=[],Je=0,Nr=0;function Ha(){for(var e=Je,s=Nr=Je=0;s<e;){var o=fi[s];fi[s++]=null;var h=fi[s];fi[s++]=null;var g=fi[s];fi[s++]=null;var v=fi[s];if(fi[s++]=null,h!==null&&g!==null){var S=h.pending;S===null?g.next=g:(g.next=S.next,S.next=g),h.pending=g}v!==0&&Ps(o,g,v)}}function En(e,s,o,h){fi[Je++]=e,fi[Je++]=s,fi[Je++]=o,fi[Je++]=h,Nr|=h,e.lanes|=h,e=e.alternate,e!==null&&(e.lanes|=h)}function Wo(e,s,o,h){return En(e,s,o,h),Ia(e)}function qi(e,s){return En(e,null,null,s),Ia(e)}function Ps(e,s,o){e.lanes|=o;var h=e.alternate;h!==null&&(h.lanes|=o);for(var g=!1,v=e.return;v!==null;)v.childLanes|=o,h=v.alternate,h!==null&&(h.childLanes|=o),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(g=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,g&&s!==null&&(g=31-si(o),e=v.hiddenUpdates,h=e[g],h===null?e[g]=[s]:h.push(s),s.lane=o|536870912),v):null}function Ia(e){if(50<bl)throw bl=0,df=null,Error(a(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Fn={};function cd(e,s,o,h){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(e,s,o,h){return new cd(e,s,o,h)}function jr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zi(e,s){var o=e.alternate;return o===null?(o=Qe(e.tag,s,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=s,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Ko(e,s){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,s=o.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function qa(e,s,o,h,g,v){var S=0;if(h=e,typeof e=="function")jr(e)&&(S=1);else if(typeof e=="string")S=xw(e,o,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case yt:return e=Qe(31,o,s,g),e.elementType=yt,e.lanes=v,e;case R:return Wn(o.children,g,v,s);case M:S=8,g|=24;break;case D:return e=Qe(12,o,s,g|2),e.elementType=D,e.lanes=v,e;case et:return e=Qe(13,o,s,g),e.elementType=et,e.lanes=v,e;case at:return e=Qe(19,o,s,g),e.elementType=at,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:S=10;break t;case P:S=9;break t;case W:S=11;break t;case st:S=14;break t;case dt:S=16,h=null;break t}S=29,o=Error(a(130,e===null?"null":typeof e,"")),h=null}return s=Qe(S,o,s,g),s.elementType=e,s.type=h,s.lanes=v,s}function Wn(e,s,o,h){return e=Qe(7,e,h,s),e.lanes=o,e}function zr(e,s,o){return e=Qe(6,e,null,s),e.lanes=o,e}function Xo(e){var s=Qe(18,null,null,0);return s.stateNode=e,s}function Jo(e,s,o){return s=Qe(4,e.children!==null?e.children:[],e.key,s),s.lanes=o,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var r=new WeakMap;function c(e,s){if(typeof e=="object"&&e!==null){var o=r.get(e);return o!==void 0?o:(s={value:e,source:s,stack:ha(s)},r.set(e,s),s)}return{value:e,source:s,stack:ha(s)}}var m=[],y=0,x=null,A=0,N=[],q=0,G=null,Q=1,lt="";function _t(e,s){m[y++]=A,m[y++]=x,x=e,A=s}function Mt(e,s,o){N[q++]=Q,N[q++]=lt,N[q++]=G,G=e;var h=Q;e=lt;var g=32-si(h)-1;h&=~(1<<g),o+=1;var v=32-si(s)+g;if(30<v){var S=g-g%5;v=(h&(1<<S)-1).toString(32),h>>=S,g-=S,Q=1<<32-si(s)+g|o<<g|h,lt=v+e}else Q=1<<v|o<<g|h,lt=e}function ze(e){e.return!==null&&(_t(e,1),Mt(e,1,0))}function be(e){for(;e===x;)x=m[--y],m[y]=null,A=m[--y],m[y]=null;for(;e===G;)G=N[--q],N[q]=null,lt=N[--q],N[q]=null,Q=N[--q],N[q]=null}function ri(e,s){N[q++]=Q,N[q++]=lt,N[q++]=G,Q=s.id,lt=s.overflow,G=e}var Zt=null,Vt=null,zt=!1,On=null,mi=!1,Pr=Error(a(519));function An(e){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Za(c(s,e)),Pr}function Qo(e){var s=e.stateNode,o=e.type,h=e.memoizedProps;switch(s[Ae]=e,s[He]=h,o){case"dialog":Bt("cancel",s),Bt("close",s);break;case"iframe":case"object":case"embed":Bt("load",s);break;case"video":case"audio":for(o=0;o<xl.length;o++)Bt(xl[o],s);break;case"source":Bt("error",s);break;case"img":case"image":case"link":Bt("error",s),Bt("load",s);break;case"details":Bt("toggle",s);break;case"input":Bt("invalid",s),xa(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Bt("invalid",s);break;case"textarea":Bt("invalid",s),Ss(s,h.value,h.defaultValue,h.children)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||h.suppressHydrationWarning===!0||w_(s.textContent,o)?(h.popover!=null&&(Bt("beforetoggle",s),Bt("toggle",s)),h.onScroll!=null&&Bt("scroll",s),h.onScrollEnd!=null&&Bt("scrollend",s),h.onClick!=null&&(s.onclick=ci),s=!0):s=!1,s||An(e,!0)}function _e(e){for(Zt=e.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:Zt=Zt.return}}function an(e){if(e!==Zt)return!1;if(!zt)return _e(e),zt=!0,!1;var s=e.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Af(e.type,e.memoizedProps)),o=!o),o&&Vt&&An(e),_e(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Vt=L_(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Vt=L_(e)}else s===27?(s=Vt,Xs(e.type)?(e=Mf,Mf=null,Vt=e):Vt=s):Vt=Zt?$i(e.stateNode.nextSibling):null;return!0}function Kn(){Vt=Zt=null,zt=!1}function tl(){var e=On;return e!==null&&(vi===null?vi=e:vi.push.apply(vi,e),On=null),e}function Za(e){On===null?On=[e]:On.push(e)}var Va=z(null),Cn=null,rn=null;function Bs(e,s,o){rt(Va,s._currentValue),s._currentValue=o}function Xn(e){e._currentValue=Va.current,K(Va)}function hd(e,s,o){for(;e!==null;){var h=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),e===o)break;e=e.return}}function dd(e,s,o,h){var g=e.child;for(g!==null&&(g.return=e);g!==null;){var v=g.dependencies;if(v!==null){var S=g.child;v=v.firstContext;t:for(;v!==null;){var C=v;v=g;for(var j=0;j<s.length;j++)if(C.context===s[j]){v.lanes|=o,C=v.alternate,C!==null&&(C.lanes|=o),hd(v.return,o,e),h||(S=null);break t}v=C.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(a(341));S.lanes|=o,v=S.alternate,v!==null&&(v.lanes|=o),hd(S,o,e),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===e){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Br(e,s,o,h){e=null;for(var g=s,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var C=g.type;Ie(g.pendingProps.value,S.value)||(e!==null?e.push(C):e=[C])}}else if(g===Nt.current){if(S=g.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(e!==null?e.push(Al):e=[Al])}g=g.return}e!==null&&dd(s,e,o,h),s.flags|=262144}function Ku(e){for(e=e.firstContext;e!==null;){if(!Ie(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $a(e){Cn=e,rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return rp(Cn,e)}function Xu(e,s){return Cn===null&&$a(e),rp(e,s)}function rp(e,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},rn===null){if(e===null)throw Error(a(308));rn=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else rn=rn.next=s;return o}var v0=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(o,h){e.push(h)}};this.abort=function(){s.aborted=!0,e.forEach(function(o){return o()})}},y0=n.unstable_scheduleCallback,b0=n.unstable_NormalPriority,Re={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fd(){return{controller:new v0,data:new Map,refCount:0}}function el(e){e.refCount--,e.refCount===0&&y0(b0,function(){e.controller.abort()})}var il=null,md=0,Ur=0,Hr=null;function w0(e,s){if(il===null){var o=il=[];md=0,Ur=vf(),Hr={status:"pending",value:void 0,then:function(h){o.push(h)}}}return md++,s.then(op,op),s}function op(){if(--md===0&&il!==null){Hr!==null&&(Hr.status="fulfilled");var e=il;il=null,Ur=0,Hr=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function x0(e,s){var o=[],h={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return e.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<o.length;g++)(0,o[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),h}var lp=Z.S;Z.S=function(e,s){$g=ni(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&w0(e,s),lp!==null&&lp(e,s)};var Ga=z(null);function pd(){var e=Ga.current;return e!==null?e:re.pooledCache}function Ju(e,s){s===null?rt(Ga,Ga.current):rt(Ga,s.pool)}function up(){var e=pd();return e===null?null:{parent:Re._currentValue,pool:e}}var Ir=Error(a(460)),gd=Error(a(474)),Qu=Error(a(542)),tc={then:function(){}};function cp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hp(e,s,o){switch(o=e[o],o===void 0?e.push(s):o!==s&&(s.then(ci,ci),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,fp(e),e;default:if(typeof s.status=="string")s.then(ci,ci);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=s,e.status="pending",e.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,fp(e),e}throw Fa=s,Ir}}function Ya(e){try{var s=e._init;return s(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Fa=o,Ir):o}}var Fa=null;function dp(){if(Fa===null)throw Error(a(459));var e=Fa;return Fa=null,e}function fp(e){if(e===Ir||e===Qu)throw Error(a(483))}var qr=null,nl=0;function ec(e){var s=nl;return nl+=1,qr===null&&(qr=[]),hp(qr,e,s)}function sl(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function ic(e,s){throw s.$$typeof===T?Error(a(525)):(e=Object.prototype.toString.call(s),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function mp(e){function s(I,H){if(e){var V=I.deletions;V===null?(I.deletions=[H],I.flags|=16):V.push(H)}}function o(I,H){if(!e)return null;for(;H!==null;)s(I,H),H=H.sibling;return null}function h(I){for(var H=new Map;I!==null;)I.key!==null?H.set(I.key,I):H.set(I.index,I),I=I.sibling;return H}function g(I,H){return I=Zi(I,H),I.index=0,I.sibling=null,I}function v(I,H,V){return I.index=V,e?(V=I.alternate,V!==null?(V=V.index,V<H?(I.flags|=67108866,H):V):(I.flags|=67108866,H)):(I.flags|=1048576,H)}function S(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function C(I,H,V,J){return H===null||H.tag!==6?(H=zr(V,I.mode,J),H.return=I,H):(H=g(H,V),H.return=I,H)}function j(I,H,V,J){var wt=V.type;return wt===R?X(I,H,V.props.children,J,V.key):H!==null&&(H.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===dt&&Ya(wt)===H.type)?(H=g(H,V.props),sl(H,V),H.return=I,H):(H=qa(V.type,V.key,V.props,null,I.mode,J),sl(H,V),H.return=I,H)}function $(I,H,V,J){return H===null||H.tag!==4||H.stateNode.containerInfo!==V.containerInfo||H.stateNode.implementation!==V.implementation?(H=Jo(V,I.mode,J),H.return=I,H):(H=g(H,V.children||[]),H.return=I,H)}function X(I,H,V,J,wt){return H===null||H.tag!==7?(H=Wn(V,I.mode,J,wt),H.return=I,H):(H=g(H,V),H.return=I,H)}function tt(I,H,V){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=zr(""+H,I.mode,V),H.return=I,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return V=qa(H.type,H.key,H.props,null,I.mode,V),sl(V,H),V.return=I,V;case k:return H=Jo(H,I.mode,V),H.return=I,H;case dt:return H=Ya(H),tt(I,H,V)}if(Lt(H)||gt(H))return H=Wn(H,I.mode,V,null),H.return=I,H;if(typeof H.then=="function")return tt(I,ec(H),V);if(H.$$typeof===U)return tt(I,Xu(I,H),V);ic(I,H)}return null}function Y(I,H,V,J){var wt=H!==null?H.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return wt!==null?null:C(I,H,""+V,J);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return V.key===wt?j(I,H,V,J):null;case k:return V.key===wt?$(I,H,V,J):null;case dt:return V=Ya(V),Y(I,H,V,J)}if(Lt(V)||gt(V))return wt!==null?null:X(I,H,V,J,null);if(typeof V.then=="function")return Y(I,H,ec(V),J);if(V.$$typeof===U)return Y(I,H,Xu(I,V),J);ic(I,V)}return null}function F(I,H,V,J,wt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return I=I.get(V)||null,C(H,I,""+J,wt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return I=I.get(J.key===null?V:J.key)||null,j(H,I,J,wt);case k:return I=I.get(J.key===null?V:J.key)||null,$(H,I,J,wt);case dt:return J=Ya(J),F(I,H,V,J,wt)}if(Lt(J)||gt(J))return I=I.get(V)||null,X(H,I,J,wt,null);if(typeof J.then=="function")return F(I,H,V,ec(J),wt);if(J.$$typeof===U)return F(I,H,V,Xu(H,J),wt);ic(H,J)}return null}function ft(I,H,V,J){for(var wt=null,$t=null,mt=H,Dt=H=0,It=null;mt!==null&&Dt<V.length;Dt++){mt.index>Dt?(It=mt,mt=null):It=mt.sibling;var Gt=Y(I,mt,V[Dt],J);if(Gt===null){mt===null&&(mt=It);break}e&&mt&&Gt.alternate===null&&s(I,mt),H=v(Gt,H,Dt),$t===null?wt=Gt:$t.sibling=Gt,$t=Gt,mt=It}if(Dt===V.length)return o(I,mt),zt&&_t(I,Dt),wt;if(mt===null){for(;Dt<V.length;Dt++)mt=tt(I,V[Dt],J),mt!==null&&(H=v(mt,H,Dt),$t===null?wt=mt:$t.sibling=mt,$t=mt);return zt&&_t(I,Dt),wt}for(mt=h(mt);Dt<V.length;Dt++)It=F(mt,I,Dt,V[Dt],J),It!==null&&(e&&It.alternate!==null&&mt.delete(It.key===null?Dt:It.key),H=v(It,H,Dt),$t===null?wt=It:$t.sibling=It,$t=It);return e&&mt.forEach(function(ia){return s(I,ia)}),zt&&_t(I,Dt),wt}function xt(I,H,V,J){if(V==null)throw Error(a(151));for(var wt=null,$t=null,mt=H,Dt=H=0,It=null,Gt=V.next();mt!==null&&!Gt.done;Dt++,Gt=V.next()){mt.index>Dt?(It=mt,mt=null):It=mt.sibling;var ia=Y(I,mt,Gt.value,J);if(ia===null){mt===null&&(mt=It);break}e&&mt&&ia.alternate===null&&s(I,mt),H=v(ia,H,Dt),$t===null?wt=ia:$t.sibling=ia,$t=ia,mt=It}if(Gt.done)return o(I,mt),zt&&_t(I,Dt),wt;if(mt===null){for(;!Gt.done;Dt++,Gt=V.next())Gt=tt(I,Gt.value,J),Gt!==null&&(H=v(Gt,H,Dt),$t===null?wt=Gt:$t.sibling=Gt,$t=Gt);return zt&&_t(I,Dt),wt}for(mt=h(mt);!Gt.done;Dt++,Gt=V.next())Gt=F(mt,I,Dt,Gt.value,J),Gt!==null&&(e&&Gt.alternate!==null&&mt.delete(Gt.key===null?Dt:Gt.key),H=v(Gt,H,Dt),$t===null?wt=Gt:$t.sibling=Gt,$t=Gt);return e&&mt.forEach(function(Dw){return s(I,Dw)}),zt&&_t(I,Dt),wt}function ne(I,H,V,J){if(typeof V=="object"&&V!==null&&V.type===R&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case E:t:{for(var wt=V.key;H!==null;){if(H.key===wt){if(wt=V.type,wt===R){if(H.tag===7){o(I,H.sibling),J=g(H,V.props.children),J.return=I,I=J;break t}}else if(H.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===dt&&Ya(wt)===H.type){o(I,H.sibling),J=g(H,V.props),sl(J,V),J.return=I,I=J;break t}o(I,H);break}else s(I,H);H=H.sibling}V.type===R?(J=Wn(V.props.children,I.mode,J,V.key),J.return=I,I=J):(J=qa(V.type,V.key,V.props,null,I.mode,J),sl(J,V),J.return=I,I=J)}return S(I);case k:t:{for(wt=V.key;H!==null;){if(H.key===wt)if(H.tag===4&&H.stateNode.containerInfo===V.containerInfo&&H.stateNode.implementation===V.implementation){o(I,H.sibling),J=g(H,V.children||[]),J.return=I,I=J;break t}else{o(I,H);break}else s(I,H);H=H.sibling}J=Jo(V,I.mode,J),J.return=I,I=J}return S(I);case dt:return V=Ya(V),ne(I,H,V,J)}if(Lt(V))return ft(I,H,V,J);if(gt(V)){if(wt=gt(V),typeof wt!="function")throw Error(a(150));return V=wt.call(V),xt(I,H,V,J)}if(typeof V.then=="function")return ne(I,H,ec(V),J);if(V.$$typeof===U)return ne(I,H,Xu(I,V),J);ic(I,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,H!==null&&H.tag===6?(o(I,H.sibling),J=g(H,V),J.return=I,I=J):(o(I,H),J=zr(V,I.mode,J),J.return=I,I=J),S(I)):o(I,H)}return function(I,H,V,J){try{nl=0;var wt=ne(I,H,V,J);return qr=null,wt}catch(mt){if(mt===Ir||mt===Qu)throw mt;var $t=Qe(29,mt,null,I.mode);return $t.lanes=J,$t.return=I,$t}}}var Wa=mp(!0),pp=mp(!1),Us=!1;function _d(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Is(e,s,o){var h=e.updateQueue;if(h===null)return null;if(h=h.shared,(Ft&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=Ia(e),Ps(e,null,o),s}return En(e,h,s,o),Ia(e)}function al(e,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var h=s.lanes;h&=e.pendingLanes,o|=h,s.lanes=o,Su(e,o)}}function yd(e,s){var o=e.updateQueue,h=e.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var g=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?g=v=S:v=v.next=S,o=o.next}while(o!==null);v===null?g=v=s:v=v.next=s}else g=v=s;o={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=s:e.next=s,o.lastBaseUpdate=s}var bd=!1;function rl(){if(bd){var e=Hr;if(e!==null)throw e}}function ol(e,s,o,h){bd=!1;var g=e.updateQueue;Us=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var j=C,$=j.next;j.next=null,S===null?v=$:S.next=$,S=j;var X=e.alternate;X!==null&&(X=X.updateQueue,C=X.lastBaseUpdate,C!==S&&(C===null?X.firstBaseUpdate=$:C.next=$,X.lastBaseUpdate=j))}if(v!==null){var tt=g.baseState;S=0,X=$=j=null,C=v;do{var Y=C.lane&-536870913,F=Y!==C.lane;if(F?(Ht&Y)===Y:(h&Y)===Y){Y!==0&&Y===Ur&&(bd=!0),X!==null&&(X=X.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var ft=e,xt=C;Y=s;var ne=o;switch(xt.tag){case 1:if(ft=xt.payload,typeof ft=="function"){tt=ft.call(ne,tt,Y);break t}tt=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=xt.payload,Y=typeof ft=="function"?ft.call(ne,tt,Y):ft,Y==null)break t;tt=w({},tt,Y);break t;case 2:Us=!0}}Y=C.callback,Y!==null&&(e.flags|=64,F&&(e.flags|=8192),F=g.callbacks,F===null?g.callbacks=[Y]:F.push(Y))}else F={lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},X===null?($=X=F,j=tt):X=X.next=F,S|=Y;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;F=C,C=F.next,F.next=null,g.lastBaseUpdate=F,g.shared.pending=null}}while(!0);X===null&&(j=tt),g.baseState=j,g.firstBaseUpdate=$,g.lastBaseUpdate=X,v===null&&(g.shared.lanes=0),Gs|=S,e.lanes=S,e.memoizedState=tt}}function gp(e,s){if(typeof e!="function")throw Error(a(191,e));e.call(s)}function _p(e,s){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)gp(o[e],s)}var Zr=z(null),nc=z(0);function vp(e,s){e=rs,rt(nc,e),rt(Zr,s),rs=e|s.baseLanes}function wd(){rt(nc,rs),rt(Zr,Zr.current)}function xd(){rs=nc.current,K(Zr),K(nc)}var Ci=z(null),Vi=null;function qs(e){var s=e.alternate;rt(Te,Te.current&1),rt(Ci,e),Vi===null&&(s===null||Zr.current!==null||s.memoizedState!==null)&&(Vi=e)}function Sd(e){rt(Te,Te.current),rt(Ci,e),Vi===null&&(Vi=e)}function yp(e){e.tag===22?(rt(Te,Te.current),rt(Ci,e),Vi===null&&(Vi=e)):Zs()}function Zs(){rt(Te,Te.current),rt(Ci,Ci.current)}function Ri(e){K(Ci),Vi===e&&(Vi=null),K(Te)}var Te=z(0);function sc(e){for(var s=e;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Lf(o)||kf(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Jn=0,kt=null,ee=null,Le=null,ac=!1,Vr=!1,Ka=!1,rc=0,ll=0,$r=null,S0=0;function we(){throw Error(a(321))}function Td(e,s){if(s===null)return!1;for(var o=0;o<s.length&&o<e.length;o++)if(!Ie(e[o],s[o]))return!1;return!0}function Ed(e,s,o,h,g,v){return Jn=v,kt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=e===null||e.memoizedState===null?ig:Hd,Ka=!1,v=o(h,g),Ka=!1,Vr&&(v=wp(s,o,h,g)),bp(e),v}function bp(e){Z.H=hl;var s=ee!==null&&ee.next!==null;if(Jn=0,Le=ee=kt=null,ac=!1,ll=0,$r=null,s)throw Error(a(300));e===null||ke||(e=e.dependencies,e!==null&&Ku(e)&&(ke=!0))}function wp(e,s,o,h){kt=e;var g=0;do{if(Vr&&($r=null),ll=0,Vr=!1,25<=g)throw Error(a(301));if(g+=1,Le=ee=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Z.H=ng,v=s(o,h)}while(Vr);return v}function T0(){var e=Z.H,s=e.useState()[0];return s=typeof s.then=="function"?ul(s):s,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(kt.flags|=1024),s}function Od(){var e=rc!==0;return rc=0,e}function Ad(e,s,o){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~o}function Cd(e){if(ac){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}ac=!1}Jn=0,Le=ee=kt=null,Vr=!1,ll=rc=0,$r=null}function oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?kt.memoizedState=Le=e:Le=Le.next=e,Le}function Ee(){if(ee===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var s=Le===null?kt.memoizedState:Le.next;if(s!==null)Le=s,ee=e;else{if(e===null)throw kt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Le===null?kt.memoizedState=Le=e:Le=Le.next=e}return Le}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(e){var s=ll;return ll+=1,$r===null&&($r=[]),e=hp($r,e,s),s=kt,(Le===null?s.memoizedState:Le.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?ig:Hd),e}function lc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ul(e);if(e.$$typeof===U)return Ge(e)}throw Error(a(438,String(e)))}function Rd(e){var s=null,o=kt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var h=kt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=oc(),kt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(e),h=0;h<e;h++)o[h]=Tt;return s.index++,o}function Qn(e,s){return typeof s=="function"?s(e):s}function uc(e){var s=Ee();return Ld(s,ee,e)}function Ld(e,s,o){var h=e.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=o;var g=e.baseQueue,v=h.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}s.baseQueue=g=v,h.pending=null}if(v=e.baseState,g===null)e.memoizedState=v;else{s=g.next;var C=S=null,j=null,$=s,X=!1;do{var tt=$.lane&-536870913;if(tt!==$.lane?(Ht&tt)===tt:(Jn&tt)===tt){var Y=$.revertLane;if(Y===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),tt===Ur&&(X=!0);else if((Jn&Y)===Y){$=$.next,Y===Ur&&(X=!0);continue}else tt={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(C=j=tt,S=v):j=j.next=tt,kt.lanes|=Y,Gs|=Y;tt=$.action,Ka&&o(v,tt),v=$.hasEagerState?$.eagerState:o(v,tt)}else Y={lane:tt,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(C=j=Y,S=v):j=j.next=Y,kt.lanes|=tt,Gs|=tt;$=$.next}while($!==null&&$!==s);if(j===null?S=v:j.next=C,!Ie(v,e.memoizedState)&&(ke=!0,X&&(o=Hr,o!==null)))throw o;e.memoizedState=v,e.baseState=S,e.baseQueue=j,h.lastRenderedState=v}return g===null&&(h.lanes=0),[e.memoizedState,h.dispatch]}function kd(e){var s=Ee(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var h=o.dispatch,g=o.pending,v=s.memoizedState;if(g!==null){o.pending=null;var S=g=g.next;do v=e(v,S.action),S=S.next;while(S!==g);Ie(v,s.memoizedState)||(ke=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),o.lastRenderedState=v}return[v,h]}function xp(e,s,o){var h=kt,g=Ee(),v=zt;if(v){if(o===void 0)throw Error(a(407));o=o()}else o=s();var S=!Ie((ee||g).memoizedState,o);if(S&&(g.memoizedState=o,ke=!0),g=g.queue,Nd(Ep.bind(null,h,g,e),[e]),g.getSnapshot!==s||S||Le!==null&&Le.memoizedState.tag&1){if(h.flags|=2048,Gr(9,{destroy:void 0},Tp.bind(null,h,g,o,s),null),re===null)throw Error(a(349));v||(Jn&127)!==0||Sp(h,s,o)}return o}function Sp(e,s,o){e.flags|=16384,e={getSnapshot:s,value:o},s=kt.updateQueue,s===null?(s=oc(),kt.updateQueue=s,s.stores=[e]):(o=s.stores,o===null?s.stores=[e]:o.push(e))}function Tp(e,s,o,h){s.value=o,s.getSnapshot=h,Op(s)&&Ap(e)}function Ep(e,s,o){return o(function(){Op(s)&&Ap(e)})}function Op(e){var s=e.getSnapshot;e=e.value;try{var o=s();return!Ie(e,o)}catch{return!0}}function Ap(e){var s=qi(e,2);s!==null&&yi(s,e,2)}function Md(e){var s=oi();if(typeof e=="function"){var o=e;if(e=o(),Ka){Xi(!0);try{o()}finally{Xi(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:e},s}function Cp(e,s,o,h){return e.baseState=o,Ld(e,ee,typeof h=="function"?h:Qn)}function E0(e,s,o,h,g){if(dc(e))throw Error(a(485));if(e=s.action,e!==null){var v={payload:g,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};Z.T!==null?o(!0):v.isTransition=!1,h(v),o=s.pending,o===null?(v.next=s.pending=v,Rp(s,v)):(v.next=o.next,s.pending=o.next=v)}}function Rp(e,s){var o=s.action,h=s.payload,g=e.state;if(s.isTransition){var v=Z.T,S={};Z.T=S;try{var C=o(g,h),j=Z.S;j!==null&&j(S,C),Lp(e,s,C)}catch($){Dd(e,s,$)}finally{v!==null&&S.types!==null&&(v.types=S.types),Z.T=v}}else try{v=o(g,h),Lp(e,s,v)}catch($){Dd(e,s,$)}}function Lp(e,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){kp(e,s,h)},function(h){return Dd(e,s,h)}):kp(e,s,o)}function kp(e,s,o){s.status="fulfilled",s.value=o,Mp(s),e.state=o,s=e.pending,s!==null&&(o=s.next,o===s?e.pending=null:(o=o.next,s.next=o,Rp(e,o)))}function Dd(e,s,o){var h=e.pending;if(e.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=o,Mp(s),s=s.next;while(s!==h)}e.action=null}function Mp(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function Dp(e,s){return s}function Np(e,s){if(zt){var o=re.formState;if(o!==null){t:{var h=kt;if(zt){if(Vt){e:{for(var g=Vt,v=mi;g.nodeType!==8;){if(!v){g=null;break e}if(g=$i(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Vt=$i(g.nextSibling),h=g.data==="F!";break t}}An(h)}h=!1}h&&(s=o[0])}}return o=oi(),o.memoizedState=o.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dp,lastRenderedState:s},o.queue=h,o=Qp.bind(null,kt,h),h.dispatch=o,h=Md(!1),v=Ud.bind(null,kt,!1,h.queue),h=oi(),g={state:s,dispatch:null,action:e,pending:null},h.queue=g,o=E0.bind(null,kt,g,v,o),g.dispatch=o,h.memoizedState=e,[s,o,!1]}function jp(e){var s=Ee();return zp(s,ee,e)}function zp(e,s,o){if(s=Ld(e,s,Dp)[0],e=uc(Qn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=ul(s)}catch(S){throw S===Ir?Qu:S}else h=s;s=Ee();var g=s.queue,v=g.dispatch;return o!==s.memoizedState&&(kt.flags|=2048,Gr(9,{destroy:void 0},O0.bind(null,g,o),null)),[h,v,e]}function O0(e,s){e.action=s}function Pp(e){var s=Ee(),o=ee;if(o!==null)return zp(s,o,e);Ee(),s=s.memoizedState,o=Ee();var h=o.queue.dispatch;return o.memoizedState=e,[s,h,!1]}function Gr(e,s,o,h){return e={tag:e,create:o,deps:h,inst:s,next:null},s=kt.updateQueue,s===null&&(s=oc(),kt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=e.next=e:(h=o.next,o.next=e,e.next=h,s.lastEffect=e),e}function Bp(){return Ee().memoizedState}function cc(e,s,o,h){var g=oi();kt.flags|=e,g.memoizedState=Gr(1|s,{destroy:void 0},o,h===void 0?null:h)}function hc(e,s,o,h){var g=Ee();h=h===void 0?null:h;var v=g.memoizedState.inst;ee!==null&&h!==null&&Td(h,ee.memoizedState.deps)?g.memoizedState=Gr(s,v,o,h):(kt.flags|=e,g.memoizedState=Gr(1|s,v,o,h))}function Up(e,s){cc(8390656,8,e,s)}function Nd(e,s){hc(2048,8,e,s)}function A0(e){kt.flags|=4;var s=kt.updateQueue;if(s===null)s=oc(),kt.updateQueue=s,s.events=[e];else{var o=s.events;o===null?s.events=[e]:o.push(e)}}function Hp(e){var s=Ee().memoizedState;return A0({ref:s,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function Ip(e,s){return hc(4,2,e,s)}function qp(e,s){return hc(4,4,e,s)}function Zp(e,s){if(typeof s=="function"){e=e();var o=s(e);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Vp(e,s,o){o=o!=null?o.concat([e]):null,hc(4,4,Zp.bind(null,s,e),o)}function jd(){}function $p(e,s){var o=Ee();s=s===void 0?null:s;var h=o.memoizedState;return s!==null&&Td(s,h[1])?h[0]:(o.memoizedState=[e,s],e)}function Gp(e,s){var o=Ee();s=s===void 0?null:s;var h=o.memoizedState;if(s!==null&&Td(s,h[1]))return h[0];if(h=e(),Ka){Xi(!0);try{e()}finally{Xi(!1)}}return o.memoizedState=[h,s],h}function zd(e,s,o){return o===void 0||(Jn&1073741824)!==0&&(Ht&261930)===0?e.memoizedState=s:(e.memoizedState=o,e=Yg(),kt.lanes|=e,Gs|=e,o)}function Yp(e,s,o,h){return Ie(o,s)?o:Zr.current!==null?(e=zd(e,o,h),Ie(e,s)||(ke=!0),e):(Jn&42)===0||(Jn&1073741824)!==0&&(Ht&261930)===0?(ke=!0,e.memoizedState=o):(e=Yg(),kt.lanes|=e,Gs|=e,s)}function Fp(e,s,o,h,g){var v=nt.p;nt.p=v!==0&&8>v?v:8;var S=Z.T,C={};Z.T=C,Ud(e,!1,s,o);try{var j=g(),$=Z.S;if($!==null&&$(C,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var X=x0(j,h);cl(e,s,X,Mi(e))}else cl(e,s,h,Mi(e))}catch(tt){cl(e,s,{then:function(){},status:"rejected",reason:tt},Mi())}finally{nt.p=v,S!==null&&C.types!==null&&(S.types=C.types),Z.T=S}}function C0(){}function Pd(e,s,o,h){if(e.tag!==5)throw Error(a(476));var g=Wp(e).queue;Fp(e,g,s,it,o===null?C0:function(){return Kp(e),o(h)})}function Wp(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:it},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:o},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Kp(e){var s=Wp(e);s.next===null&&(s=e.alternate.memoizedState),cl(e,s.next.queue,{},Mi())}function Bd(){return Ge(Al)}function Xp(){return Ee().memoizedState}function Jp(){return Ee().memoizedState}function R0(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var o=Mi();e=Hs(o);var h=Is(s,e,o);h!==null&&(yi(h,s,o),al(h,s,o)),s={cache:fd()},e.payload=s;return}s=s.return}}function L0(e,s,o){var h=Mi();o={lane:h,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},dc(e)?tg(s,o):(o=Wo(e,s,o,h),o!==null&&(yi(o,e,h),eg(o,s,h)))}function Qp(e,s,o){var h=Mi();cl(e,s,o,h)}function cl(e,s,o,h){var g={lane:h,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(dc(e))tg(s,g);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var S=s.lastRenderedState,C=v(S,o);if(g.hasEagerState=!0,g.eagerState=C,Ie(C,S))return En(e,s,g,0),re===null&&Ha(),!1}catch{}if(o=Wo(e,s,g,h),o!==null)return yi(o,e,h),eg(o,s,h),!0}return!1}function Ud(e,s,o,h){if(h={lane:2,revertLane:vf(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},dc(e)){if(s)throw Error(a(479))}else s=Wo(e,o,h,2),s!==null&&yi(s,e,2)}function dc(e){var s=e.alternate;return e===kt||s!==null&&s===kt}function tg(e,s){Vr=ac=!0;var o=e.pending;o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s}function eg(e,s,o){if((o&4194048)!==0){var h=s.lanes;h&=e.pendingLanes,o|=h,s.lanes=o,Su(e,o)}}var hl={readContext:Ge,use:lc,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};hl.useEffectEvent=we;var ig={readContext:Ge,use:lc,useCallback:function(e,s){return oi().memoizedState=[e,s===void 0?null:s],e},useContext:Ge,useEffect:Up,useImperativeHandle:function(e,s,o){o=o!=null?o.concat([e]):null,cc(4194308,4,Zp.bind(null,s,e),o)},useLayoutEffect:function(e,s){return cc(4194308,4,e,s)},useInsertionEffect:function(e,s){cc(4,2,e,s)},useMemo:function(e,s){var o=oi();s=s===void 0?null:s;var h=e();if(Ka){Xi(!0);try{e()}finally{Xi(!1)}}return o.memoizedState=[h,s],h},useReducer:function(e,s,o){var h=oi();if(o!==void 0){var g=o(s);if(Ka){Xi(!0);try{o(s)}finally{Xi(!1)}}}else g=s;return h.memoizedState=h.baseState=g,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:g},h.queue=e,e=e.dispatch=L0.bind(null,kt,e),[h.memoizedState,e]},useRef:function(e){var s=oi();return e={current:e},s.memoizedState=e},useState:function(e){e=Md(e);var s=e.queue,o=Qp.bind(null,kt,s);return s.dispatch=o,[e.memoizedState,o]},useDebugValue:jd,useDeferredValue:function(e,s){var o=oi();return zd(o,e,s)},useTransition:function(){var e=Md(!1);return e=Fp.bind(null,kt,e.queue,!0,!1),oi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,o){var h=kt,g=oi();if(zt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),re===null)throw Error(a(349));(Ht&127)!==0||Sp(h,s,o)}g.memoizedState=o;var v={value:o,getSnapshot:s};return g.queue=v,Up(Ep.bind(null,h,v,e),[e]),h.flags|=2048,Gr(9,{destroy:void 0},Tp.bind(null,h,v,o,s),null),o},useId:function(){var e=oi(),s=re.identifierPrefix;if(zt){var o=lt,h=Q;o=(h&~(1<<32-si(h)-1)).toString(32)+o,s="_"+s+"R_"+o,o=rc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=S0++,s="_"+s+"r_"+o.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Bd,useFormState:Np,useActionState:Np,useOptimistic:function(e){var s=oi();s.memoizedState=s.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Ud.bind(null,kt,!0,o),o.dispatch=s,[e,s]},useMemoCache:Rd,useCacheRefresh:function(){return oi().memoizedState=R0.bind(null,kt)},useEffectEvent:function(e){var s=oi(),o={impl:e};return s.memoizedState=o,function(){if((Ft&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Hd={readContext:Ge,use:lc,useCallback:$p,useContext:Ge,useEffect:Nd,useImperativeHandle:Vp,useInsertionEffect:Ip,useLayoutEffect:qp,useMemo:Gp,useReducer:uc,useRef:Bp,useState:function(){return uc(Qn)},useDebugValue:jd,useDeferredValue:function(e,s){var o=Ee();return Yp(o,ee.memoizedState,e,s)},useTransition:function(){var e=uc(Qn)[0],s=Ee().memoizedState;return[typeof e=="boolean"?e:ul(e),s]},useSyncExternalStore:xp,useId:Xp,useHostTransitionStatus:Bd,useFormState:jp,useActionState:jp,useOptimistic:function(e,s){var o=Ee();return Cp(o,ee,e,s)},useMemoCache:Rd,useCacheRefresh:Jp};Hd.useEffectEvent=Hp;var ng={readContext:Ge,use:lc,useCallback:$p,useContext:Ge,useEffect:Nd,useImperativeHandle:Vp,useInsertionEffect:Ip,useLayoutEffect:qp,useMemo:Gp,useReducer:kd,useRef:Bp,useState:function(){return kd(Qn)},useDebugValue:jd,useDeferredValue:function(e,s){var o=Ee();return ee===null?zd(o,e,s):Yp(o,ee.memoizedState,e,s)},useTransition:function(){var e=kd(Qn)[0],s=Ee().memoizedState;return[typeof e=="boolean"?e:ul(e),s]},useSyncExternalStore:xp,useId:Xp,useHostTransitionStatus:Bd,useFormState:Pp,useActionState:Pp,useOptimistic:function(e,s){var o=Ee();return ee!==null?Cp(o,ee,e,s):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Rd,useCacheRefresh:Jp};ng.useEffectEvent=Hp;function Id(e,s,o,h){s=e.memoizedState,o=o(h,s),o=o==null?s:w({},s,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var qd={enqueueSetState:function(e,s,o){e=e._reactInternals;var h=Mi(),g=Hs(h);g.payload=s,o!=null&&(g.callback=o),s=Is(e,g,h),s!==null&&(yi(s,e,h),al(s,e,h))},enqueueReplaceState:function(e,s,o){e=e._reactInternals;var h=Mi(),g=Hs(h);g.tag=1,g.payload=s,o!=null&&(g.callback=o),s=Is(e,g,h),s!==null&&(yi(s,e,h),al(s,e,h))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var o=Mi(),h=Hs(o);h.tag=2,s!=null&&(h.callback=s),s=Is(e,h,o),s!==null&&(yi(s,e,o),al(s,e,o))}};function sg(e,s,o,h,g,v,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(h,v,S):s.prototype&&s.prototype.isPureReactComponent?!Ds(o,h)||!Ds(g,v):!0}function ag(e,s,o,h){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,h),s.state!==e&&qd.enqueueReplaceState(s,s.state,null)}function Xa(e,s){var o=s;if("ref"in s){o={};for(var h in s)h!=="ref"&&(o[h]=s[h])}if(e=e.defaultProps){o===s&&(o=w({},o));for(var g in e)o[g]===void 0&&(o[g]=e[g])}return o}function rg(e){Ua(e)}function og(e){console.error(e)}function lg(e){Ua(e)}function fc(e,s){try{var o=e.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function ug(e,s,o){try{var h=e.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Zd(e,s,o){return o=Hs(o),o.tag=3,o.payload={element:null},o.callback=function(){fc(e,s)},o}function cg(e){return e=Hs(e),e.tag=3,e}function hg(e,s,o,h){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var v=h.value;e.payload=function(){return g(v)},e.callback=function(){ug(s,o,h)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){ug(s,o,h),typeof g!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})})}function k0(e,s,o,h,g){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=o.alternate,s!==null&&Br(s,o,g,!0),o=Ci.current,o!==null){switch(o.tag){case 31:case 13:return Vi===null?Ec():o.alternate===null&&xe===0&&(xe=3),o.flags&=-257,o.flags|=65536,o.lanes=g,h===tc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([h]):s.add(h),pf(e,h,g)),!1;case 22:return o.flags|=65536,h===tc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([h]):o.add(h)),pf(e,h,g)),!1}throw Error(a(435,o.tag))}return pf(e,h,g),Ec(),!1}if(zt)return s=Ci.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==Pr&&(e=Error(a(422),{cause:h}),Za(c(e,o)))):(h!==Pr&&(s=Error(a(423),{cause:h}),Za(c(s,o))),e=e.current.alternate,e.flags|=65536,g&=-g,e.lanes|=g,h=c(h,o),g=Zd(e.stateNode,h,g),yd(e,g),xe!==4&&(xe=2)),!1;var v=Error(a(520),{cause:h});if(v=c(v,o),yl===null?yl=[v]:yl.push(v),xe!==4&&(xe=2),s===null)return!0;h=c(h,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,e=g&-g,o.lanes|=e,e=Zd(o.stateNode,h,e),yd(o,e),!1;case 1:if(s=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ys===null||!Ys.has(v))))return o.flags|=65536,g&=-g,o.lanes|=g,g=cg(g),hg(g,e,o,h),yd(o,g),!1}o=o.return}while(o!==null);return!1}var Vd=Error(a(461)),ke=!1;function Ye(e,s,o,h){s.child=e===null?pp(s,null,o,h):Wa(s,e.child,o,h)}function dg(e,s,o,h,g){o=o.render;var v=s.ref;if("ref"in h){var S={};for(var C in h)C!=="ref"&&(S[C]=h[C])}else S=h;return $a(s),h=Ed(e,s,o,S,v,g),C=Od(),e!==null&&!ke?(Ad(e,s,g),ts(e,s,g)):(zt&&C&&ze(s),s.flags|=1,Ye(e,s,h,g),s.child)}function fg(e,s,o,h,g){if(e===null){var v=o.type;return typeof v=="function"&&!jr(v)&&v.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=v,mg(e,s,v,h,g)):(e=qa(o.type,null,h,s,s.mode,g),e.ref=s.ref,e.return=s,s.child=e)}if(v=e.child,!Jd(e,g)){var S=v.memoizedProps;if(o=o.compare,o=o!==null?o:Ds,o(S,h)&&e.ref===s.ref)return ts(e,s,g)}return s.flags|=1,e=Zi(v,h),e.ref=s.ref,e.return=s,s.child=e}function mg(e,s,o,h,g){if(e!==null){var v=e.memoizedProps;if(Ds(v,h)&&e.ref===s.ref)if(ke=!1,s.pendingProps=h=v,Jd(e,g))(e.flags&131072)!==0&&(ke=!0);else return s.lanes=e.lanes,ts(e,s,g)}return $d(e,s,o,h,g)}function pg(e,s,o,h){var g=h.children,v=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,e!==null){for(h=s.child=e.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~v}else h=0,s.child=null;return gg(e,s,v,o,h)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ju(s,v!==null?v.cachePool:null),v!==null?vp(s,v):wd(),yp(s);else return h=s.lanes=536870912,gg(e,s,v!==null?v.baseLanes|o:o,o,h)}else v!==null?(Ju(s,v.cachePool),vp(s,v),Zs(),s.memoizedState=null):(e!==null&&Ju(s,null),wd(),Zs());return Ye(e,s,g,o),s.child}function dl(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function gg(e,s,o,h,g){var v=pd();return v=v===null?null:{parent:Re._currentValue,pool:v},s.memoizedState={baseLanes:o,cachePool:v},e!==null&&Ju(s,null),wd(),yp(s),e!==null&&Br(e,s,h,!0),s.childLanes=g,null}function mc(e,s){return s=gc({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function _g(e,s,o){return Wa(s,e.child,null,o),e=mc(s,s.pendingProps),e.flags|=2,Ri(s),s.memoizedState=null,e}function M0(e,s,o){var h=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(zt){if(h.mode==="hidden")return e=mc(s,h),s.lanes=536870912,dl(null,e);if(Sd(s),(e=Vt)?(e=R_(e,mi),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:G!==null?{id:Q,overflow:lt}:null,retryLane:536870912,hydrationErrors:null},o=Xo(e),o.return=s,s.child=o,Zt=s,Vt=null)):e=null,e===null)throw An(s);return s.lanes=536870912,null}return mc(s,h)}var v=e.memoizedState;if(v!==null){var S=v.dehydrated;if(Sd(s),g)if(s.flags&256)s.flags&=-257,s=_g(e,s,o);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(a(558));else if(ke||Br(e,s,o,!1),g=(o&e.childLanes)!==0,ke||g){if(h=re,h!==null&&(S=Tu(h,o),S!==0&&S!==v.retryLane))throw v.retryLane=S,qi(e,S),yi(h,e,S),Vd;Ec(),s=_g(e,s,o)}else e=v.treeContext,Vt=$i(S.nextSibling),Zt=s,zt=!0,On=null,mi=!1,e!==null&&ri(s,e),s=mc(s,h),s.flags|=4096;return s}return e=Zi(e.child,{mode:h.mode,children:h.children}),e.ref=s.ref,s.child=e,e.return=s,e}function pc(e,s){var o=s.ref;if(o===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(s.flags|=4194816)}}function $d(e,s,o,h,g){return $a(s),o=Ed(e,s,o,h,void 0,g),h=Od(),e!==null&&!ke?(Ad(e,s,g),ts(e,s,g)):(zt&&h&&ze(s),s.flags|=1,Ye(e,s,o,g),s.child)}function vg(e,s,o,h,g,v){return $a(s),s.updateQueue=null,o=wp(s,h,o,g),bp(e),h=Od(),e!==null&&!ke?(Ad(e,s,v),ts(e,s,v)):(zt&&h&&ze(s),s.flags|=1,Ye(e,s,o,v),s.child)}function yg(e,s,o,h,g){if($a(s),s.stateNode===null){var v=Fn,S=o.contextType;typeof S=="object"&&S!==null&&(v=Ge(S)),v=new o(h,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=qd,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=h,v.state=s.memoizedState,v.refs={},_d(s),S=o.contextType,v.context=typeof S=="object"&&S!==null?Ge(S):Fn,v.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Id(s,o,S,h),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&qd.enqueueReplaceState(v,v.state,null),ol(s,h,v,g),rl(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(e===null){v=s.stateNode;var C=s.memoizedProps,j=Xa(o,C);v.props=j;var $=v.context,X=o.contextType;S=Fn,typeof X=="object"&&X!==null&&(S=Ge(X));var tt=o.getDerivedStateFromProps;X=typeof tt=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,X||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||$!==S)&&ag(s,v,h,S),Us=!1;var Y=s.memoizedState;v.state=Y,ol(s,h,v,g),rl(),$=s.memoizedState,C||Y!==$||Us?(typeof tt=="function"&&(Id(s,o,tt,h),$=s.memoizedState),(j=Us||sg(s,o,j,h,Y,$,S))?(X||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=$),v.props=h,v.state=$,v.context=S,h=j):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{v=s.stateNode,vd(e,s),S=s.memoizedProps,X=Xa(o,S),v.props=X,tt=s.pendingProps,Y=v.context,$=o.contextType,j=Fn,typeof $=="object"&&$!==null&&(j=Ge($)),C=o.getDerivedStateFromProps,($=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==tt||Y!==j)&&ag(s,v,h,j),Us=!1,Y=s.memoizedState,v.state=Y,ol(s,h,v,g),rl();var F=s.memoizedState;S!==tt||Y!==F||Us||e!==null&&e.dependencies!==null&&Ku(e.dependencies)?(typeof C=="function"&&(Id(s,o,C,h),F=s.memoizedState),(X=Us||sg(s,o,X,h,Y,F,j)||e!==null&&e.dependencies!==null&&Ku(e.dependencies))?($||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,F,j),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,F,j)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===e.memoizedProps&&Y===e.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&Y===e.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=F),v.props=h,v.state=F,v.context=j,h=X):(typeof v.componentDidUpdate!="function"||S===e.memoizedProps&&Y===e.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&Y===e.memoizedState||(s.flags|=1024),h=!1)}return v=h,pc(e,s),h=(s.flags&128)!==0,v||h?(v=s.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,e!==null&&h?(s.child=Wa(s,e.child,null,g),s.child=Wa(s,null,o,g)):Ye(e,s,o,g),s.memoizedState=v.state,e=s.child):e=ts(e,s,g),e}function bg(e,s,o,h){return Kn(),s.flags|=256,Ye(e,s,o,h),s.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(e){return{baseLanes:e,cachePool:up()}}function Fd(e,s,o){return e=e!==null?e.childLanes&~o:0,s&&(e|=ki),e}function wg(e,s,o){var h=s.pendingProps,g=!1,v=(s.flags&128)!==0,S;if((S=v)||(S=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),S&&(g=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,e===null){if(zt){if(g?qs(s):Zs(),(e=Vt)?(e=R_(e,mi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:G!==null?{id:Q,overflow:lt}:null,retryLane:536870912,hydrationErrors:null},o=Xo(e),o.return=s,s.child=o,Zt=s,Vt=null)):e=null,e===null)throw An(s);return kf(e)?s.lanes=32:s.lanes=536870912,null}var C=h.children;return h=h.fallback,g?(Zs(),g=s.mode,C=gc({mode:"hidden",children:C},g),h=Wn(h,g,o,null),C.return=s,h.return=s,C.sibling=h,s.child=C,h=s.child,h.memoizedState=Yd(o),h.childLanes=Fd(e,S,o),s.memoizedState=Gd,dl(null,h)):(qs(s),Wd(s,C))}var j=e.memoizedState;if(j!==null&&(C=j.dehydrated,C!==null)){if(v)s.flags&256?(qs(s),s.flags&=-257,s=Kd(e,s,o)):s.memoizedState!==null?(Zs(),s.child=e.child,s.flags|=128,s=null):(Zs(),C=h.fallback,g=s.mode,h=gc({mode:"visible",children:h.children},g),C=Wn(C,g,o,null),C.flags|=2,h.return=s,C.return=s,h.sibling=C,s.child=h,Wa(s,e.child,null,o),h=s.child,h.memoizedState=Yd(o),h.childLanes=Fd(e,S,o),s.memoizedState=Gd,s=dl(null,h));else if(qs(s),kf(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var $=S.dgst;S=$,h=Error(a(419)),h.stack="",h.digest=S,Za({value:h,source:null,stack:null}),s=Kd(e,s,o)}else if(ke||Br(e,s,o,!1),S=(o&e.childLanes)!==0,ke||S){if(S=re,S!==null&&(h=Tu(S,o),h!==0&&h!==j.retryLane))throw j.retryLane=h,qi(e,h),yi(S,e,h),Vd;Lf(C)||Ec(),s=Kd(e,s,o)}else Lf(C)?(s.flags|=192,s.child=e.child,s=null):(e=j.treeContext,Vt=$i(C.nextSibling),Zt=s,zt=!0,On=null,mi=!1,e!==null&&ri(s,e),s=Wd(s,h.children),s.flags|=4096);return s}return g?(Zs(),C=h.fallback,g=s.mode,j=e.child,$=j.sibling,h=Zi(j,{mode:"hidden",children:h.children}),h.subtreeFlags=j.subtreeFlags&65011712,$!==null?C=Zi($,C):(C=Wn(C,g,o,null),C.flags|=2),C.return=s,h.return=s,h.sibling=C,s.child=h,dl(null,h),h=s.child,C=e.child.memoizedState,C===null?C=Yd(o):(g=C.cachePool,g!==null?(j=Re._currentValue,g=g.parent!==j?{parent:j,pool:j}:g):g=up(),C={baseLanes:C.baseLanes|o,cachePool:g}),h.memoizedState=C,h.childLanes=Fd(e,S,o),s.memoizedState=Gd,dl(e.child,h)):(qs(s),o=e.child,e=o.sibling,o=Zi(o,{mode:"visible",children:h.children}),o.return=s,o.sibling=null,e!==null&&(S=s.deletions,S===null?(s.deletions=[e],s.flags|=16):S.push(e)),s.child=o,s.memoizedState=null,o)}function Wd(e,s){return s=gc({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function gc(e,s){return e=Qe(22,e,null,s),e.lanes=0,e}function Kd(e,s,o){return Wa(s,e.child,null,o),e=Wd(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function xg(e,s,o){e.lanes|=s;var h=e.alternate;h!==null&&(h.lanes|=s),hd(e.return,s,o)}function Xd(e,s,o,h,g,v){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:g,treeForkCount:v}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=o,S.tailMode=g,S.treeForkCount=v)}function Sg(e,s,o){var h=s.pendingProps,g=h.revealOrder,v=h.tail;h=h.children;var S=Te.current,C=(S&2)!==0;if(C?(S=S&1|2,s.flags|=128):S&=1,rt(Te,S),Ye(e,s,h,o),h=zt?A:0,!C&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xg(e,o,s);else if(e.tag===19)xg(e,o,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(g){case"forwards":for(o=s.child,g=null;o!==null;)e=o.alternate,e!==null&&sc(e)===null&&(g=o),o=o.sibling;o=g,o===null?(g=s.child,s.child=null):(g=o.sibling,o.sibling=null),Xd(s,!1,g,o,v,h);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=s.child,s.child=null;g!==null;){if(e=g.alternate,e!==null&&sc(e)===null){s.child=g;break}e=g.sibling,g.sibling=o,o=g,g=e}Xd(s,!0,o,null,v,h);break;case"together":Xd(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function ts(e,s,o){if(e!==null&&(s.dependencies=e.dependencies),Gs|=s.lanes,(o&s.childLanes)===0)if(e!==null){if(Br(e,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(a(153));if(s.child!==null){for(e=s.child,o=Zi(e,e.pendingProps),s.child=o,o.return=s;e.sibling!==null;)e=e.sibling,o=o.sibling=Zi(e,e.pendingProps),o.return=s;o.sibling=null}return s.child}function Jd(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Ku(e)))}function D0(e,s,o){switch(s.tag){case 3:fe(s,s.stateNode.containerInfo),Bs(s,Re,e.memoizedState.cache),Kn();break;case 27:case 5:zn(s);break;case 4:fe(s,s.stateNode.containerInfo);break;case 10:Bs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Sd(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(qs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?wg(e,s,o):(qs(s),e=ts(e,s,o),e!==null?e.sibling:null);qs(s);break;case 19:var g=(e.flags&128)!==0;if(h=(o&s.childLanes)!==0,h||(Br(e,s,o,!1),h=(o&s.childLanes)!==0),g){if(h)return Sg(e,s,o);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),rt(Te,Te.current),h)break;return null;case 22:return s.lanes=0,pg(e,s,o,s.pendingProps);case 24:Bs(s,Re,e.memoizedState.cache)}return ts(e,s,o)}function Tg(e,s,o){if(e!==null)if(e.memoizedProps!==s.pendingProps)ke=!0;else{if(!Jd(e,o)&&(s.flags&128)===0)return ke=!1,D0(e,s,o);ke=(e.flags&131072)!==0}else ke=!1,zt&&(s.flags&1048576)!==0&&Mt(s,A,s.index);switch(s.lanes=0,s.tag){case 16:t:{var h=s.pendingProps;if(e=Ya(s.elementType),s.type=e,typeof e=="function")jr(e)?(h=Xa(e,h),s.tag=1,s=yg(null,s,e,h,o)):(s.tag=0,s=$d(null,s,e,h,o));else{if(e!=null){var g=e.$$typeof;if(g===W){s.tag=11,s=dg(null,s,e,h,o);break t}else if(g===st){s.tag=14,s=fg(null,s,e,h,o);break t}}throw s=qt(e)||e,Error(a(306,s,""))}}return s;case 0:return $d(e,s,s.type,s.pendingProps,o);case 1:return h=s.type,g=Xa(h,s.pendingProps),yg(e,s,h,g,o);case 3:t:{if(fe(s,s.stateNode.containerInfo),e===null)throw Error(a(387));h=s.pendingProps;var v=s.memoizedState;g=v.element,vd(e,s),ol(s,h,null,o);var S=s.memoizedState;if(h=S.cache,Bs(s,Re,h),h!==v.cache&&dd(s,[Re],o,!0),rl(),h=S.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=bg(e,s,h,o);break t}else if(h!==g){g=c(Error(a(424)),s),Za(g),s=bg(e,s,h,o);break t}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Vt=$i(e.firstChild),Zt=s,zt=!0,On=null,mi=!0,o=pp(s,null,h,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Kn(),h===g){s=ts(e,s,o);break t}Ye(e,s,h,o)}s=s.child}return s;case 26:return pc(e,s),e===null?(o=j_(s.type,null,s.pendingProps,null))?s.memoizedState=o:zt||(o=s.type,e=s.pendingProps,h=Mc(ut.current).createElement(o),h[Ae]=s,h[He]=e,Fe(h,o,e),Ce(h),s.stateNode=h):s.memoizedState=j_(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return zn(s),e===null&&zt&&(h=s.stateNode=M_(s.type,s.pendingProps,ut.current),Zt=s,mi=!0,g=Vt,Xs(s.type)?(Mf=g,Vt=$i(h.firstChild)):Vt=g),Ye(e,s,s.pendingProps.children,o),pc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&zt&&((g=h=Vt)&&(h=uw(h,s.type,s.pendingProps,mi),h!==null?(s.stateNode=h,Zt=s,Vt=$i(h.firstChild),mi=!1,g=!0):g=!1),g||An(s)),zn(s),g=s.type,v=s.pendingProps,S=e!==null?e.memoizedProps:null,h=v.children,Af(g,v)?h=null:S!==null&&Af(g,S)&&(s.flags|=32),s.memoizedState!==null&&(g=Ed(e,s,T0,null,null,o),Al._currentValue=g),pc(e,s),Ye(e,s,h,o),s.child;case 6:return e===null&&zt&&((e=o=Vt)&&(o=cw(o,s.pendingProps,mi),o!==null?(s.stateNode=o,Zt=s,Vt=null,e=!0):e=!1),e||An(s)),null;case 13:return wg(e,s,o);case 4:return fe(s,s.stateNode.containerInfo),h=s.pendingProps,e===null?s.child=Wa(s,null,h,o):Ye(e,s,h,o),s.child;case 11:return dg(e,s,s.type,s.pendingProps,o);case 7:return Ye(e,s,s.pendingProps,o),s.child;case 8:return Ye(e,s,s.pendingProps.children,o),s.child;case 12:return Ye(e,s,s.pendingProps.children,o),s.child;case 10:return h=s.pendingProps,Bs(s,s.type,h.value),Ye(e,s,h.children,o),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,$a(s),g=Ge(g),h=h(g),s.flags|=1,Ye(e,s,h,o),s.child;case 14:return fg(e,s,s.type,s.pendingProps,o);case 15:return mg(e,s,s.type,s.pendingProps,o);case 19:return Sg(e,s,o);case 31:return M0(e,s,o);case 22:return pg(e,s,o,s.pendingProps);case 24:return $a(s),h=Ge(Re),e===null?(g=pd(),g===null&&(g=re,v=fd(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=o),g=v),s.memoizedState={parent:h,cache:g},_d(s),Bs(s,Re,g)):((e.lanes&o)!==0&&(vd(e,s),ol(s,null,null,o),rl()),g=e.memoizedState,v=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Bs(s,Re,h)):(h=v.cache,Bs(s,Re,h),h!==g.cache&&dd(s,[Re],o,!0))),Ye(e,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function es(e){e.flags|=4}function Qd(e,s,o,h,g){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(g&335544128)===g)if(e.stateNode.complete)e.flags|=8192;else if(Xg())e.flags|=8192;else throw Fa=tc,gd}else e.flags&=-16777217}function Eg(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!H_(s))if(Xg())e.flags|=8192;else throw Fa=tc,gd}function _c(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?wu():536870912,e.lanes|=s,Kr|=s)}function fl(e,s){if(!zt)switch(e.tailMode){case"hidden":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:h.sibling=null}}function ce(e){var s=e.alternate!==null&&e.alternate.child===e.child,o=0,h=0;if(s)for(var g=e.child;g!==null;)o|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)o|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=h,e.childLanes=o,s}function N0(e,s,o){var h=s.pendingProps;switch(be(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(s),null;case 1:return ce(s),null;case 3:return o=s.stateNode,h=null,e!==null&&(h=e.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Xn(Re),me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(an(s)?es(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,tl())),ce(s),null;case 26:var g=s.type,v=s.memoizedState;return e===null?(es(s),v!==null?(ce(s),Eg(s,v)):(ce(s),Qd(s,g,null,h,o))):v?v!==e.memoizedState?(es(s),ce(s),Eg(s,v)):(ce(s),s.flags&=-16777217):(e=e.memoizedProps,e!==h&&es(s),ce(s),Qd(s,g,e,h,o)),null;case 27:if(vs(s),o=ut.current,g=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==h&&es(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return ce(s),null}e=ot.current,an(s)?Qo(s):(e=M_(g,h,o),s.stateNode=e,es(s))}return ce(s),null;case 5:if(vs(s),g=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==h&&es(s);else{if(!h){if(s.stateNode===null)throw Error(a(166));return ce(s),null}if(v=ot.current,an(s))Qo(s);else{var S=Mc(ut.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof h.is=="string"?S.createElement("select",{is:h.is}):S.createElement("select"),h.multiple?v.multiple=!0:h.size&&(v.size=h.size);break;default:v=typeof h.is=="string"?S.createElement(g,{is:h.is}):S.createElement(g)}}v[Ae]=s,v[He]=h;t:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break t;for(;S.sibling===null;){if(S.return===null||S.return===s)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=v;t:switch(Fe(v,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&es(s)}}return ce(s),Qd(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,o),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==h&&es(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(a(166));if(e=ut.current,an(s)){if(e=s.stateNode,o=s.memoizedProps,h=null,g=Zt,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}e[Ae]=s,e=!!(e.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||w_(e.nodeValue,o)),e||An(s,!0)}else e=Mc(e).createTextNode(h),e[Ae]=s,s.stateNode=e}return ce(s),null;case 31:if(o=s.memoizedState,e===null||e.memoizedState!==null){if(h=an(s),o!==null){if(e===null){if(!h)throw Error(a(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ae]=s}else Kn(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ce(s),e=!1}else o=tl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return s.flags&256?(Ri(s),s):(Ri(s),null);if((s.flags&128)!==0)throw Error(a(558))}return ce(s),null;case 13:if(h=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(g=an(s),h!==null&&h.dehydrated!==null){if(e===null){if(!g)throw Error(a(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[Ae]=s}else Kn(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ce(s),g=!1}else g=tl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Ri(s),s):(Ri(s),null)}return Ri(s),(s.flags&128)!==0?(s.lanes=o,s):(o=h!==null,e=e!==null&&e.memoizedState!==null,o&&(h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048)),o!==e&&o&&(s.child.flags|=8192),_c(s,s.updateQueue),ce(s),null);case 4:return me(),e===null&&xf(s.stateNode.containerInfo),ce(s),null;case 10:return Xn(s.type),ce(s),null;case 19:if(K(Te),h=s.memoizedState,h===null)return ce(s),null;if(g=(s.flags&128)!==0,v=h.rendering,v===null)if(g)fl(h,!1);else{if(xe!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(v=sc(e),v!==null){for(s.flags|=128,fl(h,!1),e=v.updateQueue,s.updateQueue=e,_c(s,e),s.subtreeFlags=0,e=o,o=s.child;o!==null;)Ko(o,e),o=o.sibling;return rt(Te,Te.current&1|2),zt&&_t(s,h.treeForkCount),s.child}e=e.sibling}h.tail!==null&&ni()>xc&&(s.flags|=128,g=!0,fl(h,!1),s.lanes=4194304)}else{if(!g)if(e=sc(v),e!==null){if(s.flags|=128,g=!0,e=e.updateQueue,s.updateQueue=e,_c(s,e),fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!zt)return ce(s),null}else 2*ni()-h.renderingStartTime>xc&&o!==536870912&&(s.flags|=128,g=!0,fl(h,!1),s.lanes=4194304);h.isBackwards?(v.sibling=s.child,s.child=v):(e=h.last,e!==null?e.sibling=v:s.child=v,h.last=v)}return h.tail!==null?(e=h.tail,h.rendering=e,h.tail=e.sibling,h.renderingStartTime=ni(),e.sibling=null,o=Te.current,rt(Te,g?o&1|2:o&1),zt&&_t(s,h.treeForkCount),e):(ce(s),null);case 22:case 23:return Ri(s),xd(),h=s.memoizedState!==null,e!==null?e.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(o&536870912)!==0&&(s.flags&128)===0&&(ce(s),s.subtreeFlags&6&&(s.flags|=8192)):ce(s),o=s.updateQueue,o!==null&&_c(s,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==o&&(s.flags|=2048),e!==null&&K(Ga),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Xn(Re),ce(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function j0(e,s){switch(be(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Xn(Re),me(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return vs(s),null;case 31:if(s.memoizedState!==null){if(Ri(s),s.alternate===null)throw Error(a(340));Kn()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Ri(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Kn()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return K(Te),null;case 4:return me(),null;case 10:return Xn(s.type),null;case 22:case 23:return Ri(s),xd(),e!==null&&K(Ga),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Xn(Re),null;case 25:return null;default:return null}}function Og(e,s){switch(be(s),s.tag){case 3:Xn(Re),me();break;case 26:case 27:case 5:vs(s);break;case 4:me();break;case 31:s.memoizedState!==null&&Ri(s);break;case 13:Ri(s);break;case 19:K(Te);break;case 10:Xn(s.type);break;case 22:case 23:Ri(s),xd(),e!==null&&K(Ga);break;case 24:Xn(Re)}}function ml(e,s){try{var o=s.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var g=h.next;o=g;do{if((o.tag&e)===e){h=void 0;var v=o.create,S=o.inst;h=v(),S.destroy=h}o=o.next}while(o!==g)}}catch(C){Xt(s,s.return,C)}}function Vs(e,s,o){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&e)===e){var S=h.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,g=s;var j=o,$=C;try{$()}catch(X){Xt(g,j,X)}}}h=h.next}while(h!==v)}}catch(X){Xt(s,s.return,X)}}function Ag(e){var s=e.updateQueue;if(s!==null){var o=e.stateNode;try{_p(s,o)}catch(h){Xt(e,e.return,h)}}}function Cg(e,s,o){o.props=Xa(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(h){Xt(e,s,h)}}function pl(e,s){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var h=e.stateNode;break;case 30:h=e.stateNode;break;default:h=e.stateNode}typeof o=="function"?e.refCleanup=o(h):o.current=h}}catch(g){Xt(e,s,g)}}function Rn(e,s){var o=e.ref,h=e.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(g){Xt(e,s,g)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){Xt(e,s,g)}else o.current=null}function Rg(e){var s=e.type,o=e.memoizedProps,h=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break t;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(g){Xt(e,e.return,g)}}function tf(e,s,o){try{var h=e.stateNode;nw(h,e.type,o,s),h[He]=s}catch(g){Xt(e,e.return,g)}}function Lg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xs(e.type)||e.tag===4}function ef(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Lg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nf(e,s,o){var h=e.tag;if(h===5||h===6)e=e.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(e),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ci));else if(h!==4&&(h===27&&Xs(e.type)&&(o=e.stateNode,s=null),e=e.child,e!==null))for(nf(e,s,o),e=e.sibling;e!==null;)nf(e,s,o),e=e.sibling}function vc(e,s,o){var h=e.tag;if(h===5||h===6)e=e.stateNode,s?o.insertBefore(e,s):o.appendChild(e);else if(h!==4&&(h===27&&Xs(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(vc(e,s,o),e=e.sibling;e!==null;)vc(e,s,o),e=e.sibling}function kg(e){var s=e.stateNode,o=e.memoizedProps;try{for(var h=e.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Fe(s,h,o),s[Ae]=e,s[He]=o}catch(v){Xt(e,e.return,v)}}var is=!1,Me=!1,sf=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function z0(e,s){if(e=e.containerInfo,Ef=Uc,e=ja(e),wn(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break t}var S=0,C=-1,j=-1,$=0,X=0,tt=e,Y=null;e:for(;;){for(var F;tt!==o||g!==0&&tt.nodeType!==3||(C=S+g),tt!==v||h!==0&&tt.nodeType!==3||(j=S+h),tt.nodeType===3&&(S+=tt.nodeValue.length),(F=tt.firstChild)!==null;)Y=tt,tt=F;for(;;){if(tt===e)break e;if(Y===o&&++$===g&&(C=S),Y===v&&++X===h&&(j=S),(F=tt.nextSibling)!==null)break;tt=Y,Y=tt.parentNode}tt=F}o=C===-1||j===-1?null:{start:C,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Of={focusedElem:e,selectionRange:o},Uc=!1,Ze=s;Ze!==null;)if(s=Ze,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,Ze=e;else for(;Ze!==null;){switch(s=Ze,v=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)g=e[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,o=s,g=v.memoizedProps,v=v.memoizedState,h=o.stateNode;try{var ft=Xa(o.type,g);e=h.getSnapshotBeforeUpdate(ft,v),h.__reactInternalSnapshotBeforeUpdate=e}catch(xt){Xt(o,o.return,xt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,o=e.nodeType,o===9)Rf(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=s.sibling,e!==null){e.return=s.return,Ze=e;break}Ze=s.return}}function Dg(e,s,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:ss(e,o),h&4&&ml(5,o);break;case 1:if(ss(e,o),h&4)if(e=o.stateNode,s===null)try{e.componentDidMount()}catch(S){Xt(o,o.return,S)}else{var g=Xa(o.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(g,s,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Xt(o,o.return,S)}}h&64&&Ag(o),h&512&&pl(o,o.return);break;case 3:if(ss(e,o),h&64&&(e=o.updateQueue,e!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{_p(e,s)}catch(S){Xt(o,o.return,S)}}break;case 27:s===null&&h&4&&kg(o);case 26:case 5:ss(e,o),s===null&&h&4&&Rg(o),h&512&&pl(o,o.return);break;case 12:ss(e,o);break;case 31:ss(e,o),h&4&&zg(e,o);break;case 13:ss(e,o),h&4&&Pg(e,o),h&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=$0.bind(null,o),hw(e,o))));break;case 22:if(h=o.memoizedState!==null||is,!h){s=s!==null&&s.memoizedState!==null||Me,g=is;var v=Me;is=h,(Me=s)&&!v?as(e,o,(o.subtreeFlags&8772)!==0):ss(e,o),is=g,Me=v}break;case 30:break;default:ss(e,o)}}function Ng(e){var s=e.alternate;s!==null&&(e.alternate=null,Ng(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Mo(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,pi=!1;function ns(e,s,o){for(o=o.child;o!==null;)jg(e,s,o),o=o.sibling}function jg(e,s,o){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(ys,o)}catch{}switch(o.tag){case 26:Me||Rn(o,s),ns(e,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Me||Rn(o,s);var h=ge,g=pi;Xs(o.type)&&(ge=o.stateNode,pi=!1),ns(e,s,o),Tl(o.stateNode),ge=h,pi=g;break;case 5:Me||Rn(o,s);case 6:if(h=ge,g=pi,ge=null,ns(e,s,o),ge=h,pi=g,ge!==null)if(pi)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(o.stateNode)}catch(v){Xt(o,s,v)}else try{ge.removeChild(o.stateNode)}catch(v){Xt(o,s,v)}break;case 18:ge!==null&&(pi?(e=ge,A_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),so(e)):A_(ge,o.stateNode));break;case 4:h=ge,g=pi,ge=o.stateNode.containerInfo,pi=!0,ns(e,s,o),ge=h,pi=g;break;case 0:case 11:case 14:case 15:Vs(2,o,s),Me||Vs(4,o,s),ns(e,s,o);break;case 1:Me||(Rn(o,s),h=o.stateNode,typeof h.componentWillUnmount=="function"&&Cg(o,s,h)),ns(e,s,o);break;case 21:ns(e,s,o);break;case 22:Me=(h=Me)||o.memoizedState!==null,ns(e,s,o),Me=h;break;default:ns(e,s,o)}}function zg(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{so(e)}catch(o){Xt(s,s.return,o)}}}function Pg(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{so(e)}catch(o){Xt(s,s.return,o)}}function P0(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Mg),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Mg),s;default:throw Error(a(435,e.tag))}}function yc(e,s){var o=P0(e);s.forEach(function(h){if(!o.has(h)){o.add(h);var g=G0.bind(null,e,h);h.then(g,g)}})}function gi(e,s){var o=s.deletions;if(o!==null)for(var h=0;h<o.length;h++){var g=o[h],v=e,S=s,C=S;t:for(;C!==null;){switch(C.tag){case 27:if(Xs(C.type)){ge=C.stateNode,pi=!1;break t}break;case 5:ge=C.stateNode,pi=!1;break t;case 3:case 4:ge=C.stateNode.containerInfo,pi=!0;break t}C=C.return}if(ge===null)throw Error(a(160));jg(v,S,g),ge=null,pi=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Bg(s,e),s=s.sibling}var on=null;function Bg(e,s){var o=e.alternate,h=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gi(s,e),_i(e),h&4&&(Vs(3,e,e.return),ml(3,e),Vs(5,e,e.return));break;case 1:gi(s,e),_i(e),h&512&&(Me||o===null||Rn(o,o.return)),h&64&&is&&(e=e.updateQueue,e!==null&&(h=e.callbacks,h!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var g=on;if(gi(s,e),_i(e),h&512&&(Me||o===null||Rn(o,o.return)),h&4){var v=o!==null?o.memoizedState:null;if(h=e.memoizedState,o===null)if(h===null)if(e.stateNode===null){t:{h=e.type,o=e.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":v=g.getElementsByTagName("title")[0],(!v||v[ya]||v[Ae]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(h),g.head.insertBefore(v,g.querySelector("head > title"))),Fe(v,h,o),v[Ae]=e,Ce(v),h=v;break t;case"link":var S=B_("link","href",g).get(h+(o.href||""));if(S){for(var C=0;C<S.length;C++)if(v=S[C],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(C,1);break e}}v=g.createElement(h),Fe(v,h,o),g.head.appendChild(v);break;case"meta":if(S=B_("meta","content",g).get(h+(o.content||""))){for(C=0;C<S.length;C++)if(v=S[C],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(C,1);break e}}v=g.createElement(h),Fe(v,h,o),g.head.appendChild(v);break;default:throw Error(a(468,h))}v[Ae]=e,Ce(v),h=v}e.stateNode=h}else U_(g,e.type,e.stateNode);else e.stateNode=P_(g,h,e.memoizedProps);else v!==h?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,h===null?U_(g,e.type,e.stateNode):P_(g,h,e.memoizedProps)):h===null&&e.stateNode!==null&&tf(e,e.memoizedProps,o.memoizedProps)}break;case 27:gi(s,e),_i(e),h&512&&(Me||o===null||Rn(o,o.return)),o!==null&&h&4&&tf(e,e.memoizedProps,o.memoizedProps);break;case 5:if(gi(s,e),_i(e),h&512&&(Me||o===null||Rn(o,o.return)),e.flags&32){g=e.stateNode;try{zi(g,"")}catch(ft){Xt(e,e.return,ft)}}h&4&&e.stateNode!=null&&(g=e.memoizedProps,tf(e,g,o!==null?o.memoizedProps:g)),h&1024&&(sf=!0);break;case 6:if(gi(s,e),_i(e),h&4){if(e.stateNode===null)throw Error(a(162));h=e.memoizedProps,o=e.stateNode;try{o.nodeValue=h}catch(ft){Xt(e,e.return,ft)}}break;case 3:if(jc=null,g=on,on=Dc(s.containerInfo),gi(s,e),on=g,_i(e),h&4&&o!==null&&o.memoizedState.isDehydrated)try{so(s.containerInfo)}catch(ft){Xt(e,e.return,ft)}sf&&(sf=!1,Ug(e));break;case 4:h=on,on=Dc(e.stateNode.containerInfo),gi(s,e),_i(e),on=h;break;case 12:gi(s,e),_i(e);break;case 31:gi(s,e),_i(e),h&4&&(h=e.updateQueue,h!==null&&(e.updateQueue=null,yc(e,h)));break;case 13:gi(s,e),_i(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wc=ni()),h&4&&(h=e.updateQueue,h!==null&&(e.updateQueue=null,yc(e,h)));break;case 22:g=e.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,$=is,X=Me;if(is=$||g,Me=X||j,gi(s,e),Me=X,is=$,_i(e),h&8192)t:for(s=e.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(o===null||j||is||Me||Ja(e)),o=null,s=e;;){if(s.tag===5||s.tag===26){if(o===null){j=o=s;try{if(v=j.stateNode,g)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=j.stateNode;var tt=j.memoizedProps.style,Y=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;C.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ft){Xt(j,j.return,ft)}}}else if(s.tag===6){if(o===null){j=s;try{j.stateNode.nodeValue=g?"":j.memoizedProps}catch(ft){Xt(j,j.return,ft)}}}else if(s.tag===18){if(o===null){j=s;try{var F=j.stateNode;g?C_(F,!0):C_(j.stateNode,!1)}catch(ft){Xt(j,j.return,ft)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=e.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,yc(e,o))));break;case 19:gi(s,e),_i(e),h&4&&(h=e.updateQueue,h!==null&&(e.updateQueue=null,yc(e,h)));break;case 30:break;case 21:break;default:gi(s,e),_i(e)}}function _i(e){var s=e.flags;if(s&2){try{for(var o,h=e.return;h!==null;){if(Lg(h)){o=h;break}h=h.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var g=o.stateNode,v=ef(e);vc(e,v,g);break;case 5:var S=o.stateNode;o.flags&32&&(zi(S,""),o.flags&=-33);var C=ef(e);vc(e,C,S);break;case 3:case 4:var j=o.stateNode.containerInfo,$=ef(e);nf(e,$,j);break;default:throw Error(a(161))}}catch(X){Xt(e,e.return,X)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Ug(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function ss(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Dg(e,s.alternate,s),s=s.sibling}function Ja(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Vs(4,s,s.return),Ja(s);break;case 1:Rn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Cg(s,s.return,o),Ja(s);break;case 27:Tl(s.stateNode);case 26:case 5:Rn(s,s.return),Ja(s);break;case 22:s.memoizedState===null&&Ja(s);break;case 30:Ja(s);break;default:Ja(s)}e=e.sibling}}function as(e,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=e,v=s,S=v.flags;switch(v.tag){case 0:case 11:case 15:as(g,v,o),ml(4,v);break;case 1:if(as(g,v,o),h=v,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch($){Xt(h,h.return,$)}if(h=v,g=h.updateQueue,g!==null){var C=h.stateNode;try{var j=g.shared.hiddenCallbacks;if(j!==null)for(g.shared.hiddenCallbacks=null,g=0;g<j.length;g++)gp(j[g],C)}catch($){Xt(h,h.return,$)}}o&&S&64&&Ag(v),pl(v,v.return);break;case 27:kg(v);case 26:case 5:as(g,v,o),o&&h===null&&S&4&&Rg(v),pl(v,v.return);break;case 12:as(g,v,o);break;case 31:as(g,v,o),o&&S&4&&zg(g,v);break;case 13:as(g,v,o),o&&S&4&&Pg(g,v);break;case 22:v.memoizedState===null&&as(g,v,o),pl(v,v.return);break;case 30:break;default:as(g,v,o)}s=s.sibling}}function af(e,s){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&el(o))}function rf(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&el(e))}function ln(e,s,o,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Hg(e,s,o,h),s=s.sibling}function Hg(e,s,o,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:ln(e,s,o,h),g&2048&&ml(9,s);break;case 1:ln(e,s,o,h);break;case 3:ln(e,s,o,h),g&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&el(e)));break;case 12:if(g&2048){ln(e,s,o,h),e=s.stateNode;try{var v=s.memoizedProps,S=v.id,C=v.onPostCommit;typeof C=="function"&&C(S,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Xt(s,s.return,j)}}else ln(e,s,o,h);break;case 31:ln(e,s,o,h);break;case 13:ln(e,s,o,h);break;case 23:break;case 22:v=s.stateNode,S=s.alternate,s.memoizedState!==null?v._visibility&2?ln(e,s,o,h):gl(e,s):v._visibility&2?ln(e,s,o,h):(v._visibility|=2,Yr(e,s,o,h,(s.subtreeFlags&10256)!==0||!1)),g&2048&&af(S,s);break;case 24:ln(e,s,o,h),g&2048&&rf(s.alternate,s);break;default:ln(e,s,o,h)}}function Yr(e,s,o,h,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=e,S=s,C=o,j=h,$=S.flags;switch(S.tag){case 0:case 11:case 15:Yr(v,S,C,j,g),ml(8,S);break;case 23:break;case 22:var X=S.stateNode;S.memoizedState!==null?X._visibility&2?Yr(v,S,C,j,g):gl(v,S):(X._visibility|=2,Yr(v,S,C,j,g)),g&&$&2048&&af(S.alternate,S);break;case 24:Yr(v,S,C,j,g),g&&$&2048&&rf(S.alternate,S);break;default:Yr(v,S,C,j,g)}s=s.sibling}}function gl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=e,h=s,g=h.flags;switch(h.tag){case 22:gl(o,h),g&2048&&af(h.alternate,h);break;case 24:gl(o,h),g&2048&&rf(h.alternate,h);break;default:gl(o,h)}s=s.sibling}}var _l=8192;function Fr(e,s,o){if(e.subtreeFlags&_l)for(e=e.child;e!==null;)Ig(e,s,o),e=e.sibling}function Ig(e,s,o){switch(e.tag){case 26:Fr(e,s,o),e.flags&_l&&e.memoizedState!==null&&Sw(o,on,e.memoizedState,e.memoizedProps);break;case 5:Fr(e,s,o);break;case 3:case 4:var h=on;on=Dc(e.stateNode.containerInfo),Fr(e,s,o),on=h;break;case 22:e.memoizedState===null&&(h=e.alternate,h!==null&&h.memoizedState!==null?(h=_l,_l=16777216,Fr(e,s,o),_l=h):Fr(e,s,o));break;default:Fr(e,s,o)}}function qg(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function vl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var h=s[o];Ze=h,Vg(h,e)}qg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zg(e),e=e.sibling}function Zg(e){switch(e.tag){case 0:case 11:case 15:vl(e),e.flags&2048&&Vs(9,e,e.return);break;case 3:vl(e);break;case 12:vl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,bc(e)):vl(e);break;default:vl(e)}}function bc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var h=s[o];Ze=h,Vg(h,e)}qg(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Vs(8,s,s.return),bc(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,bc(s));break;default:bc(s)}e=e.sibling}}function Vg(e,s){for(;Ze!==null;){var o=Ze;switch(o.tag){case 0:case 11:case 15:Vs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:el(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,Ze=h;else t:for(o=e;Ze!==null;){h=Ze;var g=h.sibling,v=h.return;if(Ng(h),h===o){Ze=null;break t}if(g!==null){g.return=v,Ze=g;break t}Ze=v}}}var B0={getCacheForType:function(e){var s=Ge(Re),o=s.data.get(e);return o===void 0&&(o=e(),s.data.set(e,o)),o},cacheSignal:function(){return Ge(Re).controller.signal}},U0=typeof WeakMap=="function"?WeakMap:Map,Ft=0,re=null,Pt=null,Ht=0,Kt=0,Li=null,$s=!1,Wr=!1,of=!1,rs=0,xe=0,Gs=0,Qa=0,lf=0,ki=0,Kr=0,yl=null,vi=null,uf=!1,wc=0,$g=0,xc=1/0,Sc=null,Ys=null,Pe=0,Fs=null,Xr=null,os=0,cf=0,hf=null,Gg=null,bl=0,df=null;function Mi(){return(Ft&2)!==0&&Ht!==0?Ht&-Ht:Z.T!==null?vf():Lo()}function Yg(){if(ki===0)if((Ht&536870912)===0||zt){var e=ga;ga<<=1,(ga&3932160)===0&&(ga=262144),ki=e}else ki=536870912;return e=Ci.current,e!==null&&(e.flags|=32),ki}function yi(e,s,o){(e===re&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Jr(e,0),Ws(e,Ht,ki,!1)),Hn(e,o),((Ft&2)===0||e!==re)&&(e===re&&((Ft&2)===0&&(Qa|=o),xe===4&&Ws(e,Ht,ki,!1)),Ln(e))}function Fg(e,s,o){if((Ft&6)!==0)throw Error(a(327));var h=!o&&(s&127)===0&&(s&e.expiredLanes)===0||va(e,s),g=h?q0(e,s):mf(e,s,!0),v=h;do{if(g===0){Wr&&!h&&Ws(e,s,0,!1);break}else{if(o=e.current.alternate,v&&!H0(o)){g=mf(e,s,!1),v=!1;continue}if(g===2){if(v=s,e.errorRecoveryDisabledLanes&v)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;t:{var C=e;g=yl;var j=C.current.memoizedState.isDehydrated;if(j&&(Jr(C,S).flags|=256),S=mf(C,S,!1),S!==2){if(of&&!j){C.errorRecoveryDisabledLanes|=v,Qa|=v,g=4;break t}v=vi,vi=g,v!==null&&(vi===null?vi=v:vi.push.apply(vi,v))}g=S}if(v=!1,g!==2)continue}}if(g===1){Jr(e,0),Ws(e,s,0,!0);break}t:{switch(h=e,v=g,v){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Ws(h,s,ki,!$s);break t;case 2:vi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(g=wc+300-ni(),10<g)){if(Ws(h,s,ki,!$s),vr(h,0,!0)!==0)break t;os=s,h.timeoutHandle=E_(Wg.bind(null,h,o,vi,Sc,uf,s,ki,Qa,Kr,$s,v,"Throttled",-0,0),g);break t}Wg(h,o,vi,Sc,uf,s,ki,Qa,Kr,$s,v,null,-0,0)}}break}while(!0);Ln(e)}function Wg(e,s,o,h,g,v,S,C,j,$,X,tt,Y,F){if(e.timeoutHandle=-1,tt=s.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},Ig(s,v,tt);var ft=(v&62914560)===v?wc-ni():(v&4194048)===v?$g-ni():0;if(ft=Tw(tt,ft),ft!==null){os=v,e.cancelPendingCommit=ft(n_.bind(null,e,s,v,o,h,g,S,C,j,X,tt,null,Y,F)),Ws(e,v,S,!$);return}}n_(e,s,v,o,h,g,S,C,j)}function H0(e){for(var s=e;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var g=o[h],v=g.getSnapshot;g=g.value;try{if(!Ie(v(),g))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ws(e,s,o,h){s&=~lf,s&=~Qa,e.suspendedLanes|=s,e.pingedLanes&=~s,h&&(e.warmLanes|=s),h=e.expirationTimes;for(var g=s;0<g;){var v=31-si(g),S=1<<v;h[v]=-1,g&=~S}o!==0&&xu(e,o,s)}function Tc(){return(Ft&6)===0?(wl(0),!1):!0}function ff(){if(Pt!==null){if(Kt===0)var e=Pt.return;else e=Pt,rn=Cn=null,Cd(e),qr=null,nl=0,e=Pt;for(;e!==null;)Og(e.alternate,e),e=e.return;Pt=null}}function Jr(e,s){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,rw(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),os=0,ff(),re=e,Pt=o=Zi(e.current,null),Ht=s,Kt=0,Li=null,$s=!1,Wr=va(e,s),of=!1,Kr=ki=lf=Qa=Gs=xe=0,vi=yl=null,uf=!1,(s&8)!==0&&(s|=s&32);var h=e.entangledLanes;if(h!==0)for(e=e.entanglements,h&=s;0<h;){var g=31-si(h),v=1<<g;s|=e[g],h&=~v}return rs=s,Ha(),o}function Kg(e,s){kt=null,Z.H=hl,s===Ir||s===Qu?(s=dp(),Kt=3):s===gd?(s=dp(),Kt=4):Kt=s===Vd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Li=s,Pt===null&&(xe=1,fc(e,c(s,e.current)))}function Xg(){var e=Ci.current;return e===null?!0:(Ht&4194048)===Ht?Vi===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?e===Vi:!1}function Jg(){var e=Z.H;return Z.H=hl,e===null?hl:e}function Qg(){var e=Z.A;return Z.A=B0,e}function Ec(){xe=4,$s||(Ht&4194048)!==Ht&&Ci.current!==null||(Wr=!0),(Gs&134217727)===0&&(Qa&134217727)===0||re===null||Ws(re,Ht,ki,!1)}function mf(e,s,o){var h=Ft;Ft|=2;var g=Jg(),v=Qg();(re!==e||Ht!==s)&&(Sc=null,Jr(e,s)),s=!1;var S=xe;t:do try{if(Kt!==0&&Pt!==null){var C=Pt,j=Li;switch(Kt){case 8:ff(),S=6;break t;case 3:case 2:case 9:case 6:Ci.current===null&&(s=!0);var $=Kt;if(Kt=0,Li=null,Qr(e,C,j,$),o&&Wr){S=0;break t}break;default:$=Kt,Kt=0,Li=null,Qr(e,C,j,$)}}I0(),S=xe;break}catch(X){Kg(e,X)}while(!0);return s&&e.shellSuspendCounter++,rn=Cn=null,Ft=h,Z.H=g,Z.A=v,Pt===null&&(re=null,Ht=0,Ha()),S}function I0(){for(;Pt!==null;)t_(Pt)}function q0(e,s){var o=Ft;Ft|=2;var h=Jg(),g=Qg();re!==e||Ht!==s?(Sc=null,xc=ni()+500,Jr(e,s)):Wr=va(e,s);t:do try{if(Kt!==0&&Pt!==null){s=Pt;var v=Li;e:switch(Kt){case 1:Kt=0,Li=null,Qr(e,s,v,1);break;case 2:case 9:if(cp(v)){Kt=0,Li=null,e_(s);break}s=function(){Kt!==2&&Kt!==9||re!==e||(Kt=7),Ln(e)},v.then(s,s);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:cp(v)?(Kt=0,Li=null,e_(s)):(Kt=0,Li=null,Qr(e,s,v,7));break;case 5:var S=null;switch(Pt.tag){case 26:S=Pt.memoizedState;case 5:case 27:var C=Pt;if(S?H_(S):C.stateNode.complete){Kt=0,Li=null;var j=C.sibling;if(j!==null)Pt=j;else{var $=C.return;$!==null?(Pt=$,Oc($)):Pt=null}break e}}Kt=0,Li=null,Qr(e,s,v,5);break;case 6:Kt=0,Li=null,Qr(e,s,v,6);break;case 8:ff(),xe=6;break t;default:throw Error(a(462))}}Z0();break}catch(X){Kg(e,X)}while(!0);return rn=Cn=null,Z.H=h,Z.A=g,Ft=o,Pt!==null?0:(re=null,Ht=0,Ha(),xe)}function Z0(){for(;Pt!==null&&!vu();)t_(Pt)}function t_(e){var s=Tg(e.alternate,e,rs);e.memoizedProps=e.pendingProps,s===null?Oc(e):Pt=s}function e_(e){var s=e,o=s.alternate;switch(s.tag){case 15:case 0:s=vg(o,s,s.pendingProps,s.type,void 0,Ht);break;case 11:s=vg(o,s,s.pendingProps,s.type.render,s.ref,Ht);break;case 5:Cd(s);default:Og(o,s),s=Pt=Ko(s,rs),s=Tg(o,s,rs)}e.memoizedProps=e.pendingProps,s===null?Oc(e):Pt=s}function Qr(e,s,o,h){rn=Cn=null,Cd(s),qr=null,nl=0;var g=s.return;try{if(k0(e,g,s,o,Ht)){xe=1,fc(e,c(o,e.current)),Pt=null;return}}catch(v){if(g!==null)throw Pt=g,v;xe=1,fc(e,c(o,e.current)),Pt=null;return}s.flags&32768?(zt||h===1?e=!0:Wr||(Ht&536870912)!==0?e=!1:($s=e=!0,(h===2||h===9||h===3||h===6)&&(h=Ci.current,h!==null&&h.tag===13&&(h.flags|=16384))),i_(s,e)):Oc(s)}function Oc(e){var s=e;do{if((s.flags&32768)!==0){i_(s,$s);return}e=s.return;var o=N0(s.alternate,s,rs);if(o!==null){Pt=o;return}if(s=s.sibling,s!==null){Pt=s;return}Pt=s=e}while(s!==null);xe===0&&(xe=5)}function i_(e,s){do{var o=j0(e.alternate,e);if(o!==null){o.flags&=32767,Pt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(e=e.sibling,e!==null)){Pt=e;return}Pt=e=o}while(e!==null);xe=6,Pt=null}function n_(e,s,o,h,g,v,S,C,j){e.cancelPendingCommit=null;do Ac();while(Pe!==0);if((Ft&6)!==0)throw Error(a(327));if(s!==null){if(s===e.current)throw Error(a(177));if(v=s.lanes|s.childLanes,v|=Nr,Wh(e,o,v,S,C,j),e===re&&(Pt=re=null,Ht=0),Xr=s,Fs=e,os=o,cf=v,hf=g,Gg=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Y0(fa,function(){return l_(),null})):(e.callbackNode=null,e.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=Z.T,Z.T=null,g=nt.p,nt.p=2,S=Ft,Ft|=4;try{z0(e,s,o)}finally{Ft=S,nt.p=g,Z.T=h}}Pe=1,s_(),a_(),r_()}}function s_(){if(Pe===1){Pe=0;var e=Fs,s=Xr,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var h=nt.p;nt.p=2;var g=Ft;Ft|=4;try{Bg(s,e);var v=Of,S=ja(e.containerInfo),C=v.focusedElem,j=v.selectionRange;if(S!==C&&C&&C.ownerDocument&&Lr(C.ownerDocument.documentElement,C)){if(j!==null&&wn(C)){var $=j.start,X=j.end;if(X===void 0&&(X=$),"selectionStart"in C)C.selectionStart=$,C.selectionEnd=Math.min(X,C.value.length);else{var tt=C.ownerDocument||document,Y=tt&&tt.defaultView||window;if(Y.getSelection){var F=Y.getSelection(),ft=C.textContent.length,xt=Math.min(j.start,ft),ne=j.end===void 0?xt:Math.min(j.end,ft);!F.extend&&xt>ne&&(S=ne,ne=xt,xt=S);var I=Na(C,xt),H=Na(C,ne);if(I&&H&&(F.rangeCount!==1||F.anchorNode!==I.node||F.anchorOffset!==I.offset||F.focusNode!==H.node||F.focusOffset!==H.offset)){var V=tt.createRange();V.setStart(I.node,I.offset),F.removeAllRanges(),xt>ne?(F.addRange(V),F.extend(H.node,H.offset)):(V.setEnd(H.node,H.offset),F.addRange(V))}}}}for(tt=[],F=C;F=F.parentNode;)F.nodeType===1&&tt.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<tt.length;C++){var J=tt[C];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Uc=!!Ef,Of=Ef=null}finally{Ft=g,nt.p=h,Z.T=o}}e.current=s,Pe=2}}function a_(){if(Pe===2){Pe=0;var e=Fs,s=Xr,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var h=nt.p;nt.p=2;var g=Ft;Ft|=4;try{Dg(e,s.alternate,s)}finally{Ft=g,nt.p=h,Z.T=o}}Pe=3}}function r_(){if(Pe===4||Pe===3){Pe=0,yu();var e=Fs,s=Xr,o=os,h=Gg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pe=5:(Pe=0,Xr=Fs=null,o_(e,e.pendingLanes));var g=e.pendingLanes;if(g===0&&(Ys=null),pt(o),s=s.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(ys,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=Z.T,g=nt.p,nt.p=2,Z.T=null;try{for(var v=e.onRecoverableError,S=0;S<h.length;S++){var C=h[S];v(C.value,{componentStack:C.stack})}}finally{Z.T=s,nt.p=g}}(os&3)!==0&&Ac(),Ln(e),g=e.pendingLanes,(o&261930)!==0&&(g&42)!==0?e===df?bl++:(bl=0,df=e):bl=0,wl(0)}}function o_(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,el(s)))}function Ac(){return s_(),a_(),r_(),l_()}function l_(){if(Pe!==5)return!1;var e=Fs,s=cf;cf=0;var o=pt(os),h=Z.T,g=nt.p;try{nt.p=32>o?32:o,Z.T=null,o=hf,hf=null;var v=Fs,S=os;if(Pe=0,Xr=Fs=null,os=0,(Ft&6)!==0)throw Error(a(331));var C=Ft;if(Ft|=4,Zg(v.current),Hg(v,v.current,S,o),Ft=C,wl(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(ys,v)}catch{}return!0}finally{nt.p=g,Z.T=h,o_(e,s)}}function u_(e,s,o){s=c(o,s),s=Zd(e.stateNode,s,2),e=Is(e,s,2),e!==null&&(Hn(e,2),Ln(e))}function Xt(e,s,o){if(e.tag===3)u_(e,e,o);else for(;s!==null;){if(s.tag===3){u_(s,e,o);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ys===null||!Ys.has(h))){e=c(o,e),o=cg(2),h=Is(s,o,2),h!==null&&(hg(o,h,s,e),Hn(h,2),Ln(h));break}}s=s.return}}function pf(e,s,o){var h=e.pingCache;if(h===null){h=e.pingCache=new U0;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(o)||(of=!0,g.add(o),e=V0.bind(null,e,s,o),s.then(e,e))}function V0(e,s,o){var h=e.pingCache;h!==null&&h.delete(s),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,re===e&&(Ht&o)===o&&(xe===4||xe===3&&(Ht&62914560)===Ht&&300>ni()-wc?(Ft&2)===0&&Jr(e,0):lf|=o,Kr===Ht&&(Kr=0)),Ln(e)}function c_(e,s){s===0&&(s=wu()),e=qi(e,s),e!==null&&(Hn(e,s),Ln(e))}function $0(e){var s=e.memoizedState,o=0;s!==null&&(o=s.retryLane),c_(e,o)}function G0(e,s){var o=0;switch(e.tag){case 31:case 13:var h=e.stateNode,g=e.memoizedState;g!==null&&(o=g.retryLane);break;case 19:h=e.stateNode;break;case 22:h=e.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(s),c_(e,o)}function Y0(e,s){return gr(e,s)}var Cc=null,to=null,gf=!1,Rc=!1,_f=!1,Ks=0;function Ln(e){e!==to&&e.next===null&&(to===null?Cc=to=e:to=to.next=e),Rc=!0,gf||(gf=!0,W0())}function wl(e,s){if(!_f&&Rc){_f=!0;do for(var o=!1,h=Cc;h!==null;){if(e!==0){var g=h.pendingLanes;if(g===0)var v=0;else{var S=h.suspendedLanes,C=h.pingedLanes;v=(1<<31-si(42|e)+1)-1,v&=g&~(S&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,m_(h,v))}else v=Ht,v=vr(h,h===re?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||va(h,v)||(o=!0,m_(h,v));h=h.next}while(o);_f=!1}}function F0(){h_()}function h_(){Rc=gf=!1;var e=0;Ks!==0&&aw()&&(e=Ks);for(var s=ni(),o=null,h=Cc;h!==null;){var g=h.next,v=d_(h,s);v===0?(h.next=null,o===null?Cc=g:o.next=g,g===null&&(to=o)):(o=h,(e!==0||(v&3)!==0)&&(Rc=!0)),h=g}Pe!==0&&Pe!==5||wl(e),Ks!==0&&(Ks=0)}function d_(e,s){for(var o=e.suspendedLanes,h=e.pingedLanes,g=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var S=31-si(v),C=1<<S,j=g[S];j===-1?((C&o)===0||(C&h)!==0)&&(g[S]=Fh(C,s)):j<=s&&(e.expiredLanes|=C),v&=~C}if(s=re,o=Ht,o=vr(e,e===s?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),h=e.callbackNode,o===0||e===s&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return h!==null&&h!==null&&da(h),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||va(e,o)){if(s=o&-o,s===e.callbackPriority)return s;switch(h!==null&&da(h),pt(o)){case 2:case 8:o=Ao;break;case 32:o=fa;break;case 268435456:o=Co;break;default:o=fa}return h=f_.bind(null,e),o=gr(o,h),e.callbackPriority=s,e.callbackNode=o,s}return h!==null&&h!==null&&da(h),e.callbackPriority=2,e.callbackNode=null,2}function f_(e,s){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ac()&&e.callbackNode!==o)return null;var h=Ht;return h=vr(e,e===re?h:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),h===0?null:(Fg(e,h,s),d_(e,ni()),e.callbackNode!=null&&e.callbackNode===o?f_.bind(null,e):null)}function m_(e,s){if(Ac())return null;Fg(e,s,!0)}function W0(){ow(function(){(Ft&6)!==0?gr(_r,F0):h_()})}function vf(){if(Ks===0){var e=Ur;e===0&&(e=pa,pa<<=1,(pa&261888)===0&&(pa=256)),Ks=e}return Ks}function p_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Es(""+e)}function g_(e,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,e.id&&o.setAttribute("form",e.id),s.parentNode.insertBefore(o,s),e=new FormData(e),o.parentNode.removeChild(o),e}function K0(e,s,o,h,g){if(s==="submit"&&o&&o.stateNode===g){var v=p_((g[He]||null).action),S=h.submitter;S&&(s=(s=S[He]||null)?p_(s.formAction):S.getAttribute("formAction"),s!==null&&(v=s,S=null));var C=new Sr("action","action",null,h,g);e.push({event:C,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ks!==0){var j=S?g_(g,S):new FormData(g);Pd(o,{pending:!0,data:j,method:g.method,action:v},null,j)}}else typeof v=="function"&&(C.preventDefault(),j=S?g_(g,S):new FormData(g),Pd(o,{pending:!0,data:j,method:g.method,action:v},v,j))},currentTarget:g}]})}}for(var yf=0;yf<Tn.length;yf++){var bf=Tn[yf],X0=bf.toLowerCase(),J0=bf[0].toUpperCase()+bf.slice(1);di(X0,"on"+J0)}di(Pa,"onAnimationEnd"),di(Yu,"onAnimationIteration"),di(Ba,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(ld,"onTransitionRun"),di(Fu,"onTransitionStart"),di(ud,"onTransitionCancel"),di(zs,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function __(e,s){s=(s&4)!==0;for(var o=0;o<e.length;o++){var h=e[o],g=h.event;h=h.listeners;t:{var v=void 0;if(s)for(var S=h.length-1;0<=S;S--){var C=h[S],j=C.instance,$=C.currentTarget;if(C=C.listener,j!==v&&g.isPropagationStopped())break t;v=C,g.currentTarget=$;try{v(g)}catch(X){Ua(X)}g.currentTarget=null,v=j}else for(S=0;S<h.length;S++){if(C=h[S],j=C.instance,$=C.currentTarget,C=C.listener,j!==v&&g.isPropagationStopped())break t;v=C,g.currentTarget=$;try{v(g)}catch(X){Ua(X)}g.currentTarget=null,v=j}}}}function Bt(e,s){var o=s[pn];o===void 0&&(o=s[pn]=new Set);var h=e+"__bubble";o.has(h)||(v_(s,e,2,!1),o.add(h))}function wf(e,s,o){var h=0;s&&(h|=4),v_(o,e,h,s)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function xf(e){if(!e[Lc]){e[Lc]=!0,Au.forEach(function(o){o!=="selectionchange"&&(Q0.has(o)||wf(o,!1,e),wf(o,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Lc]||(s[Lc]=!0,wf("selectionchange",!1,s))}}function v_(e,s,o,h){switch(Y_(s)){case 2:var g=Aw;break;case 8:g=Cw;break;default:g=Pf}o=g.bind(null,s,o,e),g=void 0,!Ea||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?e.addEventListener(s,o,{capture:!0,passive:g}):e.addEventListener(s,o,!0):g!==void 0?e.addEventListener(s,o,{passive:g}):e.addEventListener(s,o,!1)}function Sf(e,s,o,h,g){var v=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var C=h.stateNode.containerInfo;if(C===g)break;if(S===4)for(S=h.return;S!==null;){var j=S.tag;if((j===3||j===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;C!==null;){if(S=qn(C),S===null)return;if(j=S.tag,j===5||j===6||j===26||j===27){h=v=S;continue t}C=C.parentNode}}h=h.return}Uo(function(){var $=v,X=Ta(o),tt=[];t:{var Y=Wu.get(e);if(Y!==void 0){var F=Sr,ft=e;switch(e){case"keypress":if(Oa(o)===0)break t;case"keydown":case"keyup":F=ju;break;case"focusin":ft="focus",F=qo;break;case"focusout":ft="blur",F=qo;break;case"beforeblur":case"afterblur":F=qo;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=id;break;case Pa:case Yu:case Ba:F=Zo;break;case zs:F=Bu;break;case"scroll":case"scrollend":F=Ut;break;case"wheel":F=Yn;break;case"copy":case"cut":case"paste":F=Bi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=zu;break;case"toggle":case"beforetoggle":F=Ra}var xt=(s&4)!==0,ne=!xt&&(e==="scroll"||e==="scrollend"),I=xt?Y!==null?Y+"Capture":null:Y;xt=[];for(var H=$,V;H!==null;){var J=H;if(V=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||V===null||I===null||(J=$n(H,I),J!=null&&xt.push(Sl(H,J,V))),ne)break;H=H.return}0<xt.length&&(Y=new F(Y,ft,null,o,X),tt.push({event:Y,listeners:xt}))}}if((s&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",Y&&o!==xr&&(ft=o.relatedTarget||o.fromElement)&&(qn(ft)||ft[In]))break t;if((F||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,F?(ft=o.relatedTarget||o.toElement,F=$,ft=ft?qn(ft):null,ft!==null&&(ne=u(ft),xt=ft.tag,ft!==ne||xt!==5&&xt!==27&&xt!==6)&&(ft=null)):(F=null,ft=$),F!==ft)){if(xt=Lu,J="onMouseLeave",I="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(xt=zu,J="onPointerLeave",I="onPointerEnter",H="pointer"),ne=F==null?Y:gn(F),V=ft==null?Y:gn(ft),Y=new xt(J,H+"leave",F,o,X),Y.target=ne,Y.relatedTarget=V,J=null,qn(X)===$&&(xt=new xt(I,H+"enter",ft,o,X),xt.target=V,xt.relatedTarget=ne,J=xt),ne=J,F&&ft)e:{for(xt=tw,I=F,H=ft,V=0,J=I;J;J=xt(J))V++;J=0;for(var wt=H;wt;wt=xt(wt))J++;for(;0<V-J;)I=xt(I),V--;for(;0<J-V;)H=xt(H),J--;for(;V--;){if(I===H||H!==null&&I===H.alternate){xt=I;break e}I=xt(I),H=xt(H)}xt=null}else xt=null;F!==null&&y_(tt,Y,F,xt,!1),ft!==null&&ne!==null&&y_(tt,ne,ft,xt,!0)}}t:{if(Y=$?gn($):window,F=Y.nodeName&&Y.nodeName.toLowerCase(),F==="select"||F==="input"&&Y.type==="file")var $t=Da;else if(Ui(Y))if(qu)$t=od;else{$t=rd;var mt=nn}else F=Y.nodeName,!F||F.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&Sa($.elementType)&&($t=Da):$t=Ms;if($t&&($t=$t(e,$))){Iu(tt,$t,o,X);break t}mt&&mt(e,Y,$),e==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Qi(Y,"number",Y.value)}switch(mt=$?gn($):window,e){case"focusin":(Ui(mt)||mt.contentEditable==="true")&&(xn=mt,Mr=$,za=null);break;case"focusout":za=Mr=xn=null;break;case"mousedown":Ns=!0;break;case"contextmenu":case"mouseup":case"dragend":Ns=!1,$u(tt,o,X);break;case"selectionchange":if(kr)break;case"keydown":case"keyup":$u(tt,o,X)}var Dt;if(Er)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else Rs?Hu(e,o)&&(It="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(It="onCompositionStart");It&&(Or&&o.locale!=="ko"&&(Rs||It!=="onCompositionStart"?It==="onCompositionEnd"&&Rs&&(Dt=yn()):(Pi=X,Gn="value"in Pi?Pi.value:Pi.textContent,Rs=!0)),mt=kc($,It),0<mt.length&&(It=new Vo(It,e,null,o,X),tt.push({event:It,listeners:mt}),Dt?It.data=Dt:(Dt=Fo(o),Dt!==null&&(It.data=Dt)))),(Dt=sd?Ai(e,o):Ls(e,o))&&(It=kc($,"onBeforeInput"),0<It.length&&(mt=new Vo("onBeforeInput","beforeinput",null,o,X),tt.push({event:mt,listeners:It}),mt.data=Dt)),K0(tt,e,$,o,X)}__(tt,s)})}function Sl(e,s,o){return{instance:e,listener:s,currentTarget:o}}function kc(e,s){for(var o=s+"Capture",h=[];e!==null;){var g=e,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=$n(e,o),g!=null&&h.unshift(Sl(e,g,v)),g=$n(e,s),g!=null&&h.push(Sl(e,g,v))),e.tag===3)return h;e=e.return}return[]}function tw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function y_(e,s,o,h,g){for(var v=s._reactName,S=[];o!==null&&o!==h;){var C=o,j=C.alternate,$=C.stateNode;if(C=C.tag,j!==null&&j===h)break;C!==5&&C!==26&&C!==27||$===null||(j=$,g?($=$n(o,v),$!=null&&S.unshift(Sl(o,$,j))):g||($=$n(o,v),$!=null&&S.push(Sl(o,$,j)))),o=o.return}S.length!==0&&e.push({event:s,listeners:S})}var ew=/\r\n?/g,iw=/\u0000|\uFFFD/g;function b_(e){return(typeof e=="string"?e:""+e).replace(ew,`
`).replace(iw,"")}function w_(e,s){return s=b_(s),b_(e)===s}function ie(e,s,o,h,g,v){switch(o){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||zi(e,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&zi(e,""+h);break;case"className":te(e,"class",h);break;case"tabIndex":te(e,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":te(e,o,h);break;case"style":br(e,h,v);break;case"data":if(s!=="object"){te(e,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||o!=="href")){e.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){e.removeAttribute(o);break}h=Es(""+h),e.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(s!=="input"&&ie(e,s,"name",g.name,g,null),ie(e,s,"formEncType",g.formEncType,g,null),ie(e,s,"formMethod",g.formMethod,g,null),ie(e,s,"formTarget",g.formTarget,g,null)):(ie(e,s,"encType",g.encType,g,null),ie(e,s,"method",g.method,g,null),ie(e,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){e.removeAttribute(o);break}h=Es(""+h),e.setAttribute(o,h);break;case"onClick":h!=null&&(e.onclick=ci);break;case"onScroll":h!=null&&Bt("scroll",e);break;case"onScrollEnd":h!=null&&Bt("scrollend",e);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(o=h.__html,o!=null){if(g.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":e.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){e.removeAttribute("xlink:href");break}o=Es(""+h),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(o,""+h):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":h===!0?e.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(o,h):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?e.setAttribute(o,h):e.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?e.removeAttribute(o):e.setAttribute(o,h);break;case"popover":Bt("beforetoggle",e),Bt("toggle",e),jt(e,"popover",h);break;case"xlinkActuate":ui(e,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ui(e,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ui(e,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ui(e,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ui(e,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ui(e,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ui(e,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ui(e,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ui(e,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":jt(e,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=wr.get(o)||o,jt(e,o,h))}}function Tf(e,s,o,h,g,v){switch(o){case"style":br(e,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(o=h.__html,o!=null){if(g.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof h=="string"?zi(e,h):(typeof h=="number"||typeof h=="bigint")&&zi(e,""+h);break;case"onScroll":h!=null&&Bt("scroll",e);break;case"onScrollEnd":h!=null&&Bt("scrollend",e);break;case"onClick":h!=null&&(e.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),s=o.slice(2,g?o.length-7:void 0),v=e[He]||null,v=v!=null?v[o]:null,typeof v=="function"&&e.removeEventListener(s,v,g),typeof h=="function")){typeof v!="function"&&v!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(s,h,g);break t}o in e?e[o]=h:h===!0?e.setAttribute(o,""):jt(e,o,h)}}}function Fe(e,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",e),Bt("load",e);var h=!1,g=!1,v;for(v in o)if(o.hasOwnProperty(v)){var S=o[v];if(S!=null)switch(v){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:ie(e,s,v,S,o,null)}}g&&ie(e,s,"srcSet",o.srcSet,o,null),h&&ie(e,s,"src",o.src,o,null);return;case"input":Bt("invalid",e);var C=v=S=g=null,j=null,$=null;for(h in o)if(o.hasOwnProperty(h)){var X=o[h];if(X!=null)switch(h){case"name":g=X;break;case"type":S=X;break;case"checked":j=X;break;case"defaultChecked":$=X;break;case"value":v=X;break;case"defaultValue":C=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,s));break;default:ie(e,s,h,X,o,null)}}xa(e,v,C,j,$,S,g,!1);return;case"select":Bt("invalid",e),h=S=v=null;for(g in o)if(o.hasOwnProperty(g)&&(C=o[g],C!=null))switch(g){case"value":v=C;break;case"defaultValue":S=C;break;case"multiple":h=C;default:ie(e,s,g,C,o,null)}s=v,o=S,e.multiple=!!h,s!=null?ae(e,!!h,s,!1):o!=null&&ae(e,!!h,o,!0);return;case"textarea":Bt("invalid",e),v=g=h=null;for(S in o)if(o.hasOwnProperty(S)&&(C=o[S],C!=null))switch(S){case"value":h=C;break;case"defaultValue":g=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:ie(e,s,S,C,o,null)}Ss(e,h,g,v);return;case"option":for(j in o)o.hasOwnProperty(j)&&(h=o[j],h!=null)&&(j==="selected"?e.selected=h&&typeof h!="function"&&typeof h!="symbol":ie(e,s,j,h,o,null));return;case"dialog":Bt("beforetoggle",e),Bt("toggle",e),Bt("cancel",e),Bt("close",e);break;case"iframe":case"object":Bt("load",e);break;case"video":case"audio":for(h=0;h<xl.length;h++)Bt(xl[h],e);break;case"image":Bt("error",e),Bt("load",e);break;case"details":Bt("toggle",e);break;case"embed":case"source":case"link":Bt("error",e),Bt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(h=o[$],h!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:ie(e,s,$,h,o,null)}return;default:if(Sa(s)){for(X in o)o.hasOwnProperty(X)&&(h=o[X],h!==void 0&&Tf(e,s,X,h,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(h=o[C],h!=null&&ie(e,s,C,h,o,null))}function nw(e,s,o,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,S=null,C=null,j=null,$=null,X=null;for(F in o){var tt=o[F];if(o.hasOwnProperty(F)&&tt!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":j=tt;default:h.hasOwnProperty(F)||ie(e,s,F,null,h,tt)}}for(var Y in h){var F=h[Y];if(tt=o[Y],h.hasOwnProperty(Y)&&(F!=null||tt!=null))switch(Y){case"type":v=F;break;case"name":g=F;break;case"checked":$=F;break;case"defaultChecked":X=F;break;case"value":S=F;break;case"defaultValue":C=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,s));break;default:F!==tt&&ie(e,s,Y,F,h,tt)}}zo(e,S,C,j,$,X,v,g);return;case"select":F=S=C=Y=null;for(v in o)if(j=o[v],o.hasOwnProperty(v)&&j!=null)switch(v){case"value":break;case"multiple":F=j;default:h.hasOwnProperty(v)||ie(e,s,v,null,h,j)}for(g in h)if(v=h[g],j=o[g],h.hasOwnProperty(g)&&(v!=null||j!=null))switch(g){case"value":Y=v;break;case"defaultValue":C=v;break;case"multiple":S=v;default:v!==j&&ie(e,s,g,v,h,j)}s=C,o=S,h=F,Y!=null?ae(e,!!o,Y,!1):!!h!=!!o&&(s!=null?ae(e,!!o,s,!0):ae(e,!!o,o?[]:"",!1));return;case"textarea":F=Y=null;for(C in o)if(g=o[C],o.hasOwnProperty(C)&&g!=null&&!h.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ie(e,s,C,null,h,g)}for(S in h)if(g=h[S],v=o[S],h.hasOwnProperty(S)&&(g!=null||v!=null))switch(S){case"value":Y=g;break;case"defaultValue":F=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==v&&ie(e,s,S,g,h,v)}vn(e,Y,F);return;case"option":for(var ft in o)Y=o[ft],o.hasOwnProperty(ft)&&Y!=null&&!h.hasOwnProperty(ft)&&(ft==="selected"?e.selected=!1:ie(e,s,ft,null,h,Y));for(j in h)Y=h[j],F=o[j],h.hasOwnProperty(j)&&Y!==F&&(Y!=null||F!=null)&&(j==="selected"?e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":ie(e,s,j,Y,h,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in o)Y=o[xt],o.hasOwnProperty(xt)&&Y!=null&&!h.hasOwnProperty(xt)&&ie(e,s,xt,null,h,Y);for($ in h)if(Y=h[$],F=o[$],h.hasOwnProperty($)&&Y!==F&&(Y!=null||F!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,s));break;default:ie(e,s,$,Y,h,F)}return;default:if(Sa(s)){for(var ne in o)Y=o[ne],o.hasOwnProperty(ne)&&Y!==void 0&&!h.hasOwnProperty(ne)&&Tf(e,s,ne,void 0,h,Y);for(X in h)Y=h[X],F=o[X],!h.hasOwnProperty(X)||Y===F||Y===void 0&&F===void 0||Tf(e,s,X,Y,h,F);return}}for(var I in o)Y=o[I],o.hasOwnProperty(I)&&Y!=null&&!h.hasOwnProperty(I)&&ie(e,s,I,null,h,Y);for(tt in h)Y=h[tt],F=o[tt],!h.hasOwnProperty(tt)||Y===F||Y==null&&F==null||ie(e,s,tt,Y,h,F)}function x_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,o=performance.getEntriesByType("resource"),h=0;h<o.length;h++){var g=o[h],v=g.transferSize,S=g.initiatorType,C=g.duration;if(v&&C&&x_(S)){for(S=0,C=g.responseEnd,h+=1;h<o.length;h++){var j=o[h],$=j.startTime;if($>C)break;var X=j.transferSize,tt=j.initiatorType;X&&x_(tt)&&(j=j.responseEnd,S+=X*(j<C?1:(C-$)/(j-$)))}if(--h,s+=8*(v+S)/(g.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ef=null,Of=null;function Mc(e){return e.nodeType===9?e:e.ownerDocument}function S_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Af(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cf=null;function aw(){var e=window.event;return e&&e.type==="popstate"?e===Cf?!1:(Cf=e,!0):(Cf=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,rw=typeof clearTimeout=="function"?clearTimeout:void 0,O_=typeof Promise=="function"?Promise:void 0,ow=typeof queueMicrotask=="function"?queueMicrotask:typeof O_<"u"?function(e){return O_.resolve(null).then(e).catch(lw)}:E_;function lw(e){setTimeout(function(){throw e})}function Xs(e){return e==="head"}function A_(e,s){var o=s,h=0;do{var g=o.nextSibling;if(e.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(h===0){e.removeChild(g),so(s);return}h--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")h++;else if(o==="html")Tl(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Tl(o);for(var v=o.firstChild;v;){var S=v.nextSibling,C=v.nodeName;v[ya]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=S}}else o==="body"&&Tl(e.ownerDocument.body);o=g}while(o);so(s)}function C_(e,s){var o=e;e=0;do{var h=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=h}while(o)}function Rf(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rf(o),Mo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function uw(e,s,o,h){for(;e.nodeType===1;){var g=o;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(h){if(!e[ya])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==g.rel||e.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||e.getAttribute("title")!==(g.title==null?null:g.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(g.src==null?null:g.src)||e.getAttribute("type")!==(g.type==null?null:g.type)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=$i(e.nextSibling),e===null)break}return null}function cw(e,s,o){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=$i(e.nextSibling),e===null))return null;return e}function R_(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=$i(e.nextSibling),e===null))return null;return e}function Lf(e){return e.data==="$?"||e.data==="$~"}function kf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hw(e,s){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||o.readyState!=="loading")s();else{var h=function(){s(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),e._reactRetry=h}}function $i(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var Mf=null;function L_(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(s===0)return $i(e.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}e=e.nextSibling}return null}function k_(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return e;s--}else o!=="/$"&&o!=="/&"||s++}e=e.previousSibling}return null}function M_(e,s,o){switch(s=Mc(o),e){case"html":if(e=s.documentElement,!e)throw Error(a(452));return e;case"head":if(e=s.head,!e)throw Error(a(453));return e;case"body":if(e=s.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Tl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Mo(e)}var Gi=new Map,D_=new Set;function Dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ls=nt.d;nt.d={f:dw,r:fw,D:mw,C:pw,L:gw,m:_w,X:yw,S:vw,M:bw};function dw(){var e=ls.f(),s=Tc();return e||s}function fw(e){var s=bs(e);s!==null&&s.tag===5&&s.type==="form"?Kp(s):ls.r(e)}var eo=typeof document>"u"?null:document;function N_(e,s,o){var h=eo;if(h&&typeof s=="string"&&s){var g=ue(s);g='link[rel="'+e+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),D_.has(g)||(D_.add(g),e={rel:e,crossOrigin:o,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),Fe(s,"link",e),Ce(s),h.head.appendChild(s)))}}function mw(e){ls.D(e),N_("dns-prefetch",e,null)}function pw(e,s){ls.C(e,s),N_("preconnect",e,s)}function gw(e,s,o){ls.L(e,s,o);var h=eo;if(h&&e&&s){var g='link[rel="preload"][as="'+ue(s)+'"]';s==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+ue(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+ue(o.imageSizes)+'"]')):g+='[href="'+ue(e)+'"]';var v=g;switch(s){case"style":v=io(e);break;case"script":v=no(e)}Gi.has(v)||(e=w({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:e,as:s},o),Gi.set(v,e),h.querySelector(g)!==null||s==="style"&&h.querySelector(El(v))||s==="script"&&h.querySelector(Ol(v))||(s=h.createElement("link"),Fe(s,"link",e),Ce(s),h.head.appendChild(s)))}}function _w(e,s){ls.m(e,s);var o=eo;if(o&&e){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+ue(h)+'"][href="'+ue(e)+'"]',v=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=no(e)}if(!Gi.has(v)&&(e=w({rel:"modulepreload",href:e},s),Gi.set(v,e),o.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ol(v)))return}h=o.createElement("link"),Fe(h,"link",e),Ce(h),o.head.appendChild(h)}}}function vw(e,s,o){ls.S(e,s,o);var h=eo;if(h&&e){var g=ws(h).hoistableStyles,v=io(e);s=s||"default";var S=g.get(v);if(!S){var C={loading:0,preload:null};if(S=h.querySelector(El(v)))C.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":s},o),(o=Gi.get(v))&&Df(e,o);var j=S=h.createElement("link");Ce(j),Fe(j,"link",e),j._p=new Promise(function($,X){j.onload=$,j.onerror=X}),j.addEventListener("load",function(){C.loading|=1}),j.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Nc(S,s,h)}S={type:"stylesheet",instance:S,count:1,state:C},g.set(v,S)}}}function yw(e,s){ls.X(e,s);var o=eo;if(o&&e){var h=ws(o).hoistableScripts,g=no(e),v=h.get(g);v||(v=o.querySelector(Ol(g)),v||(e=w({src:e,async:!0},s),(s=Gi.get(g))&&Nf(e,s),v=o.createElement("script"),Ce(v),Fe(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function bw(e,s){ls.M(e,s);var o=eo;if(o&&e){var h=ws(o).hoistableScripts,g=no(e),v=h.get(g);v||(v=o.querySelector(Ol(g)),v||(e=w({src:e,async:!0,type:"module"},s),(s=Gi.get(g))&&Nf(e,s),v=o.createElement("script"),Ce(v),Fe(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function j_(e,s,o,h){var g=(g=ut.current)?Dc(g):null;if(!g)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=io(o.href),o=ws(g).hoistableStyles,h=o.get(s),h||(h={type:"style",instance:null,count:0,state:null},o.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=io(o.href);var v=ws(g).hoistableStyles,S=v.get(e);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,S),(v=g.querySelector(El(e)))&&!v._p&&(S.instance=v,S.state.loading=5),Gi.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gi.set(e,o),v||ww(g,e,o,S.state))),s&&h===null)throw Error(a(528,""));return S}if(s&&h!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=no(o),o=ws(g).hoistableScripts,h=o.get(s),h||(h={type:"script",instance:null,count:0,state:null},o.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function io(e){return'href="'+ue(e)+'"'}function El(e){return'link[rel="stylesheet"]['+e+"]"}function z_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function ww(e,s,o,h){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=e.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Fe(s,"link",o),Ce(s),e.head.appendChild(s))}function no(e){return'[src="'+ue(e)+'"]'}function Ol(e){return"script[async]"+e}function P_(e,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var h=e.querySelector('style[data-href~="'+ue(o.href)+'"]');if(h)return s.instance=h,Ce(h),h;var g=w({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(e.ownerDocument||e).createElement("style"),Ce(h),Fe(h,"style",g),Nc(h,o.precedence,e),s.instance=h;case"stylesheet":g=io(o.href);var v=e.querySelector(El(g));if(v)return s.state.loading|=4,s.instance=v,Ce(v),v;h=z_(o),(g=Gi.get(g))&&Df(h,g),v=(e.ownerDocument||e).createElement("link"),Ce(v);var S=v;return S._p=new Promise(function(C,j){S.onload=C,S.onerror=j}),Fe(v,"link",h),s.state.loading|=4,Nc(v,o.precedence,e),s.instance=v;case"script":return v=no(o.src),(g=e.querySelector(Ol(v)))?(s.instance=g,Ce(g),g):(h=o,(g=Gi.get(v))&&(h=w({},o),Nf(h,g)),e=e.ownerDocument||e,g=e.createElement("script"),Ce(g),Fe(g,"link",h),e.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Nc(h,o.precedence,e));return s.instance}function Nc(e,s,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,v=g,S=0;S<h.length;S++){var C=h[S];if(C.dataset.precedence===s)v=C;else if(v!==g)break}v?v.parentNode.insertBefore(e,v.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(e,s.firstChild))}function Df(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Nf(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var jc=null;function B_(e,s,o){if(jc===null){var h=new Map,g=jc=new Map;g.set(o,h)}else g=jc,h=g.get(o),h||(h=new Map,g.set(o,h));if(h.has(e))return h;for(h.set(e,null),o=o.getElementsByTagName(e),g=0;g<o.length;g++){var v=o[g];if(!(v[ya]||v[Ae]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(s)||"";S=e+S;var C=h.get(S);C?C.push(v):h.set(S,[v])}}return h}function U_(e,s,o){e=e.ownerDocument||e,e.head.insertBefore(o,s==="title"?e.querySelector("head > title"):null)}function xw(e,s,o){if(o===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function H_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Sw(e,s,o,h){if(o.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=io(h.href),v=s.querySelector(El(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=zc.bind(e),s.then(e,e)),o.state.loading|=4,o.instance=v,Ce(v);return}v=s.ownerDocument||s,h=z_(h),(g=Gi.get(g))&&Df(h,g),v=v.createElement("link"),Ce(v);var S=v;S._p=new Promise(function(C,j){S.onload=C,S.onerror=j}),Fe(v,"link",h),o.instance=v}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=zc.bind(e),s.addEventListener("load",o),s.addEventListener("error",o))}}var jf=0;function Tw(e,s){return e.stylesheets&&e.count===0&&Bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var h=setTimeout(function(){if(e.stylesheets&&Bc(e,e.stylesheets),e.unsuspend){var v=e.unsuspend;e.unsuspend=null,v()}},6e4+s);0<e.imgBytes&&jf===0&&(jf=62500*sw());var g=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bc(e,e.stylesheets),e.unsuspend)){var v=e.unsuspend;e.unsuspend=null,v()}},(e.imgBytes>jf?50:800)+s);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pc=null;function Bc(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pc=new Map,s.forEach(Ew,e),Pc=null,zc.call(e))}function Ew(e,s){if(!(s.state.loading&4)){var o=Pc.get(e);if(o)var h=o.get(null);else{o=new Map,Pc.set(e,o);for(var g=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var S=g[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),h=S)}h&&o.set(null,h)}g=s.instance,S=g.getAttribute("data-precedence"),v=o.get(S)||h,v===h&&o.set(null,g),o.set(S,g),this.count++,h=zc.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),v?v.parentNode.insertBefore(g,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(g,e.firstChild)),s.state.loading|=4}}var Al={$$typeof:U,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function Ow(e,s,o,h,g,v,S,C,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ro(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ro(0),this.hiddenUpdates=Ro(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function I_(e,s,o,h,g,v,S,C,j,$,X,tt){return e=new Ow(e,s,o,S,j,$,X,tt,C),s=1,v===!0&&(s|=24),v=Qe(3,null,null,s),e.current=v,v.stateNode=e,s=fd(),s.refCount++,e.pooledCache=s,s.refCount++,v.memoizedState={element:h,isDehydrated:o,cache:s},_d(v),e}function q_(e){return e?(e=Fn,e):Fn}function Z_(e,s,o,h,g,v){g=q_(g),h.context===null?h.context=g:h.pendingContext=g,h=Hs(s),h.payload={element:o},v=v===void 0?null:v,v!==null&&(h.callback=v),o=Is(e,h,s),o!==null&&(yi(o,e,s),al(o,e,s))}function V_(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<s?o:s}}function zf(e,s){V_(e,s),(e=e.alternate)&&V_(e,s)}function $_(e){if(e.tag===13||e.tag===31){var s=qi(e,67108864);s!==null&&yi(s,e,67108864),zf(e,67108864)}}function G_(e){if(e.tag===13||e.tag===31){var s=Mi();s=li(s);var o=qi(e,s);o!==null&&yi(o,e,s),zf(e,s)}}var Uc=!0;function Aw(e,s,o,h){var g=Z.T;Z.T=null;var v=nt.p;try{nt.p=2,Pf(e,s,o,h)}finally{nt.p=v,Z.T=g}}function Cw(e,s,o,h){var g=Z.T;Z.T=null;var v=nt.p;try{nt.p=8,Pf(e,s,o,h)}finally{nt.p=v,Z.T=g}}function Pf(e,s,o,h){if(Uc){var g=Bf(h);if(g===null)Sf(e,s,h,Hc,o),F_(e,h);else if(Lw(g,e,s,o,h))h.stopPropagation();else if(F_(e,h),s&4&&-1<Rw.indexOf(e)){for(;g!==null;){var v=bs(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Un(v.pendingLanes);if(S!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var j=1<<31-si(S);C.entanglements[1]|=j,S&=~j}Ln(v),(Ft&6)===0&&(xc=ni()+500,wl(0))}}break;case 31:case 13:C=qi(v,2),C!==null&&yi(C,v,2),Tc(),zf(v,2)}if(v=Bf(h),v===null&&Sf(e,s,h,Hc,o),v===g)break;g=v}g!==null&&h.stopPropagation()}else Sf(e,s,h,null,o)}}function Bf(e){return e=Ta(e),Uf(e)}var Hc=null;function Uf(e){if(Hc=null,e=qn(e),e!==null){var s=u(e);if(s===null)e=null;else{var o=s.tag;if(o===13){if(e=d(s),e!==null)return e;e=null}else if(o===31){if(e=f(s),e!==null)return e;e=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Hc=e,null}function Y_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zh()){case _r:return 2;case Ao:return 8;case fa:case Vh:return 32;case Co:return 268435456;default:return 32}default:return 32}}var Hf=!1,Js=null,Qs=null,ta=null,Cl=new Map,Rl=new Map,ea=[],Rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(e,s){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Cl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(s.pointerId)}}function Ll(e,s,o,h,g,v){return e===null||e.nativeEvent!==v?(e={blockedOn:s,domEventName:o,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},s!==null&&(s=bs(s),s!==null&&$_(s)),e):(e.eventSystemFlags|=h,s=e.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),e)}function Lw(e,s,o,h,g){switch(s){case"focusin":return Js=Ll(Js,e,s,o,h,g),!0;case"dragenter":return Qs=Ll(Qs,e,s,o,h,g),!0;case"mouseover":return ta=Ll(ta,e,s,o,h,g),!0;case"pointerover":var v=g.pointerId;return Cl.set(v,Ll(Cl.get(v)||null,e,s,o,h,g)),!0;case"gotpointercapture":return v=g.pointerId,Rl.set(v,Ll(Rl.get(v)||null,e,s,o,h,g)),!0}return!1}function W_(e){var s=qn(e.target);if(s!==null){var o=u(s);if(o!==null){if(s=o.tag,s===13){if(s=d(o),s!==null){e.blockedOn=s,ko(e.priority,function(){G_(o)});return}}else if(s===31){if(s=f(o),s!==null){e.blockedOn=s,ko(e.priority,function(){G_(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var o=Bf(e.nativeEvent);if(o===null){o=e.nativeEvent;var h=new o.constructor(o.type,o);xr=h,o.target.dispatchEvent(h),xr=null}else return s=bs(o),s!==null&&$_(s),e.blockedOn=o,!1;s.shift()}return!0}function K_(e,s,o){Ic(e)&&o.delete(s)}function kw(){Hf=!1,Js!==null&&Ic(Js)&&(Js=null),Qs!==null&&Ic(Qs)&&(Qs=null),ta!==null&&Ic(ta)&&(ta=null),Cl.forEach(K_),Rl.forEach(K_)}function qc(e,s){e.blockedOn===s&&(e.blockedOn=null,Hf||(Hf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kw)))}var Zc=null;function X_(e){Zc!==e&&(Zc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zc===e&&(Zc=null);for(var s=0;s<e.length;s+=3){var o=e[s],h=e[s+1],g=e[s+2];if(typeof h!="function"){if(Uf(h||o)===null)continue;break}var v=bs(o);v!==null&&(e.splice(s,3),s-=3,Pd(v,{pending:!0,data:g,method:o.method,action:h},h,g))}}))}function so(e){function s(j){return qc(j,e)}Js!==null&&qc(Js,e),Qs!==null&&qc(Qs,e),ta!==null&&qc(ta,e),Cl.forEach(s),Rl.forEach(s);for(var o=0;o<ea.length;o++){var h=ea[o];h.blockedOn===e&&(h.blockedOn=null)}for(;0<ea.length&&(o=ea[0],o.blockedOn===null);)W_(o),o.blockedOn===null&&ea.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var g=o[h],v=o[h+1],S=g[He]||null;if(typeof v=="function")S||X_(o);else if(S){var C=null;if(v&&v.hasAttribute("formAction")){if(g=v,S=v[He]||null)C=S.formAction;else if(Uf(g)!==null)continue}else C=S.action;typeof C=="function"?o[h+1]=C:(o.splice(h,3),h-=3),X_(o)}}}function J_(){function e(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return g=S})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),h||setTimeout(o,20)}function o(){if(!h&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){h=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function If(e){this._internalRoot=e}Vc.prototype.render=If.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,h=Mi();Z_(o,h,e,s,null,null)},Vc.prototype.unmount=If.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Z_(e.current,2,null,e,null,null),Tc(),s[In]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var s=Lo();e={blockedOn:null,target:e,priority:s};for(var o=0;o<ea.length&&s!==0&&s<ea[o].priority;o++);ea.splice(o,0,e),o===0&&W_(e)}};var Q_=t.version;if(Q_!=="19.2.4")throw Error(a(527,Q_,"19.2.4"));nt.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(s),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Mw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{ys=$c.inject(Mw),Ve=$c}catch{}}return Ml.createRoot=function(e,s){if(!l(e))throw Error(a(299));var o=!1,h="",g=rg,v=og,S=lg;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=I_(e,1,!1,null,null,o,h,null,g,v,S,J_),e[In]=s.current,xf(e),new If(s)},Ml.hydrateRoot=function(e,s,o){if(!l(e))throw Error(a(299));var h=!1,g="",v=rg,S=og,C=lg,j=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),s=I_(e,1,!0,s,o??null,h,g,j,v,S,C,J_),s.context=q_(null),o=s.current,h=Mi(),h=li(h),g=Hs(h),g.callback=null,Is(o,g,h),o=h,s.current.lanes=o,Hn(s,o),Ln(s),e[In]=s.current,xf(e),new Vc(s)},Ml.version="19.2.4",Ml}var uv;function Iw(){if(uv)return Vf.exports;uv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Vf.exports=Hw(),Vf.exports}var qw=Iw();var cv="popstate";function Zw(n={}){function t(a,l){let{pathname:u,search:d,hash:f}=a.location;return mm("",{pathname:u,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(a,l){return typeof l=="string"?l:Ql(l)}return $w(t,i,null,n)}function ve(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function fn(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vw(){return Math.random().toString(36).substring(2,10)}function hv(n,t){return{usr:n.state,key:n.key,idx:t}}function mm(n,t,i=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?wo(t):t,state:i,key:t&&t.key||a||Vw()}}function Ql({pathname:n="/",search:t="",hash:i=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function wo(n){let t={};if(n){let i=n.indexOf("#");i>=0&&(t.hash=n.substring(i),n=n.substring(0,i));let a=n.indexOf("?");a>=0&&(t.search=n.substring(a),n=n.substring(0,a)),n&&(t.pathname=n)}return t}function $w(n,t,i,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,d=l.history,f="POP",p=null,_=b();_==null&&(_=0,d.replaceState({...d.state,idx:_},""));function b(){return(d.state||{idx:null}).idx}function w(){f="POP";let M=b(),D=M==null?null:M-_;_=M,p&&p({action:f,location:R.location,delta:D})}function T(M,D){f="PUSH";let P=mm(R.location,M,D);_=b()+1;let U=hv(P,_),W=R.createHref(P);try{d.pushState(U,"",W)}catch(et){if(et instanceof DOMException&&et.name==="DataCloneError")throw et;l.location.assign(W)}u&&p&&p({action:f,location:R.location,delta:1})}function E(M,D){f="REPLACE";let P=mm(R.location,M,D);_=b();let U=hv(P,_),W=R.createHref(P);d.replaceState(U,"",W),u&&p&&p({action:f,location:R.location,delta:0})}function k(M){return Gw(M)}let R={get action(){return f},get location(){return n(l,d)},listen(M){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(cv,w),p=M,()=>{l.removeEventListener(cv,w),p=null}},createHref(M){return t(l,M)},createURL:k,encodeLocation(M){let D=k(M);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:T,replace:E,go(M){return d.go(M)}};return R}function Gw(n,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ve(i,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Ql(n);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function Wy(n,t,i="/"){return Yw(n,t,i,!1)}function Yw(n,t,i,a){let l=typeof t=="string"?wo(t):t,u=ps(l.pathname||"/",i);if(u==null)return null;let d=Ky(n);Fw(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let _=ax(u);f=nx(d[p],_,a)}return f}function Ky(n,t=[],i=[],a="",l=!1){let u=(d,f,p=l,_)=>{let b={relativePath:_===void 0?d.path||"":_,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(a)&&p)return;ve(b.relativePath.startsWith(a),`Absolute route path "${b.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(a.length)}let w=ms([a,b.relativePath]),T=i.concat(b);d.children&&d.children.length>0&&(ve(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Ky(d.children,t,T,w,p)),!(d.path==null&&!d.index)&&t.push({path:w,score:ex(w,d.index),routesMeta:T})};return n.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))u(d,f);else for(let p of Xy(d.path))u(d,f,!0,p)}),t}function Xy(n){let t=n.split("/");if(t.length===0)return[];let[i,...a]=t,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let d=Xy(a.join("/")),f=[];return f.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&f.push(...d),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function Fw(n){n.sort((t,i)=>t.score!==i.score?i.score-t.score:ix(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var Ww=/^:[\w-]+$/,Kw=3,Xw=2,Jw=1,Qw=10,tx=-2,dv=n=>n==="*";function ex(n,t){let i=n.split("/"),a=i.length;return i.some(dv)&&(a+=tx),t&&(a+=Xw),i.filter(l=>!dv(l)).reduce((l,u)=>l+(Ww.test(u)?Kw:u===""?Jw:Qw),a)}function ix(n,t){return n.length===t.length&&n.slice(0,-1).every((a,l)=>a===t[l])?n[n.length-1]-t[t.length-1]:0}function nx(n,t,i=!1){let{routesMeta:a}=n,l={},u="/",d=[];for(let f=0;f<a.length;++f){let p=a[f],_=f===a.length-1,b=u==="/"?t:t.slice(u.length)||"/",w=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},b),T=p.route;if(!w&&_&&i&&!a[a.length-1].route.index&&(w=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:ms([u,w.pathname]),pathnameBase:ux(ms([u,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(u=ms([u,w.pathnameBase]))}return d}function _h(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,a]=sx(n.path,n.caseSensitive,n.end),l=t.match(i);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((_,{paramName:b,isOptional:w},T)=>{if(b==="*"){let k=f[T]||"";d=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const E=f[T];return w&&!E?_[b]=void 0:_[b]=(E||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:d,pattern:n}}function sx(n,t=!1,i=!0){fn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(a.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function ax(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function ps(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=n.charAt(i);return a&&a!=="/"?null:n.slice(i)||"/"}var rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function ox(n,t="/"){let{pathname:i,search:a="",hash:l=""}=typeof n=="string"?wo(n):n,u;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?u=fv(i.substring(1),"/"):u=fv(i,t)):u=t,{pathname:u,search:cx(a),hash:hx(l)}}function fv(n,t){let i=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Ff(n,t,i,a){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lx(n){return n.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Jy(n){let t=lx(n);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function Qy(n,t,i,a=!1){let l;typeof n=="string"?l=wo(n):(l={...n},ve(!l.pathname||!l.pathname.includes("?"),Ff("?","pathname","search",l)),ve(!l.pathname||!l.pathname.includes("#"),Ff("#","pathname","hash",l)),ve(!l.search||!l.search.includes("#"),Ff("#","search","hash",l)));let u=n===""||l.pathname==="",d=u?"/":l.pathname,f;if(d==null)f=i;else{let w=t.length-1;if(!a&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),w-=1;l.pathname=T.join("/")}f=w>=0?t[w]:"/"}let p=ox(l,f),_=d&&d!=="/"&&d.endsWith("/"),b=(u||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(_||b)&&(p.pathname+="/"),p}var ms=n=>n.join("/").replace(/\/\/+/g,"/"),ux=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,dx=class{constructor(n,t,i,a=!1){this.status=n,this.statusText=t||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function fx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function mx(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function eb(n,t){let i=n;if(typeof i!="string"||!rx.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let a=i,l=!1;if(tb)try{let u=new URL(window.location.href),d=i.startsWith("//")?new URL(u.protocol+i):new URL(i),f=ps(d.pathname,t);d.origin===u.origin&&f!=null?i=f+d.search+d.hash:l=!0}catch{fn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:l,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ib=["POST","PUT","PATCH","DELETE"];new Set(ib);var px=["GET",...ib];new Set(px);var xo=B.createContext(null);xo.displayName="DataRouter";var kh=B.createContext(null);kh.displayName="DataRouterState";var gx=B.createContext(!1),nb=B.createContext({isTransitioning:!1});nb.displayName="ViewTransition";var _x=B.createContext(new Map);_x.displayName="Fetchers";var vx=B.createContext(null);vx.displayName="Await";var Wi=B.createContext(null);Wi.displayName="Navigation";var hu=B.createContext(null);hu.displayName="Location";var jn=B.createContext({outlet:null,matches:[],isDataRoute:!1});jn.displayName="Route";var Nm=B.createContext(null);Nm.displayName="RouteError";var sb="REACT_ROUTER_ERROR",yx="REDIRECT",bx="ROUTE_ERROR_RESPONSE";function wx(n){if(n.startsWith(`${sb}:${yx}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function xx(n){if(n.startsWith(`${sb}:${bx}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new dx(t.status,t.statusText,t.data)}catch{}}function Sx(n,{relative:t}={}){ve(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=B.useContext(Wi),{hash:l,pathname:u,search:d}=fu(n,{relative:t}),f=u;return i!=="/"&&(f=u==="/"?i:ms([i,u])),a.createHref({pathname:f,search:d,hash:l})}function du(){return B.useContext(hu)!=null}function ca(){return ve(du(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(hu).location}var ab="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rb(n){B.useContext(Wi).static||B.useLayoutEffect(n)}function Ki(){let{isDataRoute:n}=B.useContext(jn);return n?Bx():Tx()}function Tx(){ve(du(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(xo),{basename:t,navigator:i}=B.useContext(Wi),{matches:a}=B.useContext(jn),{pathname:l}=ca(),u=JSON.stringify(Jy(a)),d=B.useRef(!1);return rb(()=>{d.current=!0}),B.useCallback((p,_={})=>{if(fn(d.current,ab),!d.current)return;if(typeof p=="number"){i.go(p);return}let b=Qy(p,JSON.parse(u),l,_.relative==="path");n==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:ms([t,b.pathname])),(_.replace?i.replace:i.push)(b,_.state,_)},[t,i,u,l,n])}var Ex=B.createContext(null);function Ox(n){let t=B.useContext(jn).outlet;return B.useMemo(()=>t&&B.createElement(Ex.Provider,{value:n},t),[t,n])}function fu(n,{relative:t}={}){let{matches:i}=B.useContext(jn),{pathname:a}=ca(),l=JSON.stringify(Jy(i));return B.useMemo(()=>Qy(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function Ax(n,t){return ob(n,t)}function ob(n,t,i,a,l){ve(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(Wi),{matches:d}=B.useContext(jn),f=d[d.length-1],p=f?f.params:{},_=f?f.pathname:"/",b=f?f.pathnameBase:"/",w=f&&f.route;{let P=w&&w.path||"";ub(_,!w||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let T=ca(),E;if(t){let P=typeof t=="string"?wo(t):t;ve(b==="/"||P.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${P.pathname}" was given in the \`location\` prop.`),E=P}else E=T;let k=E.pathname||"/",R=k;if(b!=="/"){let P=b.replace(/^\//,"").split("/");R="/"+k.replace(/^\//,"").split("/").slice(P.length).join("/")}let M=Wy(n,{pathname:R});fn(w||M!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),fn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=Mx(M&&M.map(P=>Object.assign({},P,{params:Object.assign({},p,P.params),pathname:ms([b,u.encodeLocation?u.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?b:ms([b,u.encodeLocation?u.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),d,i,a,l);return t&&D?B.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function Cx(){let n=Px(),t=fx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),i?B.createElement("pre",{style:l},i):null,d)}var Rx=B.createElement(Cx,null),lb=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const i=xx(n.digest);i&&(n=i)}let t=n!==void 0?B.createElement(jn.Provider,{value:this.props.routeContext},B.createElement(Nm.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?B.createElement(Lx,{error:n},t):t}};lb.contextType=gx;var Wf=new WeakMap;function Lx({children:n,error:t}){let{basename:i}=B.useContext(Wi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=wx(t.digest);if(a){let l=Wf.get(t);if(l)throw l;let u=eb(a.location,i);if(tb&&!Wf.get(t))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw Wf.set(t,d),d}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function kx({routeContext:n,match:t,children:i}){let a=B.useContext(xo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(jn.Provider,{value:n},i)}function Mx(n,t=[],i=null,a=null,l=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let u=n,d=i?.errors;if(d!=null){let b=u.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);ve(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let f=!1,p=-1;if(i)for(let b=0;b<u.length;b++){let w=u[b];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=b),w.route.id){let{loaderData:T,errors:E}=i,k=w.route.loader&&!T.hasOwnProperty(w.route.id)&&(!E||E[w.route.id]===void 0);if(w.route.lazy||k){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let _=i&&a?(b,w)=>{a(b,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:mx(i.matches),errorInfo:w})}:void 0;return u.reduceRight((b,w,T)=>{let E,k=!1,R=null,M=null;i&&(E=d&&w.route.id?d[w.route.id]:void 0,R=w.route.errorElement||Rx,f&&(p<0&&T===0?(ub("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,M=null):p===T&&(k=!0,M=w.route.hydrateFallbackElement||null)));let D=t.concat(u.slice(0,T+1)),P=()=>{let U;return E?U=R:k?U=M:w.route.Component?U=B.createElement(w.route.Component,null):w.route.element?U=w.route.element:U=b,B.createElement(kx,{match:w,routeContext:{outlet:b,matches:D,isDataRoute:i!=null},children:U})};return i&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?B.createElement(lb,{location:i.location,revalidation:i.revalidation,component:R,error:E,children:P(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:_}):P()},null)}function jm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dx(n){let t=B.useContext(xo);return ve(t,jm(n)),t}function Nx(n){let t=B.useContext(kh);return ve(t,jm(n)),t}function jx(n){let t=B.useContext(jn);return ve(t,jm(n)),t}function zm(n){let t=jx(n),i=t.matches[t.matches.length-1];return ve(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function zx(){return zm("useRouteId")}function Px(){let n=B.useContext(Nm),t=Nx("useRouteError"),i=zm("useRouteError");return n!==void 0?n:t.errors?.[i]}function Bx(){let{router:n}=Dx("useNavigate"),t=zm("useNavigate"),i=B.useRef(!1);return rb(()=>{i.current=!0}),B.useCallback(async(l,u={})=>{fn(i.current,ab),i.current&&(typeof l=="number"?await n.navigate(l):await n.navigate(l,{fromRouteId:t,...u}))},[n,t])}var mv={};function ub(n,t,i){!t&&!mv[n]&&(mv[n]=!0,fn(!1,i))}B.memo(Ux);function Ux({routes:n,future:t,state:i,onError:a}){return ob(n,void 0,i,a,t)}function Hx(n){return Ox(n.context)}function ei(n){ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ix({basename:n="/",children:t=null,location:i,navigationType:a="POP",navigator:l,static:u=!1,unstable_useTransitions:d}){ve(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:f,navigator:l,static:u,unstable_useTransitions:d,future:{}}),[f,l,u,d]);typeof i=="string"&&(i=wo(i));let{pathname:_="/",search:b="",hash:w="",state:T=null,key:E="default"}=i,k=B.useMemo(()=>{let R=ps(_,f);return R==null?null:{location:{pathname:R,search:b,hash:w,state:T,key:E},navigationType:a}},[f,_,b,w,T,E,a]);return fn(k!=null,`<Router basename="${f}"> is not able to match the URL "${_}${b}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:B.createElement(Wi.Provider,{value:p},B.createElement(hu.Provider,{children:t,value:k}))}function qx({children:n,location:t}){return Ax(pm(n),t)}function pm(n,t=[]){let i=[];return B.Children.forEach(n,(a,l)=>{if(!B.isValidElement(a))return;let u=[...t,l];if(a.type===B.Fragment){i.push.apply(i,pm(a.props.children,u));return}ve(a.type===ei,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ve(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=pm(a.props.children,u)),i.push(d)}),i}var fh="get",mh="application/x-www-form-urlencoded";function Mh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Zx(n){return Mh(n)&&n.tagName.toLowerCase()==="button"}function Vx(n){return Mh(n)&&n.tagName.toLowerCase()==="form"}function $x(n){return Mh(n)&&n.tagName.toLowerCase()==="input"}function Gx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Yx(n,t){return n.button===0&&(!t||t==="_self")&&!Gx(n)}function gm(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,i)=>{let a=n[i];return t.concat(Array.isArray(a)?a.map(l=>[i,l]):[[i,a]])},[]))}function Fx(n,t){let i=gm(n);return t&&t.forEach((a,l)=>{i.has(l)||t.getAll(l).forEach(u=>{i.append(l,u)})}),i}var Gc=null;function Wx(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var Kx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kf(n){return n!=null&&!Kx.has(n)?(fn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):n}function Xx(n,t){let i,a,l,u,d;if(Vx(n)){let f=n.getAttribute("action");a=f?ps(f,t):null,i=n.getAttribute("method")||fh,l=Kf(n.getAttribute("enctype"))||mh,u=new FormData(n)}else if(Zx(n)||$x(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(a=p?ps(p,t):null,i=n.getAttribute("formmethod")||f.getAttribute("method")||fh,l=Kf(n.getAttribute("formenctype"))||Kf(f.getAttribute("enctype"))||mh,u=new FormData(f,n),!Wx()){let{name:_,type:b,value:w}=n;if(b==="image"){let T=_?`${_}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else _&&u.append(_,w)}}else{if(Mh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=fh,a=null,l=mh,d=n}return u&&l==="text/plain"&&(d=u,u=void 0),{action:a,method:i.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pm(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Jx(n,t,i,a){let l=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${a}`:l.pathname=`${l.pathname}.${a}`:l.pathname==="/"?l.pathname=`_root.${a}`:t&&ps(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function Qx(n,t){if(n.id in t)return t[n.id];try{let i=await import(n.module);return t[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function eS(n,t,i){let a=await Promise.all(n.map(async l=>{let u=t.routes[l.route.id];if(u){let d=await Qx(u,i);return d.links?d.links():[]}return[]}));return aS(a.flat(1).filter(tS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function pv(n,t,i,a,l,u){let d=(p,_)=>i[_]?p.route.id!==i[_].route.id:!0,f=(p,_)=>i[_].pathname!==p.pathname||i[_].route.path?.endsWith("*")&&i[_].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,_)=>d(p,_)||f(p,_)):u==="data"?t.filter((p,_)=>{let b=a.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(d(p,_)||f(p,_))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function iS(n,t,{includeHydrateFallback:i}={}){return nS(n.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function nS(n){return[...new Set(n)]}function sS(n){let t={},i=Object.keys(n).sort();for(let a of i)t[a]=n[a];return t}function aS(n,t){let i=new Set;return new Set(t),n.reduce((a,l)=>{let u=JSON.stringify(sS(l));return i.has(u)||(i.add(u),a.push({key:u,link:l})),a},[])}function cb(){let n=B.useContext(xo);return Pm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function rS(){let n=B.useContext(kh);return Pm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Bm=B.createContext(void 0);Bm.displayName="FrameworkContext";function hb(){let n=B.useContext(Bm);return Pm(n,"You must render this element inside a <HydratedRouter> element"),n}function oS(n,t){let i=B.useContext(Bm),[a,l]=B.useState(!1),[u,d]=B.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:_,onMouseLeave:b,onTouchStart:w}=t,T=B.useRef(null);B.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let R=D=>{D.forEach(P=>{d(P.isIntersecting)})},M=new IntersectionObserver(R,{threshold:.5});return T.current&&M.observe(T.current),()=>{M.disconnect()}}},[n]),B.useEffect(()=>{if(a){let R=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(R)}}},[a]);let E=()=>{l(!0)},k=()=>{l(!1),d(!1)};return i?n!=="intent"?[u,T,{}]:[u,T,{onFocus:Dl(f,E),onBlur:Dl(p,k),onMouseEnter:Dl(_,E),onMouseLeave:Dl(b,k),onTouchStart:Dl(w,E)}]:[!1,T,{}]}function Dl(n,t){return i=>{n&&n(i),i.defaultPrevented||t(i)}}function lS({page:n,...t}){let{router:i}=cb(),a=B.useMemo(()=>Wy(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?B.createElement(cS,{page:n,matches:a,...t}):null}function uS(n){let{manifest:t,routeModules:i}=hb(),[a,l]=B.useState([]);return B.useEffect(()=>{let u=!1;return eS(n,t,i).then(d=>{u||l(d)}),()=>{u=!0}},[n,t,i]),a}function cS({page:n,matches:t,...i}){let a=ca(),{future:l,manifest:u,routeModules:d}=hb(),{basename:f}=cb(),{loaderData:p,matches:_}=rS(),b=B.useMemo(()=>pv(n,t,_,u,a,"data"),[n,t,_,u,a]),w=B.useMemo(()=>pv(n,t,_,u,a,"assets"),[n,t,_,u,a]),T=B.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let R=new Set,M=!1;if(t.forEach(P=>{let U=u.routes[P.route.id];!U||!U.hasLoader||(!b.some(W=>W.route.id===P.route.id)&&P.route.id in p&&d[P.route.id]?.shouldRevalidate||U.hasClientLoader?M=!0:R.add(P.route.id))}),R.size===0)return[];let D=Jx(n,f,l.unstable_trailingSlashAwareDataRequests,"data");return M&&R.size>0&&D.searchParams.set("_routes",t.filter(P=>R.has(P.route.id)).map(P=>P.route.id).join(",")),[D.pathname+D.search]},[f,l.unstable_trailingSlashAwareDataRequests,p,a,u,b,t,n,d]),E=B.useMemo(()=>iS(w,u),[w,u]),k=uS(w);return B.createElement(B.Fragment,null,T.map(R=>B.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...i})),E.map(R=>B.createElement("link",{key:R,rel:"modulepreload",href:R,...i})),k.map(({key:R,link:M})=>B.createElement("link",{key:R,nonce:i.nonce,...M,crossOrigin:M.crossOrigin??i.crossOrigin})))}function hS(...n){return t=>{n.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var dS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dS&&(window.__reactRouterVersion="7.13.0")}catch{}function fS({basename:n,children:t,unstable_useTransitions:i,window:a}){let l=B.useRef();l.current==null&&(l.current=Zw({window:a,v5Compat:!0}));let u=l.current,[d,f]=B.useState({action:u.action,location:u.location}),p=B.useCallback(_=>{i===!1?f(_):B.startTransition(()=>f(_))},[i]);return B.useLayoutEffect(()=>u.listen(p),[u,p]),B.createElement(Ix,{basename:n,children:t,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:i})}var db=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dn=B.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:l,reloadDocument:u,replace:d,state:f,target:p,to:_,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:T,...E},k){let{basename:R,unstable_useTransitions:M}=B.useContext(Wi),D=typeof _=="string"&&db.test(_),P=eb(_,R);_=P.to;let U=Sx(_,{relative:l}),[W,et,at]=oS(a,E),st=gS(_,{replace:d,state:f,target:p,preventScrollReset:b,relative:l,viewTransition:w,unstable_defaultShouldRevalidate:T,unstable_useTransitions:M});function dt(Tt){t&&t(Tt),Tt.defaultPrevented||st(Tt)}let yt=B.createElement("a",{...E,...at,href:P.absoluteURL||U,onClick:P.isExternal||u?t:dt,ref:hS(k,et),target:p,"data-discover":!D&&i==="render"?"true":void 0});return W&&!D?B.createElement(B.Fragment,null,yt,B.createElement(lS,{page:U})):yt});dn.displayName="Link";var Hl=B.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:l=!1,style:u,to:d,viewTransition:f,children:p,..._},b){let w=fu(d,{relative:_.relative}),T=ca(),E=B.useContext(kh),{navigator:k,basename:R}=B.useContext(Wi),M=E!=null&&xS(w)&&f===!0,D=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,P=T.pathname,U=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(P=P.toLowerCase(),U=U?U.toLowerCase():null,D=D.toLowerCase()),U&&R&&(U=ps(U,R)||U);const W=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let et=P===D||!l&&P.startsWith(D)&&P.charAt(W)==="/",at=U!=null&&(U===D||!l&&U.startsWith(D)&&U.charAt(D.length)==="/"),st={isActive:et,isPending:at,isTransitioning:M},dt=et?t:void 0,yt;typeof a=="function"?yt=a(st):yt=[a,et?"active":null,at?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let Tt=typeof u=="function"?u(st):u;return B.createElement(dn,{..._,"aria-current":dt,className:yt,ref:b,style:Tt,to:d,viewTransition:f},typeof p=="function"?p(st):p)});Hl.displayName="NavLink";var mS=B.forwardRef(({discover:n="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:l,state:u,method:d=fh,action:f,onSubmit:p,relative:_,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:T,...E},k)=>{let{unstable_useTransitions:R}=B.useContext(Wi),M=bS(),D=wS(f,{relative:_}),P=d.toLowerCase()==="get"?"get":"post",U=typeof f=="string"&&db.test(f),W=et=>{if(p&&p(et),et.defaultPrevented)return;et.preventDefault();let at=et.nativeEvent.submitter,st=at?.getAttribute("formmethod")||d,dt=()=>M(at||et.currentTarget,{fetcherKey:t,method:st,navigate:i,replace:l,state:u,relative:_,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:T});R&&i!==!1?B.startTransition(()=>dt()):dt()};return B.createElement("form",{ref:k,method:P,action:D,onSubmit:a?p:W,...E,"data-discover":!U&&n==="render"?"true":void 0})});mS.displayName="Form";function pS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fb(n){let t=B.useContext(xo);return ve(t,pS(n)),t}function gS(n,{target:t,replace:i,state:a,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let _=Ki(),b=ca(),w=fu(n,{relative:u});return B.useCallback(T=>{if(Yx(T,t)){T.preventDefault();let E=i!==void 0?i:Ql(b)===Ql(w),k=()=>_(n,{replace:E,state:a,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:f});p?B.startTransition(()=>k()):k()}},[b,_,w,i,a,t,n,l,u,d,f,p])}function _S(n){fn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=B.useRef(gm(n)),i=B.useRef(!1),a=ca(),l=B.useMemo(()=>Fx(a.search,i.current?null:t.current),[a.search]),u=Ki(),d=B.useCallback((f,p)=>{const _=gm(typeof f=="function"?f(new URLSearchParams(l)):f);i.current=!0,u("?"+_,p)},[u,l]);return[l,d]}var vS=0,yS=()=>`__${String(++vS)}__`;function bS(){let{router:n}=fb("useSubmit"),{basename:t}=B.useContext(Wi),i=zx(),a=n.fetch,l=n.navigate;return B.useCallback(async(u,d={})=>{let{action:f,method:p,encType:_,formData:b,body:w}=Xx(u,t);if(d.navigate===!1){let T=d.fetcherKey||yS();await a(T,i,d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:b,body:w,formMethod:d.method||p,formEncType:d.encType||_,flushSync:d.flushSync})}else await l(d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:b,body:w,formMethod:d.method||p,formEncType:d.encType||_,replace:d.replace,state:d.state,fromRouteId:i,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,l,t,i])}function wS(n,{relative:t}={}){let{basename:i}=B.useContext(Wi),a=B.useContext(jn);ve(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...fu(n||".",{relative:t})},d=ca();if(n==null){u.search=d.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(b=>b==="")){f.delete("index"),p.filter(w=>w).forEach(w=>f.append("index",w));let b=f.toString();u.search=b?`?${b}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ms([i,u.pathname])),Ql(u)}function xS(n,{relative:t}={}){let i=B.useContext(nb);ve(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=fb("useViewTransitionState"),l=fu(n,{relative:t});if(!i.isTransitioning)return!1;let u=ps(i.currentLocation.pathname,a)||i.currentLocation.pathname,d=ps(i.nextLocation.pathname,a)||i.nextLocation.pathname;return _h(l.pathname,d)!=null||_h(l.pathname,u)!=null}var SS=Fy();function Dh(n,t){var i={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(i[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(n);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(n,a[l])&&(i[a[l]]=n[a[l]]);return i}function TS(n,t,i,a){function l(u){return u instanceof i?u:new i(function(d){d(u)})}return new(i||(i=Promise))(function(u,d){function f(b){try{_(a.next(b))}catch(w){d(w)}}function p(b){try{_(a.throw(b))}catch(w){d(w)}}function _(b){b.done?u(b.value):l(b.value).then(f,p)}_((a=a.apply(n,t||[])).next())})}const ES=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class Um extends Error{constructor(t,i="FunctionsError",a){super(t),this.name=i,this.context=a}}class OS extends Um{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gv extends Um{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class _v extends Um{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _m;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(_m||(_m={}));class AS{constructor(t,{headers:i={},customFetch:a,region:l=_m.Any}={}){this.url=t,this.headers=i,this.region=l,this.fetch=ES(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return TS(this,arguments,void 0,function*(i,a={}){var l;let u,d;try{const{headers:f,method:p,body:_,signal:b,timeout:w}=a;let T={},{region:E}=a;E||(E=this.region);const k=new URL(`${this.url}/${i}`);E&&E!=="any"&&(T["x-region"]=E,k.searchParams.set("forceFunctionRegion",E));let R;_&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&_ instanceof Blob||_ instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",R=_):typeof _=="string"?(T["Content-Type"]="text/plain",R=_):typeof FormData<"u"&&_ instanceof FormData?R=_:(T["Content-Type"]="application/json",R=JSON.stringify(_)):_&&typeof _!="string"&&!(typeof Blob<"u"&&_ instanceof Blob)&&!(_ instanceof ArrayBuffer)&&!(typeof FormData<"u"&&_ instanceof FormData)?R=JSON.stringify(_):R=_;let M=b;w&&(d=new AbortController,u=setTimeout(()=>d.abort(),w),b?(M=d.signal,b.addEventListener("abort",()=>d.abort())):M=d.signal);const D=yield this.fetch(k.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),f),body:R,signal:M}).catch(et=>{throw new OS(et)}),P=D.headers.get("x-relay-error");if(P&&P==="true")throw new gv(D);if(!D.ok)throw new _v(D);let U=((l=D.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),W;return U==="application/json"?W=yield D.json():U==="application/octet-stream"||U==="application/pdf"?W=yield D.blob():U==="text/event-stream"?W=D:U==="multipart/form-data"?W=yield D.formData():W=yield D.text(),{data:W,error:null,response:D}}catch(f){return{data:null,error:f,response:f instanceof _v||f instanceof gv?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var CS=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},RS=class{constructor(n){var t,i,a;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(i=n.isMaybeSingle)!==null&&i!==void 0?i:!1,this.urlLengthLimit=(a=n.urlLengthLimit)!==null&&a!==void 0?a:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let d=null,f=null,p=null,_=u.status,b=u.statusText;if(u.ok){var w,T;if(i.method!=="HEAD"){var E;const D=await u.text();D===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((E=i.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?f=D:f=JSON.parse(D))}const R=(w=i.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),M=(T=u.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");R&&M&&M.length>1&&(p=parseInt(M[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,_=406,b="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var k;const R=await u.text();try{d=JSON.parse(R),Array.isArray(d)&&u.status===404&&(f=[],d=null,_=200,b="OK")}catch{u.status===404&&R===""?(_=204,b="No Content"):d={message:R}}if(d&&i.isMaybeSingle&&(!(d==null||(k=d.details)===null||k===void 0)&&k.includes("0 rows"))&&(d=null,_=200,b="OK"),d&&i.shouldThrowOnError)throw new CS(d)}return{error:d,data:f,count:p,status:_,statusText:b}});return this.shouldThrowOnError||(l=l.catch(u=>{var d;let f="",p="",_="";const b=u?.cause;if(b){var w,T,E,k;const D=(w=b?.message)!==null&&w!==void 0?w:"",P=(T=b?.code)!==null&&T!==void 0?T:"";f=`${(E=u?.name)!==null&&E!==void 0?E:"FetchError"}: ${u?.message}`,f+=`

Caused by: ${(k=b?.name)!==null&&k!==void 0?k:"Error"}: ${D}`,P&&(f+=` (${P})`),b?.stack&&(f+=`
${b.stack}`)}else{var R;f=(R=u?.stack)!==null&&R!==void 0?R:""}const M=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(_="",p="Request was aborted (timeout or manual cancellation)",M>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${M} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(b?.name==="HeadersOverflowError"||b?.code==="UND_ERR_HEADERS_OVERFLOW")&&(_="",p="HTTP headers exceeded server limits (typically 16KB)",M>this.urlLengthLimit&&(p+=`. Your request URL is ${M} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:f,hint:p,code:_},data:null,count:null,status:0,statusText:""}})),l.then(n,t)}returns(){return this}overrideTypes(){return this}},LS=class extends RS{select(n){let t=!1;const i=(n??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:i,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${n}.${t?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:i=t}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,t,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:i=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const f=[n?"analyze":null,t?"verbose":null,i?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const vv=new RegExp("[,()]");var mo=class extends LS{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const i=Array.from(new Set(t)).map(a=>typeof a=="string"&&vv.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${i})`),this}notIn(n,t){const i=Array.from(new Set(t)).map(a=>typeof a=="string"&&vv.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`not.in.(${i})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:i,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(n,`${l}fts${u}.${t}`),this}match(n){return Object.entries(n).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(n,t,i){return this.url.searchParams.append(n,`not.${t}.${i}`),this}or(n,{foreignTable:t,referencedTable:i=t}={}){const a=i?`${i}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,t,i){return this.url.searchParams.append(n,`${t}.${i}`),this}},kS=class{constructor(n,{headers:t={},schema:i,fetch:a,urlLengthLimit:l=8e3}){this.url=n,this.headers=new Headers(t),this.schema=i,this.fetch=a,this.urlLengthLimit=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,t){const{head:i=!1,count:a}=t??{},l=i?"HEAD":"GET";let u=!1;const d=(n??"*").split("").map(_=>/\s/.test(_)&&!u?"":(_==='"'&&(u=!u),_)).join(""),{url:f,headers:p}=this.cloneRequestState();return f.searchParams.set("select",d),a&&p.append("Prefer",`count=${a}`),new mo({method:l,url:f,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:t,defaultToNull:i=!0}={}){var a;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(t&&d.append("Prefer",`count=${t}`),i||d.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((p,_)=>p.concat(Object.keys(_)),[]);if(f.length>0){const p=[...new Set(f)].map(_=>`"${_}"`);u.searchParams.set("columns",p.join(","))}}return new mo({method:l,url:u,headers:d,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:t,ignoreDuplicates:i=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST",{url:f,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),t!==void 0&&f.searchParams.set("on_conflict",t),a&&p.append("Prefer",`count=${a}`),l||p.append("Prefer","missing=default"),Array.isArray(n)){const _=n.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(_.length>0){const b=[...new Set(_)].map(w=>`"${w}"`);f.searchParams.set("columns",b.join(","))}}return new mo({method:d,url:f,headers:p,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:t}={}){var i;const a="PATCH",{url:l,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new mo({method:a,url:l,headers:u,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var t;const i="DELETE",{url:a,headers:l}=this.cloneRequestState();return n&&l.append("Prefer",`count=${n}`),new mo({method:i,url:a,headers:l,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function tu(n){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(n)}function MS(n,t){if(tu(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var a=i.call(n,t);if(tu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function DS(n){var t=MS(n,"string");return tu(t)=="symbol"?t:t+""}function NS(n,t,i){return(t=DS(t))in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function yv(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),i.push.apply(i,a)}return i}function Yc(n){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?yv(Object(i),!0).forEach(function(a){NS(n,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):yv(Object(i)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(i,a))})}return n}var jS=class mb{constructor(t,{headers:i={},schema:a,fetch:l,timeout:u,urlLengthLimit:d=8e3}={}){this.url=t,this.headers=new Headers(i),this.schemaName=a,this.urlLengthLimit=d;const f=l??globalThis.fetch;u!==void 0&&u>0?this.fetch=(p,_)=>{const b=new AbortController,w=setTimeout(()=>b.abort(),u),T=_?.signal;if(T){if(T.aborted)return clearTimeout(w),f(p,_);const E=()=>{clearTimeout(w),b.abort()};return T.addEventListener("abort",E,{once:!0}),f(p,Yc(Yc({},_),{},{signal:b.signal})).finally(()=>{clearTimeout(w),T.removeEventListener("abort",E)})}return f(p,Yc(Yc({},_),{},{signal:b.signal})).finally(()=>clearTimeout(w))}:this.fetch=f}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kS(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new mb(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,i={},{head:a=!1,get:l=!1,count:u}={}){var d;let f;const p=new URL(`${this.url}/rpc/${t}`);let _;const b=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(b)),w=a&&Object.values(i).some(b);w?(f="POST",_=i):a||l?(f=a?"HEAD":"GET",Object.entries(i).filter(([E,k])=>k!==void 0).map(([E,k])=>[E,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([E,k])=>{p.searchParams.append(E,k)})):(f="POST",_=i);const T=new Headers(this.headers);return w?T.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&T.set("Prefer",`count=${u}`),new mo({method:f,url:p,headers:T,schema:this.schemaName,body:_,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class zS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const a=i.versions;if(a&&a.node){const l=a.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let i=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(i+=`

Suggested solution: ${t.workaround}`),new Error(i)}static createWebSocket(t,i){const a=this.getWebSocketConstructor();return new a(t,i)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const PS="2.95.3",BS=`realtime-js/${PS}`,US="1.0.0",pb="2.0.0",bv=pb,vm=1e4,HS=1e3,IS=100;var na;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(na||(na={}));var Be;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Be||(Be={}));var hn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(hn||(hn={}));var ym;(function(n){n.websocket="websocket"})(ym||(ym={}));var or;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(or||(or={}));class qS{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,i){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return i(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var i;return this._isArrayBuffer((i=t.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var i,a;const l=(a=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(t){var i,a;const l=(a=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(t,i,a){var l,u;const d=t.topic,f=(l=t.ref)!==null&&l!==void 0?l:"",p=(u=t.join_ref)!==null&&u!==void 0?u:"",_=t.payload.event,b=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(b).length===0?"":JSON.stringify(b);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`userEvent length ${_.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const T=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+d.length+_.length+w.length,E=new ArrayBuffer(this.HEADER_LENGTH+T);let k=new DataView(E),R=0;k.setUint8(R++,this.KINDS.userBroadcastPush),k.setUint8(R++,p.length),k.setUint8(R++,f.length),k.setUint8(R++,d.length),k.setUint8(R++,_.length),k.setUint8(R++,w.length),k.setUint8(R++,i),Array.from(p,D=>k.setUint8(R++,D.charCodeAt(0))),Array.from(f,D=>k.setUint8(R++,D.charCodeAt(0))),Array.from(d,D=>k.setUint8(R++,D.charCodeAt(0))),Array.from(_,D=>k.setUint8(R++,D.charCodeAt(0))),Array.from(w,D=>k.setUint8(R++,D.charCodeAt(0)));var M=new Uint8Array(E.byteLength+a.byteLength);return M.set(new Uint8Array(E),0),M.set(new Uint8Array(a),E.byteLength),M.buffer}decode(t,i){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return i(a)}if(typeof t=="string"){const a=JSON.parse(t),[l,u,d,f,p]=a;return i({join_ref:l,ref:u,topic:d,event:f,payload:p})}return i({})}_binaryDecode(t){const i=new DataView(t),a=i.getUint8(0),l=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,i,l)}_decodeUserBroadcast(t,i,a){const l=i.getUint8(1),u=i.getUint8(2),d=i.getUint8(3),f=i.getUint8(4);let p=this.HEADER_LENGTH+4;const _=a.decode(t.slice(p,p+l));p=p+l;const b=a.decode(t.slice(p,p+u));p=p+u;const w=a.decode(t.slice(p,p+d));p=p+d;const T=t.slice(p,t.byteLength),E=f===this.JSON_ENCODING?JSON.parse(a.decode(T)):T,k={type:this.BROADCAST_EVENT,event:b,payload:E};return d>0&&(k.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:_,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var i;return t instanceof ArrayBuffer||((i=t?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(t,i){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>i.includes(a)))}}class gb{constructor(t,i){this.callback=t,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(oe||(oe={}));const wv=(n,t,i={})=>{var a;const l=(a=i.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((u,d)=>(u[d]=ZS(d,n,t,l),u),{}):{}},ZS=(n,t,i,a)=>{const l=t.find(f=>f.name===n),u=l?.type,d=i[n];return u&&!a.includes(u)?_b(u,d):bm(d)},_b=(n,t)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return YS(t,i)}switch(n){case oe.bool:return VS(t);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return $S(t);case oe.json:case oe.jsonb:return GS(t);case oe.timestamp:return FS(t);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return bm(t);default:return bm(t)}},bm=n=>n,VS=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},$S=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},GS=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},YS=(n,t)=>{if(typeof n!="string")return n;const i=n.length-1,a=n[i];if(n[0]==="{"&&a==="}"){let u;const d=n.slice(1,i);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(f=>_b(t,f))}return n},FS=n=>typeof n=="string"?n.replace(" ","T"):n,vb=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Xf{constructor(t,i,a={},l=vm){this.channel=t,this.event=i,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,i){var a;return this._hasReceived(t)&&i((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:i}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(i))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(xv||(xv={}));class Yl{constructor(t,i){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yl.syncState(this.state,l,u,d),this.pendingDiffs.forEach(p=>{this.state=Yl.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Yl.syncDiff(this.state,l,u,d),f())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,i,a,l){const u=this.cloneDeep(t),d=this.transformState(i),f={},p={};return this.map(u,(_,b)=>{d[_]||(p[_]=b)}),this.map(d,(_,b)=>{const w=u[_];if(w){const T=b.map(M=>M.presence_ref),E=w.map(M=>M.presence_ref),k=b.filter(M=>E.indexOf(M.presence_ref)<0),R=w.filter(M=>T.indexOf(M.presence_ref)<0);k.length>0&&(f[_]=k),R.length>0&&(p[_]=R)}else f[_]=b}),this.syncDiff(u,{joins:f,leaves:p},a,l)}static syncDiff(t,i,a,l){const{joins:u,leaves:d}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(u,(f,p)=>{var _;const b=(_=t[f])!==null&&_!==void 0?_:[];if(t[f]=this.cloneDeep(p),b.length>0){const w=t[f].map(E=>E.presence_ref),T=b.filter(E=>w.indexOf(E.presence_ref)<0);t[f].unshift(...T)}a(f,b,p)}),this.map(d,(f,p)=>{let _=t[f];if(!_)return;const b=p.map(w=>w.presence_ref);_=_.filter(w=>b.indexOf(w.presence_ref)<0),t[f]=_,l(f,_,p),_.length===0&&delete t[f]}),t}static map(t,i){return Object.getOwnPropertyNames(t).map(a=>i(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((i,a)=>{const l=t[a];return"metas"in l?i[a]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[a]=l,i},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Sv||(Sv={}));var Fl;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Fl||(Fl={}));var ds;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ds||(ds={}));class _o{constructor(t,i={config:{}},a){var l,u;if(this.topic=t,this.params=i,this.socket=a,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Xf(this,hn.join,this.params,this.timeout),this.rejoinTimer=new gb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hn.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new Yl(this),this.broadcastEndpointURL=vb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,i=this.timeout){var a,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,_=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(E=>E.filter))!==null&&l!==void 0?l:[],b=!!this.bindings[Fl.PRESENCE]&&this.bindings[Fl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},T={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:b}),postgres_changes:_,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(E=>t?.(ds.CHANNEL_ERROR,E)),this._onClose(()=>t?.(ds.CLOSED)),this.updateJoinPayload(Object.assign({config:T},w)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:E})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){t?.(ds.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,M=(k=R?.length)!==null&&k!==void 0?k:0,D=[];for(let P=0;P<M;P++){const U=R[P],{filter:{event:W,schema:et,table:at,filter:st}}=U,dt=E&&E[P];if(dt&&dt.event===W&&_o.isFilterValueEqual(dt.schema,et)&&_o.isFilterValueEqual(dt.table,at)&&_o.isFilterValueEqual(dt.filter,st))D.push(Object.assign(Object.assign({},U),{id:dt.id}));else{this.unsubscribe(),this.state=Be.errored,t?.(ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,t&&t(ds.SUBSCRIBED);return}}).receive("error",E=>{this.state=Be.errored,t?.(ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{t?.(ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,i={}){return await this.send({type:"presence",event:"track",payload:t},i.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,i,a){return this.state===Be.joined&&t===Fl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,i,a)}async httpSend(t,i,a={}){var l;if(i==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:i,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const _=await f.json();p=_.error||_.message||p}catch{}return Promise.reject(new Error(p))}async send(t,i={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const _=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=_.body)===null||l===void 0?void 0:l.cancel()),_.ok?"ok":"error"}catch(_){return _.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,f,p;const _=this._push(t.type,t,i.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),_.receive("ok",()=>u("ok")),_.receive("error",()=>u("error")),_.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Be.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new Xf(this,hn.leave,{},t),a.receive("ok",()=>{i(),l("ok")}).receive("timeout",()=>{i(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Be.closed,this.bindings={}}async _fetchWithTimeout(t,i,a){const l=new AbortController,u=setTimeout(()=>l.abort(),a),d=await this.socket.fetch(t,Object.assign(Object.assign({},i),{signal:l.signal}));return clearTimeout(u),d}_push(t,i,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Xf(this,t,i,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>IS){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(t,i,a){return i}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,i,a){var l,u;const d=t.toLocaleLowerCase(),{close:f,error:p,leave:_,join:b}=hn;if(a&&[f,p,_,b].indexOf(d)>=0&&a!==this._joinRef())return;let T=this._onMessage(d,i,a);if(i&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(E=>{var k,R,M;return((k=E.filter)===null||k===void 0?void 0:k.event)==="*"||((M=(R=E.filter)===null||R===void 0?void 0:R.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===d}).map(E=>E.callback(T,a)):(u=this.bindings[d])===null||u===void 0||u.filter(E=>{var k,R,M,D,P,U;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in E){const W=E.id,et=(k=E.filter)===null||k===void 0?void 0:k.event;return W&&((R=i.ids)===null||R===void 0?void 0:R.includes(W))&&(et==="*"||et?.toLocaleLowerCase()===((M=i.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const W=(P=(D=E?.filter)===null||D===void 0?void 0:D.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return W==="*"||W===((U=i?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===d}).map(E=>{if(typeof T=="object"&&"ids"in T){const k=T.data,{schema:R,table:M,commit_timestamp:D,type:P,errors:U}=k;T=Object.assign(Object.assign({},{schema:R,table:M,commit_timestamp:D,eventType:P,new:{},old:{},errors:U}),this._getPayloadRecords(k))}E.callback(T,a)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,i,a){const l=t.toLocaleLowerCase(),u={type:l,filter:i,callback:a};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(t,i){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&_o.isEqual(l.filter,i))})),this}static isEqual(t,i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(const a in t)if(t[a]!==i[a])return!1;return!0}static isFilterValueEqual(t,i){return(t??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hn.close,{},t)}_onError(t){this._on(hn.error,{},i=>t(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const i={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(i.new=wv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(i.old=wv(t.columns,t.old_record)),i}}const Jf=()=>{},Fc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WS=[1e3,2e3,5e3,1e4],KS=1e4,XS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class JS{constructor(t,i){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vm,this.transport=null,this.heartbeatIntervalMs=Fc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jf,this.ref=0,this.reconnectTimer=null,this.vsn=bv,this.logger=Jf,this.conn=null,this.sendBuffer=[],this.serializer=new qS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((a=i?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${t}/${ym.websocket}`,this.httpEndpoint=vb(t),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const i=t.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const i=await t.unsubscribe();return i==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const t=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,i,a){this.logger(t,i,a)}connectionState(){switch(this.conn&&this.conn.readyState){case na.connecting:return or.Connecting;case na.open:return or.Open;case na.closing:return or.Closing;default:return or.Closed}}isConnected(){return this.connectionState()===or.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,i={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(u=>u.topic===a);if(l)return l;{const u=new _o(`realtime:${t}`,i,this);return this.channels.push(u),u}}push(t){const{topic:i,event:a,payload:l,ref:u}=t,d=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${i} ${a} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(HS,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Fc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let i=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${t}"`),i.unsubscribe())}_remove(t){this.channels=this.channels.filter(i=>i.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const _=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",_)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:l,payload:u,ref:d}=i,f=d?`(${d})`:"",p=u.status||"";this.log("receive",`${p} ${a} ${l} ${f}`.trim(),u),this.channels.filter(_=>_._isMember(a)).forEach(_=>_._trigger(l,u,d)),this._triggerStateCallbacks("message",i)})}_clearTimer(t){var i;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===na.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===na.open||this.conn.readyState===na.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var i;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(hn.error))}_appendParams(t,i){if(Object.keys(i).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(i);return`${t}${a}${l}`}_workerObjectUrl(t){let i;if(t)i=t;else{const a=new Blob([XS],{type:"application/javascript"});i=URL.createObjectURL(a)}return i}_setConnectionState(t,i=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(t=null){let i,a=!1;if(t)i=t,a=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),i=this.accessTokenValue}else i=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(l=>{const u={access_token:i,version:BS};i&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(hn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${t}`,i)})}_triggerStateCallbacks(t,i){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(i)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new gb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var i,a,l,u,d,f,p,_,b,w,T,E;switch(this.transport=(i=t?.transport)!==null&&i!==void 0?i:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:vm,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:Fc.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=t?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:Jf,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:bv,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(_=t?.reconnectAfterMs)!==null&&_!==void 0?_:(k=>WS[k-1]||KS),this.vsn){case US:this.encode=(b=t?.encode)!==null&&b!==void 0?b:((k,R)=>R(JSON.stringify(k))),this.decode=(w=t?.decode)!==null&&w!==void 0?w:((k,R)=>R(JSON.parse(k)));break;case pb:this.encode=(T=t?.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(E=t?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var eu=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function QS(n,t,i){const a=new URL(t,n);if(i)for(const[l,u]of Object.entries(i))u!==void 0&&a.searchParams.set(l,u);return a.toString()}async function tT(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function eT(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:i,path:a,query:l,body:u,headers:d}){const f=QS(n.baseUrl,a,l),p=await tT(n.auth),_=await t(f,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...p,...d},body:u?JSON.stringify(u):void 0}),b=await _.text(),w=(_.headers.get("content-type")||"").includes("application/json"),T=w&&b?JSON.parse(b):b;if(!_.ok){const E=w?T:void 0,k=E?.error;throw new eu(k?.message??`Request failed with status ${_.status}`,{status:_.status,icebergType:k?.type,icebergCode:k?.code,details:E})}return{status:_.status,headers:_.headers,data:T}}}}function Wc(n){return n.join("")}var iT=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:Wc(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(n,t){const i={namespace:n.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wc(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wc(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wc(n.namespace)}`}),!0}catch(t){if(t instanceof eu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(i){if(i instanceof eu&&i.status===409)return;throw i}}};function ao(n){return n.join("")}var nT=class{constructor(n,t="",i){this.client=n,this.prefix=t,this.accessDelegation=i}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ao(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ao(n.namespace)}/tables`,body:t,headers:i})).data.metadata}async updateTable(n,t){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ao(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ao(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ao(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ao(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(i){if(i instanceof eu&&i.status===404)return!1;throw i}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(i){if(i instanceof eu&&i.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw i}}},sT=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const i=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=eT({baseUrl:i,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new iT(this.client,t),this.tableOps=new nT(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},Nh=class extends Error{constructor(n,t="storage",i,a){super(n),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=a}};function jh(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Kc=class extends Nh{constructor(n,t,i,a="storage"){super(n,a,t,i),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yb=class extends Nh{constructor(n,t,i="storage"){super(n,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const aT=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),rT=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},wm=n=>{if(Array.isArray(n))return n.map(i=>wm(i));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([i,a])=>{const l=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[l]=wm(a)}),t},oT=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function iu(n){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(n)}function lT(n,t){if(iu(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var a=i.call(n,t);if(iu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function uT(n){var t=lT(n,"string");return iu(t)=="symbol"?t:t+""}function cT(n,t,i){return(t=uT(t))in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function Tv(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),i.push.apply(i,a)}return i}function Ot(n){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Tv(Object(i),!0).forEach(function(a){cT(n,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Tv(Object(i)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(i,a))})}return n}const Ev=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},hT=async(n,t,i,a)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!i?.noResolveJson){const l=n,u=l.status||500;if(typeof l.json=="function")l.json().then(d=>{const f=d?.statusCode||d?.code||u+"";t(new Kc(Ev(d),u,f,a))}).catch(()=>{if(a==="vectors"){const d=u+"";t(new Kc(l.statusText||`HTTP ${u} error`,u,d,a))}else{const d=u+"";t(new Kc(l.statusText||`HTTP ${u} error`,u,d,a))}});else{const d=u+"";t(new Kc(l.statusText||`HTTP ${u} error`,u,d,a))}}else t(new yb(Ev(n),n,a))},dT=(n,t,i,a)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"||n==="HEAD"||!a?Ot(Ot({},l),i):(rT(a)?(l.headers=Ot({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,t?.duplex&&(l.duplex=t.duplex),Ot(Ot({},l),i))};async function Nl(n,t,i,a,l,u,d){return new Promise((f,p)=>{n(i,dT(t,a,l,u)).then(_=>{if(!_.ok)throw _;if(a?.noResolveJson)return _;if(d==="vectors"){const b=_.headers.get("content-type");if(_.headers.get("content-length")==="0"||_.status===204)return{};if(!b||!b.includes("application/json"))return{}}return _.json()}).then(_=>f(_)).catch(_=>hT(_,p,a,d))})}function bb(n="storage"){return{get:async(t,i,a,l)=>Nl(t,"GET",i,a,l,void 0,n),post:async(t,i,a,l,u)=>Nl(t,"POST",i,l,u,a,n),put:async(t,i,a,l,u)=>Nl(t,"PUT",i,l,u,a,n),head:async(t,i,a,l)=>Nl(t,"HEAD",i,Ot(Ot({},a),{},{noResolveJson:!0}),l,void 0,n),remove:async(t,i,a,l,u)=>Nl(t,"DELETE",i,l,u,a,n)}}const fT=bb("storage"),{get:nu,post:cn,put:xm,head:mT,remove:Hm}=fT,ji=bb("vectors");var So=class{constructor(n,t={},i,a="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.fetch=aT(i),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var t=this;try{return{data:await n(),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(jh(i))return{data:null,error:i};throw i}}},pT=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(jh(t))return{data:null,error:t};throw t}}};let wb;wb=Symbol.toStringTag;var gT=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[wb]="BlobDownloadBuilder",this.promise=null}asStream(){return new pT(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(jh(t))return{data:null,error:t};throw t}}};const _T={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ov={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var vT=class extends So{constructor(n,t={},i,a){super(n,t,a,"storage"),this.bucketId=i}async uploadOrUpdate(n,t,i,a){var l=this;return l.handleOperation(async()=>{let u;const d=Ot(Ot({},Ov),a);let f=Ot(Ot({},l.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",l.encodeMetadata(p)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),p&&!u.has("metadata")&&u.append("metadata",l.encodeMetadata(p))):(u=i,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),a?.headers&&(f=Ot(Ot({},f),a.headers));const _=l._removeEmptyFolders(t),b=l._getFinalPath(_),w=await(n=="PUT"?xm:cn)(l.fetch,`${l.url}/object/${b}`,u,Ot({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{path:_,id:w.Id,fullPath:w.Key}})}async upload(n,t,i){return this.uploadOrUpdate("POST",n,t,i)}async uploadToSignedUrl(n,t,i,a){var l=this;const u=l._removeEmptyFolders(n),d=l._getFinalPath(u),f=new URL(l.url+`/object/upload/sign/${d}`);return f.searchParams.set("token",t),l.handleOperation(async()=>{let p;const _=Ot({upsert:Ov.upsert},a),b=Ot(Ot({},l.headers),{"x-upsert":String(_.upsert)});return typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",_.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",_.cacheControl)):(p=i,b["cache-control"]=`max-age=${_.cacheControl}`,b["content-type"]=_.contentType),{path:u,fullPath:(await xm(l.fetch,f.toString(),p,{headers:b})).Key}})}async createSignedUploadUrl(n,t){var i=this;return i.handleOperation(async()=>{let a=i._getFinalPath(n);const l=Ot({},i.headers);t?.upsert&&(l["x-upsert"]="true");const u=await cn(i.fetch,`${i.url}/object/upload/sign/${a}`,{},{headers:l}),d=new URL(i.url+u.url),f=d.searchParams.get("token");if(!f)throw new Nh("No token returned by API");return{signedUrl:d.toString(),path:n,token:f}})}async update(n,t,i){return this.uploadOrUpdate("PUT",n,t,i)}async move(n,t,i){var a=this;return a.handleOperation(async()=>await cn(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:n,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:a.headers}))}async copy(n,t,i){var a=this;return a.handleOperation(async()=>({path:(await cn(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:n,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(n,t,i){var a=this;return a.handleOperation(async()=>{let l=a._getFinalPath(n),u=await cn(a.fetch,`${a.url}/object/sign/${l}`,Ot({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:a.headers});const d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${a.url}${u.signedURL}${d}`)}})}async createSignedUrls(n,t,i){var a=this;return a.handleOperation(async()=>{const l=await cn(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:n},{headers:a.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l.map(d=>Ot(Ot({},d),{},{signedUrl:d.signedURL?encodeURI(`${a.url}${d.signedURL}${u}`):null}))})}download(n,t,i){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(t?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(n),f=()=>nu(this.fetch,`${this.url}/${a}/${d}${u}`,{headers:this.headers,noResolveJson:!0},i);return new gT(f,this.shouldThrowOnError)}async info(n){var t=this;const i=t._getFinalPath(n);return t.handleOperation(async()=>wm(await nu(t.fetch,`${t.url}/object/info/${i}`,{headers:t.headers})))}async exists(n){var t=this;const i=t._getFinalPath(n);try{return await mT(t.fetch,`${t.url}/object/${i}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(jh(a)&&a instanceof yb){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}}getPublicUrl(n,t){const i=this._getFinalPath(n),a=[],l=t?.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&a.push(l);const u=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${f}`)}}}async remove(n){var t=this;return t.handleOperation(async()=>await Hm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}))}async list(n,t,i){var a=this;return a.handleOperation(async()=>{const l=Ot(Ot(Ot({},_T),t),{},{prefix:n||""});return await cn(a.fetch,`${a.url}/object/list/${a.bucketId}`,l,{headers:a.headers},i)})}async listV2(n,t){var i=this;return i.handleOperation(async()=>{const a=Ot({},n);return await cn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,a,{headers:i.headers},t)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const yT="2.95.3",mu={"X-Client-Info":`storage-js/${yT}`};var bT=class extends So{constructor(n,t={},i,a){const l=new URL(n);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase."));const u=l.href.replace(/\/$/,""),d=Ot(Ot({},mu),t);super(u,d,i,"storage")}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const i=t.listBucketOptionsToQueryString(n);return await nu(t.fetch,`${t.url}/bucket${i}`,{headers:t.headers})})}async getBucket(n){var t=this;return t.handleOperation(async()=>await nu(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}))}async createBucket(n,t={public:!1}){var i=this;return i.handleOperation(async()=>await cn(i.fetch,`${i.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:i.headers}))}async updateBucket(n,t){var i=this;return i.handleOperation(async()=>await xm(i.fetch,`${i.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(n){var t=this;return t.handleOperation(async()=>await cn(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await Hm(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},wT=class extends So{constructor(n,t={},i){const a=n.replace(/\/$/,""),l=Ot(Ot({},mu),t);super(a,l,i,"storage")}async createBucket(n){var t=this;return t.handleOperation(async()=>await cn(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}))}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const i=new URLSearchParams;n?.limit!==void 0&&i.set("limit",n.limit.toString()),n?.offset!==void 0&&i.set("offset",n.offset.toString()),n?.sortColumn&&i.set("sortColumn",n.sortColumn),n?.sortOrder&&i.set("sortOrder",n.sortOrder),n?.search&&i.set("search",n.search);const a=i.toString(),l=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return await nu(t.fetch,l,{headers:t.headers})})}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await Hm(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}from(n){var t=this;if(!oT(n))throw new Nh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new sT({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(i,{get(l,u){const d=l[u];return typeof d!="function"?d:async(...f)=>{try{return{data:await d.apply(l,f),error:null}}catch(p){if(a)throw p;return{data:null,error:p}}}}})}},xT=class extends So{constructor(n,t={},i){const a=n.replace(/\/$/,""),l=Ot(Ot({},mu),{},{"Content-Type":"application/json"},t);super(a,l,i,"vectors")}async createIndex(n){var t=this;return t.handleOperation(async()=>await ji.post(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{})}async getIndex(n,t){var i=this;return i.handleOperation(async()=>await ji.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:i.headers}))}async listIndexes(n){var t=this;return t.handleOperation(async()=>await ji.post(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}))}async deleteIndex(n,t){var i=this;return i.handleOperation(async()=>await ji.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:i.headers})||{})}},ST=class extends So{constructor(n,t={},i){const a=n.replace(/\/$/,""),l=Ot(Ot({},mu),{},{"Content-Type":"application/json"},t);super(a,l,i,"vectors")}async putVectors(n){var t=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ji.post(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{})}async getVectors(n){var t=this;return t.handleOperation(async()=>await ji.post(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}))}async listVectors(n){var t=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return t.handleOperation(async()=>await ji.post(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}))}async queryVectors(n){var t=this;return t.handleOperation(async()=>await ji.post(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}))}async deleteVectors(n){var t=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ji.post(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{})}},TT=class extends So{constructor(n,t={},i){const a=n.replace(/\/$/,""),l=Ot(Ot({},mu),{},{"Content-Type":"application/json"},t);super(a,l,i,"vectors")}async createBucket(n){var t=this;return t.handleOperation(async()=>await ji.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}async getBucket(n){var t=this;return t.handleOperation(async()=>await ji.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}))}async listBuckets(n={}){var t=this;return t.handleOperation(async()=>await ji.post(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await ji.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}},ET=class extends TT{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new OT(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,i=this;return t().call(i,n)}async getBucket(n){var t=()=>super.getBucket,i=this;return t().call(i,n)}async listBuckets(n={}){var t=()=>super.listBuckets,i=this;return t().call(i,n)}async deleteBucket(n){var t=()=>super.deleteBucket,i=this;return t().call(i,n)}},OT=class extends xT{constructor(n,t,i,a){super(n,t,a),this.vectorBucketName=i}async createIndex(n){var t=()=>super.createIndex,i=this;return t().call(i,Ot(Ot({},n),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,i=this;return t().call(i,Ot(Ot({},n),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,i=this;return t().call(i,i.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,i=this;return t().call(i,i.vectorBucketName,n)}index(n){return new AT(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},AT=class extends ST{constructor(n,t,i,a,l){super(n,t,l),this.vectorBucketName=i,this.indexName=a}async putVectors(n){var t=()=>super.putVectors,i=this;return t().call(i,Ot(Ot({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(n){var t=()=>super.getVectors,i=this;return t().call(i,Ot(Ot({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,i=this;return t().call(i,Ot(Ot({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,i=this;return t().call(i,Ot(Ot({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,i=this;return t().call(i,Ot(Ot({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},CT=class extends bT{constructor(n,t={},i,a){super(n,t,i,a)}from(n){return new vT(this.url,this.headers,n,this.fetch)}get vectors(){return new ET(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wT(this.url+"/iceberg",this.headers,this.fetch)}};const xb="2.95.3",po=30*1e3,Sm=3,Qf=Sm*po,RT="http://localhost:9999",LT="supabase.auth.token",kT={"X-Client-Info":`gotrue-js/${xb}`},Tm="X-Supabase-Api-Version",Sb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DT=600*1e3;class su extends Error{constructor(t,i,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=a}}function vt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class NT extends su{constructor(t,i,a){super(t,i,a),this.name="AuthApiError",this.status=i,this.code=a}}function jT(n){return vt(n)&&n.name==="AuthApiError"}class lr extends su{constructor(t,i){super(t),this.name="AuthUnknownError",this.originalError=i}}class _s extends su{constructor(t,i,a,l){super(t,a,l),this.name=i,this.status=a}}class Di extends _s{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tm(n){return vt(n)&&n.name==="AuthSessionMissingError"}class ro extends _s{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xc extends _s{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Jc extends _s{constructor(t,i=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zT(n){return vt(n)&&n.name==="AuthImplicitGrantRedirectError"}class Av extends _s{constructor(t,i=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class PT extends _s{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Em extends _s{constructor(t,i){super(t,"AuthRetryableFetchError",i,void 0)}}function em(n){return vt(n)&&n.name==="AuthRetryableFetchError"}class Cv extends _s{constructor(t,i,a){super(t,"AuthWeakPasswordError",i,"weak_password"),this.reasons=a}}class Om extends _s{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rv=` 	
\r=`.split(""),BT=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Rv.length;t+=1)n[Rv[t].charCodeAt(0)]=-2;for(let t=0;t<vh.length;t+=1)n[vh[t].charCodeAt(0)]=t;return n})();function Lv(n,t,i){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;i(vh[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;i(vh[a]),t.queuedBits-=6}}function Tb(n,t,i){const a=BT[n];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)i(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function kv(n){const t=[],i=d=>{t.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{IT(d,a,i)};for(let d=0;d<n.length;d+=1)Tb(n.charCodeAt(d),l,u);return t.join("")}function UT(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function HT(n,t){for(let i=0;i<n.length;i+=1){let a=n.charCodeAt(i);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(n.charCodeAt(i+1)-56320&65535|l)+65536,i+=1}UT(a,t)}}function IT(n,t,i){if(t.utf8seq===0){if(n<=127){i(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&i(t.codepoint)}}function vo(n){const t=[],i={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<n.length;l+=1)Tb(n.charCodeAt(l),i,a);return new Uint8Array(t)}function qT(n){const t=[];return HT(n,i=>t.push(i)),new Uint8Array(t)}function ur(n){const t=[],i={queue:0,queuedBits:0},a=l=>{t.push(l)};return n.forEach(l=>Lv(l,i,a)),Lv(null,i,a),t.join("")}function ZT(n){return Math.round(Date.now()/1e3)+n}function VT(){return Symbol("auth-callback")}const Ke=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},Eb=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function $T(n){const t={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((l,u)=>{t[u]=l})}catch{}return i.searchParams.forEach((a,l)=>{t[l]=a}),t}const Ob=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),GT=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",go=async(n,t,i)=>{await n.setItem(t,JSON.stringify(i))},er=async(n,t)=>{const i=await n.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch{return i}},We=async(n,t)=>{await n.removeItem(t)};class zh{constructor(){this.promise=new zh.promiseConstructor((t,i)=>{this.resolve=t,this.reject=i})}}zh.promiseConstructor=Promise;function Qc(n){const t=n.split(".");if(t.length!==3)throw new Om("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!MT.test(t[a]))throw new Om("JWT not in base64url format");return{header:JSON.parse(kv(t[0])),payload:JSON.parse(kv(t[1])),signature:vo(t[2]),raw:{header:t[0],payload:t[1]}}}async function YT(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function FT(n,t){return new Promise((a,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await n(u);if(!t(u,null,d)){a(d);return}}catch(d){if(!t(u,d)){l(d);return}}})()})}function WT(n){return("0"+n.toString(16)).substr(-2)}function KT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=i.length;let l="";for(let u=0;u<56;u++)l+=i.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,WT).join("")}async function XT(n){const i=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",i),l=new Uint8Array(a);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function JT(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await XT(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oo(n,t,i=!1){const a=KT();let l=a;i&&(l+="/PASSWORD_RECOVERY"),await go(n,`${t}-code-verifier`,l);const u=await JT(a);return[u,a===u?"plain":"s256"]}const QT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tE(n){const t=n.headers.get(Tm);if(!t||!t.match(QT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eE(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function iE(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lo(n){if(!nE.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function im(){const n={};return new Proxy(n,{get:(t,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sE(n,t){return new Proxy(n,{get:(i,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const u=a.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,a,l)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(i,a,l)}})}function Mv(n){return JSON.parse(JSON.stringify(n))}const ar=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),aE=[502,503,504];async function Dv(n){var t;if(!GT(n))throw new Em(ar(n),0);if(aE.includes(n.status))throw new Em(ar(n),n.status);let i;try{i=await n.json()}catch(u){throw new lr(ar(u),u)}let a;const l=tE(n);if(l&&l.getTime()>=Sb["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?a=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(a=i.error_code),a){if(a==="weak_password")throw new Cv(ar(i),n.status,((t=i.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Di}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Cv(ar(i),n.status,i.weak_password.reasons);throw new NT(ar(i),n.status||500,a)}const rE=(n,t,i,a)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),i))};async function St(n,t,i,a){var l;const u=Object.assign({},a?.headers);u[Tm]||(u[Tm]=Sb["2024-01-01"].name),a?.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const d=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(d.redirect_to=a.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await oE(n,t,i+f,{headers:u,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(p):{data:Object.assign({},p),error:null}}async function oE(n,t,i,a,l,u){const d=rE(t,a,l,u);let f;try{f=await n(i,Object.assign({},d))}catch(p){throw console.error(p),new Em(ar(p),0)}if(f.ok||await Dv(f),a?.noResolveJson)return f;try{return await f.json()}catch(p){await Dv(p)}}function un(n){var t;let i=null;cE(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=ZT(n.expires_in)));const a=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:i,user:a},error:null}}function Nv(n){const t=un(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0)&&(t.data.weak_password=n.weak_password),t}function sa(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function lE(n){return{data:n,error:null}}function uE(n){const{action_link:t,email_otp:i,hashed_token:a,redirect_to:l,verification_type:u}=n,d=Dh(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:i,hashed_token:a,redirect_to:l,verification_type:u},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function jv(n){return n}function cE(n){return n.access_token&&n.refresh_token&&n.expires_in}const nm=["global","local","others"];class hE{constructor({url:t="",headers:i={},fetch:a}){this.url=t,this.headers=i,this.fetch=Ob(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,i=nm[0]){if(nm.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nm.join(", ")}`);try{return await St(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,i={}){try{return await St(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:sa})}catch(a){if(vt(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:i}=t,a=Dh(t,["options"]),l=Object.assign(Object.assign({},a),i);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await St(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:uE,redirectTo:i?.redirectTo})}catch(i){if(vt(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(t){try{return await St(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:sa})}catch(i){if(vt(i))return{data:{user:null},error:i};throw i}}async listUsers(t){var i,a,l,u,d,f,p;try{const _={nextPage:null,lastPage:0,total:0},b=await St(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:jv});if(b.error)throw b.error;const w=await b.json(),T=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(p=(f=b.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(k=>{const R=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(k.split(";")[1].split("=")[1]);_[`${M}Page`]=R}),_.total=parseInt(T)),{data:Object.assign(Object.assign({},w),_),error:null}}catch(_){if(vt(_))return{data:{users:[]},error:_};throw _}}async getUserById(t){lo(t);try{return await St(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:sa})}catch(i){if(vt(i))return{data:{user:null},error:i};throw i}}async updateUserById(t,i){lo(t);try{return await St(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:i,headers:this.headers,xform:sa})}catch(a){if(vt(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,i=!1){lo(t);try{return await St(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:i},xform:sa})}catch(a){if(vt(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){lo(t.userId);try{const{data:i,error:a}=await St(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:i,error:a}}catch(i){if(vt(i))return{data:null,error:i};throw i}}async _deleteFactor(t){lo(t.userId),lo(t.id);try{return{data:await St(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}}async _listOAuthClients(t){var i,a,l,u,d,f,p;try{const _={nextPage:null,lastPage:0,total:0},b=await St(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:jv});if(b.error)throw b.error;const w=await b.json(),T=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(p=(f=b.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(k=>{const R=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(k.split(";")[1].split("=")[1]);_[`${M}Page`]=R}),_.total=parseInt(T)),{data:Object.assign(Object.assign({},w),_),error:null}}catch(_){if(vt(_))return{data:{clients:[]},error:_};throw _}}async _createOAuthClient(t){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(vt(i))return{data:null,error:i};throw i}}async _getOAuthClient(t){try{return await St(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(vt(i))return{data:null,error:i};throw i}}async _updateOAuthClient(t,i){try{return await St(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:i,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(vt(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await St(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(t){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(vt(i))return{data:null,error:i};throw i}}}function zv(n={}){return{getItem:t=>n[t]||null,setItem:(t,i)=>{n[t]=i},removeItem:t=>{delete n[t]}}}const uo={debug:!!(globalThis&&Eb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ab extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dE extends Ab{}async function fE(n,t,i){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),uo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await i()}finally{uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(t===0)throw uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new dE(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(uo.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function mE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Cb(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function pE(n){return parseInt(n,16)}function gE(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function _E(n){var t;const{chainId:i,domain:a,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:f,requestId:p,resources:_,scheme:b,uri:w,version:T}=n;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const E=Cb(n.address),k=b?`${b}://${a}`:a,R=n.statement?`${n.statement}
`:"",M=`${k} wants you to sign in with your Ethereum account:
${E}

${R}`;let D=`URI: ${w}
Version: ${T}
Chain ID: ${i}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(D+=`
Expiration Time: ${l.toISOString()}`),f&&(D+=`
Not Before: ${f.toISOString()}`),p&&(D+=`
Request ID: ${p}`),_){let P=`
Resources:`;for(const U of _){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);P+=`
- ${U}`}D+=P}return`${M}
${D}`}class De extends Error{constructor({message:t,code:i,cause:a,name:l}){var u;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(u=l??(a instanceof Error?a.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class yh extends De{constructor(t,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:t}),this.name="WebAuthnUnknownError",this.originalError=i}}function vE({error:n,options:t}){var i,a,l;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new De({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new De({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new De({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new De({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new De({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new De({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new De({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new De({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const d=window.location.hostname;if(Rb(d)){if(u.rp.id!==d)return new De({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new De({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function yE({error:n,options:t}){const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new De({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new De({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(Rb(a)){if(i.rpId!==a)return new De({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class bE{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const wE=new bE;function xE(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:i,excludeCredentials:a}=n,l=Dh(n,["challenge","user","excludeCredentials"]),u=vo(t).buffer,d=Object.assign(Object.assign({},i),{id:vo(i.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:u,user:d});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let p=0;p<a.length;p++){const _=a[p];f.excludeCredentials[p]=Object.assign(Object.assign({},_),{id:vo(_.id).buffer,type:_.type||"public-key",transports:_.transports})}}return f}function SE(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:i}=n,a=Dh(n,["challenge","allowCredentials"]),l=vo(t).buffer,u=Object.assign(Object.assign({},a),{challenge:l});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const f=i[d];u.allowCredentials[d]=Object.assign(Object.assign({},f),{id:vo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function TE(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n;return{id:n.id,rawId:n.id,response:{attestationObject:ur(new Uint8Array(n.response.attestationObject)),clientDataJSON:ur(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function EE(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n,a=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ur(new Uint8Array(l.authenticatorData)),clientDataJSON:ur(new Uint8Array(l.clientDataJSON)),signature:ur(new Uint8Array(l.signature)),userHandle:l.userHandle?ur(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Rb(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Pv(){var n,t;return!!(Ke()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function OE(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yh("Browser returned unexpected credential type",t)}:{data:null,error:new yh("Empty credential response",t)}}catch(t){return{data:null,error:vE({error:t,options:n})}}}async function AE(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yh("Browser returned unexpected credential type",t)}:{data:null,error:new yh("Empty credential response",t)}}catch(t){return{data:null,error:yE({error:t,options:n})}}}const CE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},RE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bh(...n){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),i=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of n)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))a[u]=d;else if(i(d))a[u]=d;else if(t(d)){const f=a[u];t(f)?a[u]=bh(f,d):a[u]=bh(d)}else a[u]=d}return a}function LE(n,t){return bh(CE,n,t||{})}function kE(n,t){return bh(RE,n,t||{})}class ME{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:i,friendlyName:a,signal:l},u){var d;try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:t,webauthn:i});if(!f)return{data:null,error:p};const _=l??wE.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:b}=f.webauthn.credential_options.publicKey;if(!b.name){const w=a;if(w)b.name=`${b.id}:${w}`;else{const E=(await this.client.getUser()).data.user,k=((d=E?.user_metadata)===null||d===void 0?void 0:d.name)||E?.email||E?.id||"User";b.name=`${b.id}:${k}`}}b.displayName||(b.displayName=b.name)}switch(f.webauthn.type){case"create":{const b=LE(f.webauthn.credential_options.publicKey,u?.create),{data:w,error:T}=await OE({publicKey:b,signal:_});return w?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:w}},error:null}:{data:null,error:T}}case"request":{const b=kE(f.webauthn.credential_options.publicKey,u?.request),{data:w,error:T}=await AE(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:b,signal:_}));return w?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:w}},error:null}:{data:null,error:T}}}}catch(f){return vt(f)?{data:null,error:f}:{data:null,error:new lr("Unexpected error in challenge",f)}}}async _verify({challengeId:t,factorId:i,webauthn:a}){return this.client.mfa.verify({factorId:i,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!i)return{data:null,error:new su("rpId is required for WebAuthn authentication")};try{if(!Pv())return{data:null,error:new lr("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:t,webauthn:{rpId:i,rpOrigins:a},signal:l},{request:u});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:p.type,rpId:i,rpOrigins:a,credential_response:p.credential_response}})}catch(d){return vt(d)?{data:null,error:d}:{data:null,error:new lr("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!i)return{data:null,error:new su("rpId is required for WebAuthn registration")};try{if(!Pv())return{data:null,error:new lr("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(b=>{var w;return(w=b.data)===null||w===void 0?void 0:w.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===t&&T.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:f};const{data:p,error:_}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:i,rpOrigins:a},signal:l},{create:u});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:i,rpOrigins:a,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:_}}catch(d){return vt(d)?{data:null,error:d}:{data:null,error:new lr("Unexpected error in register",d)}}}}mE();const DE={url:RT,storageKey:LT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Bv(n,t,i){return await i()}const co={};class au{get jwks(){var t,i;return(i=(t=co[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(t){co[this.storageKey]=Object.assign(Object.assign({},co[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,i;return(i=(t=co[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){co[this.storageKey]=Object.assign(Object.assign({},co[this.storageKey]),{cachedAt:t})}constructor(t){var i,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},DE),t);if(this.storageKey=u.storageKey,this.instanceID=(i=au.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,au.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Ke()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new hE({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Ob(u.fetch),this.lock=u.lock||Bv,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Ke()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=fE:this.lock=Bv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ME(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Eb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zv(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=zv(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(f){this._debug("#broadcastChannel","error",f)}})}this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${xb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let i={},a="none";if(Ke()&&(i=$T(window.location.href),this._isImplicitGrantCallback(i)?a="implicit":await this._isPKCECallback(i)&&(a="pkce")),Ke()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:u}=await this._getSessionFromURL(i,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),zT(u)){const p=(t=u.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return vt(i)?this._returnResult({error:i}):this._returnResult({error:new lr("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var i,a,l;try{const u=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(i=t?.options)===null||i===void 0?void 0:i.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:un}),{data:d,error:f}=u;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const p=d.session,_=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:_,session:p},error:null})}catch(u){if(vt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var i,a,l;try{let u;if("email"in t){const{email:b,password:w,options:T}=t;let E=null,k=null;this.flowType==="pkce"&&([E,k]=await oo(this.storage,this.storageKey)),u=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:b,password:w,data:(i=T?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:E,code_challenge_method:k},xform:un})}else if("phone"in t){const{phone:b,password:w,options:T}=t;u=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(a=T?.data)!==null&&a!==void 0?a:{},channel:(l=T?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:un})}else throw new Xc("You must provide either an email or phone number and a password");const{data:d,error:f}=u;if(f||!d)return await We(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=d.session,_=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:_,session:p},error:null})}catch(u){if(await We(this.storage,`${this.storageKey}-code-verifier`),vt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let i;if("email"in t){const{email:u,password:d,options:f}=t;i=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Nv})}else if("phone"in t){const{phone:u,password:d,options:f}=t;i=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Nv})}else throw new Xc("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const u=new ro;return this._returnResult({data:{user:null,session:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(i){if(vt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(t){var i,a,l,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:i}=t;switch(i){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(t){var i,a,l,u,d,f,p,_,b,w,T;let E,k;if("message"in t)E=t.message,k=t.signature;else{const{chain:R,wallet:M,statement:D,options:P}=t;let U;if(Ke())if(typeof M=="object")U=M;else{const yt=window;if("ethereum"in yt&&typeof yt.ethereum=="object"&&"request"in yt.ethereum&&typeof yt.ethereum.request=="function")U=yt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=M}const W=new URL((i=P?.url)!==null&&i!==void 0?i:window.location.href),et=await U.request({method:"eth_requestAccounts"}).then(yt=>yt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!et||et.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const at=Cb(et[0]);let st=(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!st){const yt=await U.request({method:"eth_chainId"});st=pE(yt)}const dt={domain:W.host,address:at,statement:D,uri:W.href,version:"1",chainId:st,nonce:(l=P?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=P?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=P?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(_=P?.signInWithEthereum)===null||_===void 0?void 0:_.requestId,resources:(b=P?.signInWithEthereum)===null||b===void 0?void 0:b.resources};E=_E(dt),k=await U.request({method:"personal_sign",params:[gE(E),at]})}try{const{data:R,error:M}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:k},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(T=t.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:un});if(M)throw M;if(!R||!R.session||!R.user){const D=new ro;return this._returnResult({data:{user:null,session:null},error:D})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:M})}catch(R){if(vt(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(t){var i,a,l,u,d,f,p,_,b,w,T,E;let k,R;if("message"in t)k=t.message,R=t.signature;else{const{chain:M,wallet:D,statement:P,options:U}=t;let W;if(Ke())if(typeof D=="object")W=D;else{const at=window;if("solana"in at&&typeof at.solana=="object"&&("signIn"in at.solana&&typeof at.solana.signIn=="function"||"signMessage"in at.solana&&typeof at.solana.signMessage=="function"))W=at.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=D}const et=new URL((i=U?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in W&&W.signIn){const at=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:et.host,uri:et.href}),P?{statement:P}:null));let st;if(Array.isArray(at)&&at[0]&&typeof at[0]=="object")st=at[0];else if(at&&typeof at=="object"&&"signedMessage"in at&&"signature"in at)st=at;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in st&&"signature"in st&&(typeof st.signedMessage=="string"||st.signedMessage instanceof Uint8Array)&&st.signature instanceof Uint8Array)k=typeof st.signedMessage=="string"?st.signedMessage:new TextDecoder().decode(st.signedMessage),R=st.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${et.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${et.href}`,`Issued At: ${(l=(a=U?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=U?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((d=U?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((p=U?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((_=U?.signInWithSolana)===null||_===void 0)&&_.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((w=(b=U?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...U.signInWithSolana.resources.map(st=>`- ${st}`)]:[]].join(`
`);const at=await W.signMessage(new TextEncoder().encode(k),"utf8");if(!at||!(at instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=at}}try{const{data:M,error:D}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:ur(R)},!((T=t.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:un});if(D)throw D;if(!M||!M.session||!M.user){const P=new ro;return this._returnResult({data:{user:null,session:null},error:P})}return M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:D})}catch(M){if(vt(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}}async _exchangeCodeForSession(t){const i=await er(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(i??"").split("/");try{if(!a&&this.flowType==="pkce")throw new PT;const{data:u,error:d}=await St(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:un});if(await We(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const f=new ro;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(await We(this.storage,`${this.storageKey}-code-verifier`),vt(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:i,provider:a,token:l,access_token:u,nonce:d}=t,f=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:un}),{data:p,error:_}=f;if(_)return this._returnResult({data:{user:null,session:null},error:_});if(!p||!p.session||!p.user){const b=new ro;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:_})}catch(i){if(vt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(t){var i,a,l,u,d;try{if("email"in t){const{email:f,options:p}=t;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await oo(this.storage,this.storageKey));const{error:w}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(a=p?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:_,code_challenge_method:b},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:f,options:p}=t,{data:_,error:b}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(d=p?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:_?.message_id},error:b})}throw new Xc("You must provide either an email or phone number.")}catch(f){if(await We(this.storage,`${this.storageKey}-code-verifier`),vt(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var i,a;try{let l,u;"options"in t&&(l=(i=t.options)===null||i===void 0?void 0:i.redirectTo,u=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:f}=await St(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:un});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,_=d.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:_,session:p},error:null})}catch(l){if(vt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var i,a,l,u,d;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await oo(this.storage,this.storageKey));const _=await St(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(i=t.options)===null||i===void 0?void 0:i.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:lE});return!((u=_.data)===null||u===void 0)&&u.url&&Ke()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(_.data.url),this._returnResult(_)}catch(f){if(await We(this.storage,`${this.storageKey}-code-verifier`),vt(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;if(a)throw a;if(!i)throw new Di;const{error:l}=await St(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(vt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const i=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:u}=t,{error:d}=await St(this.fetch,"POST",i,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:a,type:l,options:u}=t,{data:d,error:f}=await St(this.fetch,"POST",i,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:f})}throw new Xc("You must provide either an email or phone number and a type")}catch(i){if(vt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(t,i){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await i()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=i();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await t(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const i=await er(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Qf:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const d=await er(this.userStorage,this.storageKey+"-user");d?.user?t.user=d.user:t.user=im()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=sE(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(t){try{return t?await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:sa}):await this._useSession(async i=>{var a,l,u;const{data:d,error:f}=i;if(f)throw f;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Di}:await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:sa})})}catch(i){if(vt(i))return tm(i)&&(await this._removeSession(),await We(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(t,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,i))}async _updateUser(t,i={}){try{return await this._useSession(async a=>{const{data:l,error:u}=a;if(u)throw u;if(!l.session)throw new Di;const d=l.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await oo(this.storage,this.storageKey));const{data:_,error:b}=await St(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:sa});if(b)throw b;return d.user=_.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(a){if(await We(this.storage,`${this.storageKey}-code-verifier`),vt(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Di;const i=Date.now()/1e3;let a=i,l=!0,u=null;const{payload:d}=Qc(t.access_token);if(d.exp&&(a=d.exp,l=a<=i),l){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:a-i,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(vt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async i=>{var a;if(!t){const{data:d,error:f}=i;if(f)throw f;t=(a=d.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new Di;const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(vt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(t,i){try{if(!Ke())throw new Jc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Av("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jc("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Av("No code detected.");const{data:P,error:U}=await this._exchangeCodeForSession(t.code);if(U)throw U;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:f,expires_at:p,token_type:_}=t;if(!u||!f||!d||!_)throw new Jc("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(f);let T=b+w;p&&(T=parseInt(p));const E=T-b;E*1e3<=po&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${w}s`);const k=T-w;b-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,T,b):b-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,T,b);const{data:R,error:M}=await this._getUser(u);if(M)throw M;const D={provider_token:a,provider_refresh_token:l,access_token:u,expires_in:w,expires_at:T,refresh_token:d,token_type:_,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:t.type},error:null})}catch(a){if(vt(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const i=await er(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&i)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async i=>{var a;const{data:l,error:u}=i;if(u&&!tm(u))return this._returnResult({error:u});const d=(a=l.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(jT(f)&&(f.status===404||f.status===401||f.status===403)||tm(f)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await We(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const i=VT(),a={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async i=>{var a,l;try{const{data:{session:u},error:d}=i;if(d)throw d;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,i={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await oo(this.storage,this.storageKey,!0));try{return await St(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(await We(this.storage,`${this.storageKey}-code-verifier`),vt(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:i,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=i.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(i){if(vt(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var i;try{const{data:a,error:l}=await this._useSession(async u=>{var d,f,p,_,b;const{data:w,error:T}=u;if(T)throw T;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await St(this.fetch,"GET",E,{headers:this.headers,jwt:(b=(_=w.session)===null||_===void 0?void 0:_.access_token)!==null&&b!==void 0?b:void 0})});if(l)throw l;return Ke()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(vt(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async i=>{var a;try{const{error:l,data:{session:u}}=i;if(l)throw l;const{options:d,provider:f,token:p,access_token:_,nonce:b}=t,w=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=u?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:p,access_token:_,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:un}),{data:T,error:E}=w;return E?this._returnResult({data:{user:null,session:null},error:E}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new ro}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:E}))}catch(l){if(await We(this.storage,`${this.storageKey}-code-verifier`),vt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async i=>{var a,l;const{data:u,error:d}=i;if(d)throw d;return await St(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(i){if(vt(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(t){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{const a=Date.now();return await FT(async l=>(l>0&&await YT(200*Math.pow(2,l-1)),this._debug(i,"refreshing attempt",l),await St(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:un})),(l,u)=>{const d=200*Math.pow(2,l);return u&&em(u)&&Date.now()+d-a<po})}catch(a){if(this._debug(i,"error",a),vt(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(i,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,i){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",i,"url",a),Ke()&&!i.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,i;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await er(this.storage,this.storageKey);if(l&&this.userStorage){let d=await er(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await go(this.userStorage,this.storageKey+"-user",d)),l.user=(t=d?.user)!==null&&t!==void 0?t:im()}else if(l&&!l.user&&!l.user){const d=await er(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await We(this.storage,this.storageKey+"-user"),await go(this.storage,this.storageKey,l)):l.user=im()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const u=((i=l.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Qf;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${Qf}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),em(d)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(a,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var i,a;if(!t)throw new Di;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new zh;const{data:u,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!u.session)throw new Di;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),vt(u)){const d={data:null,error:u};return em(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,i,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",i,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:i});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,i)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await We(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},t),a=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&i.user&&await go(this.userStorage,this.storageKey+"-user",{user:i.user});const l=Object.assign({},i);delete l.user;const u=Mv(l);await go(this.storage,this.storageKey,u)}else{const l=Mv(i);await go(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await We(this.storage,this.storageKey),await We(this.storage,this.storageKey+"-code-verifier"),await We(this.storage,this.storageKey+"-user"),this.userStorage&&await We(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ke()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),po);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async i=>{const{data:{session:a}}=i;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/po);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${po}ms, refresh threshold is ${Sm} ticks`),l<=Sm&&await this._callRefreshToken(a.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ab)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const i=`#_onVisibilityChanged(${t})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,i,a){const l=[`provider=${encodeURIComponent(i)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,d]=await oo(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(a?.queryParams){const u=new URLSearchParams(a.queryParams);l.push(u.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async i=>{var a;const{data:l,error:u}=i;return u?this._returnResult({data:null,error:u}):await St(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(i){if(vt(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(t){try{return await this._useSession(async i=>{var a,l;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:_}=await St(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return _?this._returnResult({data:null,error:_}):(t.factorType==="totp"&&p.type==="totp"&&(!((l=p?.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(i){if(vt(i))return this._returnResult({data:null,error:i});throw i}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var a;const{data:l,error:u}=i;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?TE(t.webauthn.credential_response):EE(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await St(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(i){if(vt(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var a;const{data:l,error:u}=i;if(u)return this._returnResult({data:null,error:u});const d=await St(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:xE(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:SE(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(vt(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(t){const{data:i,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:i.id,code:t.code})}async _listFactors(){var t;const{data:{user:i},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=i?.factors)!==null&&t!==void 0?t:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(t){var i,a,l,u;if(t)try{const{payload:E}=Qc(t);let k=null;E.aal&&(k=E.aal);let R=k;const{data:{user:M},error:D}=await this.getUser(t);if(D)return this._returnResult({data:null,error:D});((a=(i=M?.factors)===null||i===void 0?void 0:i.filter(W=>W.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(R="aal2");const U=E.amr||[];return{data:{currentLevel:k,nextLevel:R,currentAuthenticationMethods:U},error:null}}catch(E){if(vt(E))return this._returnResult({data:null,error:E});throw E}const{data:{session:d},error:f}=await this.getSession();if(f)return this._returnResult({data:null,error:f});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=Qc(d.access_token);let _=null;p.aal&&(_=p.aal);let b=_;((u=(l=d.user.factors)===null||l===void 0?void 0:l.filter(E=>E.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(b="aal2");const T=p.amr||[];return{data:{currentLevel:_,nextLevel:b,currentAuthenticationMethods:T},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;return l?this._returnResult({data:null,error:l}):a?await St(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Di})})}catch(i){if(vt(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(t,i){try{return await this._useSession(async a=>{const{data:{session:l},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Di});const d=await St(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Ke()&&!i?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(a){if(vt(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,i){try{return await this._useSession(async a=>{const{data:{session:l},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Di});const d=await St(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Ke()&&!i?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(a){if(vt(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;return a?this._returnResult({data:null,error:a}):i?await St(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Di})})}catch(t){if(vt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;return l?this._returnResult({data:null,error:l}):a?(await St(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Di})})}catch(i){if(vt(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(t,i={keys:[]}){let a=i.keys.find(f=>f.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(f=>f.kid===t),a&&this.jwks_cached_at+DT>l)return a;const{data:u,error:d}=await St(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,a=u.keys.find(f=>f.kid===t),!a)?null:a}async getClaims(t,i={}){try{let a=t;if(!a){const{data:E,error:k}=await this.getSession();if(k||!E.session)return this._returnResult({data:null,error:k});a=E.session.access_token}const{header:l,payload:u,signature:d,raw:{header:f,payload:p}}=Qc(a);i?.allowExpired||eE(u.exp);const _=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!_){const{error:E}=await this.getUser(a);if(E)throw E;return{data:{claims:u,header:l,signature:d},error:null}}const b=iE(l.alg),w=await crypto.subtle.importKey("jwk",_,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,d,qT(`${f}.${p}`)))throw new Om("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(a){if(vt(a))return this._returnResult({data:null,error:a});throw a}}}au.nextInstanceID={};const NE=au,jE="2.95.3";let Il="";typeof Deno<"u"?Il="deno":typeof document<"u"?Il="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Il="react-native":Il="node";const zE={"X-Client-Info":`supabase-js-${Il}/${jE}`},PE={headers:zE},BE={schema:"public"},UE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HE={};function ru(n){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(n)}function IE(n,t){if(ru(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var a=i.call(n,t);if(ru(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function qE(n){var t=IE(n,"string");return ru(t)=="symbol"?t:t+""}function ZE(n,t,i){return(t=qE(t))in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function Uv(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),i.push.apply(i,a)}return i}function Se(n){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Uv(Object(i),!0).forEach(function(a){ZE(n,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Uv(Object(i)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(i,a))})}return n}const VE=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),$E=()=>Headers,GE=(n,t,i)=>{const a=VE(i),l=$E();return async(u,d)=>{var f;const p=(f=await t())!==null&&f!==void 0?f:n;let _=new l(d?.headers);return _.has("apikey")||_.set("apikey",n),_.has("Authorization")||_.set("Authorization",`Bearer ${p}`),a(u,Se(Se({},d),{},{headers:_}))}};function YE(n){return n.endsWith("/")?n:n+"/"}function FE(n,t){var i,a;const{db:l,auth:u,realtime:d,global:f}=n,{db:p,auth:_,realtime:b,global:w}=t,T={db:Se(Se({},p),l),auth:Se(Se({},_),u),realtime:Se(Se({},b),d),storage:{},global:Se(Se(Se({},w),f),{},{headers:Se(Se({},(i=w?.headers)!==null&&i!==void 0?i:{}),(a=f?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return n.accessToken?T.accessToken=n.accessToken:delete T.accessToken,T}function WE(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var KE=class extends NE{constructor(n){super(n)}},XE=class{constructor(n,t,i){var a,l;this.supabaseUrl=n,this.supabaseKey=t;const u=WE(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:BE,realtime:HE,auth:Se(Se({},UE),{},{storageKey:d}),global:PE},p=FE(i??{},f);if(this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var _;this.auth=this._initSupabaseAuthClient((_=p.auth)!==null&&_!==void 0?_:{},this.headers,p.global.fetch)}this.fetch=GE(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Se({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new jS(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new CT(this.storageUrl.href,this.headers,this.fetch,i?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new AS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,i)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,i;if(n.accessToken)return await n.accessToken();const{data:a}=await n.auth.getSession();return(t=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:u,flowType:d,lock:f,debug:p,throwOnError:_},b,w){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KE({url:this.authUrl.href,headers:Se(Se({},T),b),storageKey:u,autoRefreshToken:n,persistSession:t,detectSessionInUrl:i,storage:a,userStorage:l,flowType:d,lock:f,debug:p,throwOnError:_,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new JS(this.realtimeUrl.href,Se(Se({},n),{},{params:Se(Se({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t?.access_token)})}_handleTokenChanged(n,t,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const JE=(n,t,i)=>new XE(n,t,i);function QE(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const t=n.version;if(t==null)return!1;const i=t.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}QE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tO="https://actngtevzjyuwxhxhdqh.supabase.co",eO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFjdG5ndGV2emp5dXd4aHhoZHFoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA3NzA5NDksImV4cCI6MjA4NjM0Njk0OX0.v6ExK23ui9dng06FIrDPUlFrNM0glQI7zVG7JAsdLS8",wi=JE(tO,eO),le={supabase:wi,saveUser:async n=>{const{error:t}=await wi.from("users").insert([n]);return t&&console.error("Error guardando usuario:",t.message),!t},findUser:async(n,t)=>{const{data:i,error:a}=await wi.from("users").select("*").eq("curp",n).eq("password",t).single();return a&&a.code!=="PGRST116"&&console.error("Error Login:",a.message),i},exists:async(n,t)=>{if(!n)return!1;const{data:i,error:a}=await wi.from("users").select("curp").or(`curp.eq.${n},correo.eq.${t}`);return i&&i.length>0},updateUser:async n=>{const{error:t}=await wi.from("users").update(n).eq("curp",n.curp);return t&&console.error("Error actualizando usuario:",t.message),!t},getAllUsers:async()=>{const{data:n,error:t}=await wi.from("users").select("*");return t?(console.error("Error getAllUsers:",t.message),[]):n||[]},updateLocation:async(n,t,i)=>{if(!n||!n.curp)return;const{error:a}=await wi.from("users").update({lat:t,lng:i}).eq("curp",n.curp);a&&console.error("Error GPS:",a.message)},updateUserRole:async(n,t)=>{const{error:i}=await wi.from("users").update({rol:t}).eq("curp",n);return i&&console.error("Error rol:",i.message),!i},getNotifications:async n=>{const{data:t}=await wi.from("notificaciones_medicas").select("*").eq("curpUsuario",n).order("fecha",{ascending:!1});return t||[]},markAllAsRead:async n=>{await wi.from("notificaciones_medicas").update({leida:!0}).eq("curpUsuario",n)}};function iO(){const[n,t]=B.useState(null),[i,a]=B.useState(""),[l,u]=B.useState(""),[d,f]=B.useState(!1),[p,_]=B.useState(""),b=Ki();B.useEffect(()=>{const k=localStorage.getItem("currentUser");if(k)try{const R=JSON.parse(k);t(R),a(R.curp)}catch{localStorage.removeItem("currentUser")}},[]);const w=k=>{k.rol==="admin"?b("/admin-dashboard"):k.rol==="doctor"?b("/doctor-dashboard"):k.aceptoAviso?k.cuestionario?b("/dashboard"):b("/cuestionario"):b("/aviso")},T=async k=>{k.preventDefault(),f(!0),_("");try{const R=await le.findUser(i,l);R?(localStorage.setItem("currentUser",JSON.stringify(R)),w(R)):(_("Contrasea incorrecta."),f(!1))}catch{_("Error de conexin."),f(!1)}},E=()=>{localStorage.removeItem("currentUser"),t(null),a(""),u("")};return O.jsx("div",{id:"page-login",className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh",backgroundColor:"#fff3f3"},children:O.jsx("div",{className:"card-custom text-center p-5 shadow-sm bg-white rounded",style:{width:"400px"},children:n?O.jsxs("div",{className:"fade-in",children:[O.jsxs("div",{className:"mb-4 position-relative d-inline-block",children:[O.jsx("img",{src:n.avatar_url||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:"Avatar",className:"rounded-circle shadow border border-3 border-danger",style:{width:"100px",height:"100px",objectFit:"cover"},onError:k=>k.target.src="https://cdn-icons-png.flaticon.com/512/149/149071.png"}),O.jsx("button",{onClick:E,className:"btn btn-sm btn-dark position-absolute top-0 end-0 rounded-circle",title:"Olvidar cuenta",style:{width:"25px",height:"25px",padding:0},children:""})]}),O.jsxs("h4",{className:"fw-bold text-dark mb-1",children:["Hola, ",n.nombre?.split(" ")[0],"!"]}),O.jsx("p",{className:"text-muted small mb-4",children:"Ingresa tu contrasea para continuar"}),O.jsxs("form",{onSubmit:T,children:[O.jsx("input",{type:"password",className:"form-control mb-3 text-center",placeholder:"Contrasea",value:l,onChange:k=>u(k.target.value),required:!0,autoFocus:!0}),O.jsx("button",{type:"submit",className:"btn btn-danger w-100 fw-bold",disabled:d,children:d?"Entrando...":"Continuar"}),p&&O.jsx("p",{className:"text-danger fw-bold mt-2 small",children:p})]}),O.jsx("div",{className:"mt-4",children:O.jsx("button",{onClick:E,className:"btn btn-link text-secondary text-decoration-none small",children:"Iniciar sesin con otra cuenta"})})]}):O.jsxs("div",{className:"fade-in",children:[O.jsx("div",{className:"mb-4",children:O.jsx("span",{className:"fs-1",children:""})}),O.jsx("h2",{className:"mb-4 text-danger fw-bold",children:"Iniciar Sesin"}),O.jsxs("form",{onSubmit:T,children:[O.jsx("input",{type:"text",className:"form-control mb-3",placeholder:"CURP",value:i,onChange:k=>a(k.target.value),required:!0}),O.jsx("input",{type:"password",className:"form-control mb-3",placeholder:"Contrasea",value:l,onChange:k=>u(k.target.value),required:!0}),O.jsx("button",{type:"submit",className:"btn btn-danger w-100 fw-bold",disabled:d,children:d?"Verificando...":"Entrar"}),p&&O.jsx("p",{className:"text-danger fw-bold mt-2 small",children:p})]}),O.jsx("div",{className:"mt-4",children:O.jsx(dn,{to:"/registro",className:"fw-bold text-danger text-decoration-none",children:"Crear cuenta nueva"})})]})})})}function nO(){const n=Ki(),[t,i]=B.useState({nombre:"",curp:"",correo:"",telefono:"",sangre:"",pass:"",confirm:""}),[a,l]=B.useState(!1),u=f=>i({...t,[f.target.id]:f.target.value}),d=async f=>{if(f.preventDefault(),t.pass!==t.confirm)return alert("Las contraseas no coinciden.");l(!0);const{data:p}=await le.supabase.from("users").select("*").eq("curp",t.curp).single();if(p)return l(!1),alert("Este CURP ya est registrado.");const _={curp:t.curp,nombre:t.nombre,correo:t.correo,telefono:t.telefono,sangre:t.sangre,password:t.pass,rol:"donador",aceptoAviso:!1,cuestionario:!1,puntos:0,nivel:"Novato"},{error:b}=await le.supabase.from("users").insert([_]);b?alert("Error al registrar: "+b.message):(alert("Registro Exitoso! Inicia sesin para continuar."),n("/")),l(!1)};return O.jsx("div",{className:"d-flex justify-content-center align-items-center bg-light",style:{minHeight:"100vh"},children:O.jsxs("div",{className:"card shadow p-5 border-0",style:{width:"500px",borderRadius:"15px"},children:[O.jsx("h2",{className:"text-center mb-4 text-danger fw-bold",children:"nete a la Causa "}),O.jsxs("form",{onSubmit:d,children:[O.jsx("input",{type:"text",id:"nombre",className:"form-control mb-2",placeholder:"Nombre Completo",onChange:u,required:!0}),O.jsx("input",{type:"text",id:"curp",className:"form-control mb-2",placeholder:"CURP",onChange:u,required:!0}),O.jsx("input",{type:"email",id:"correo",className:"form-control mb-2",placeholder:"Correo Electrnico",onChange:u,required:!0}),O.jsx("input",{type:"tel",id:"telefono",className:"form-control mb-2",placeholder:"Telfono Celular",onChange:u,required:!0}),O.jsxs("select",{id:"sangre",className:"form-select mb-2",onChange:u,required:!0,children:[O.jsx("option",{value:"",children:"Tipo de Sangre..."}),["O+","O-","A+","A-","B+","B-","AB+","AB-"].map(f=>O.jsx("option",{value:f,children:f},f))]}),O.jsx("input",{type:"password",id:"pass",className:"form-control mb-2",placeholder:"Contrasea",onChange:u,required:!0}),O.jsx("input",{type:"password",id:"confirm",className:"form-control mb-4",placeholder:"Confirmar Contrasea",onChange:u,required:!0}),O.jsx("button",{type:"submit",className:"btn btn-danger w-100 fw-bold",disabled:a,children:a?"Registrando...":"Crear Cuenta"})]}),O.jsx("div",{className:"text-center mt-3",children:O.jsx(dn,{to:"/",className:"text-decoration-none text-muted",children:"Ya tienes cuenta? Ingresa aqu"})})]})})}function sO(){const n=Ki(),t=async()=>{const i=JSON.parse(sessionStorage.getItem("currentUser"));await le.supabase.from("users").update({aceptoAviso:!0}).eq("curp",i.curp);const a={...i,aceptoAviso:!0};sessionStorage.setItem("currentUser",JSON.stringify(a)),n("/cuestionario")};return O.jsx("div",{className:"d-flex align-items-center justify-content-center vh-100 bg-light",children:O.jsxs("div",{className:"card shadow p-5 text-center",style:{maxWidth:"600px"},children:[O.jsx("h1",{className:"mb-4",children:" Aviso de Privacidad"}),O.jsxs("div",{className:"text-start bg-white border p-3 mb-4 rounded",style:{height:"200px",overflowY:"auto"},children:[O.jsx("p",{children:"En cumplimiento con la Ley Federal de Proteccin de Datos Personales en Posesin de los Particulares..."}),O.jsx("p",{children:"Sus datos personales (CURP, Nombre, Tipo de Sangre) sern utilizados exclusivamente para la gestin de donaciones."}),O.jsx("p",{children:"La ubicacin solo se usar para mostrar cercana en el mapa de hroes de forma aproximada."})]}),O.jsx("button",{onClick:t,className:"btn btn-dark w-100",children:"He ledo y Acepto"})]})})}function aO(){const n=Ki(),[t,i]=B.useState({}),a=async u=>{if(u.preventDefault(),t.p3==="Si"){alert(" Por seguridad mdica, no puedes donar en este momento. Consulta a un especialista.");return}const d=JSON.parse(sessionStorage.getItem("currentUser"));await le.supabase.from("users").update({cuestionario:!0}).eq("curp",d.curp);const f={...d,cuestionario:!0};sessionStorage.setItem("currentUser",JSON.stringify(f)),alert(" Excelente! Eres apto para ser un hroe."),n("/dashboard")},l=(u,d)=>i({...t,[u]:d});return O.jsx("div",{className:"container py-5 d-flex justify-content-center",children:O.jsxs("div",{className:"card shadow-lg p-5",style:{maxWidth:"700px",borderRadius:"20px"},children:[O.jsx("h2",{className:"text-center text-primary mb-4",children:" Filtro de Salud"}),O.jsxs("form",{onSubmit:a,children:[O.jsxs("div",{className:"mb-4",children:[O.jsx("label",{className:"fw-bold mb-2",children:"1. Eres mayor de 18 aos?"}),O.jsx("br",{}),O.jsx("input",{type:"radio",name:"p1",onChange:()=>l("p1","Si"),required:!0})," S ",O.jsx("input",{type:"radio",name:"p1",onChange:()=>l("p1","No")})," No"]}),O.jsxs("div",{className:"mb-4",children:[O.jsx("label",{className:"fw-bold mb-2",children:"2. Pesas ms de 50kg?"}),O.jsx("br",{}),O.jsx("input",{type:"radio",name:"p2",onChange:()=>l("p2","Si"),required:!0})," S ",O.jsx("input",{type:"radio",name:"p2",onChange:()=>l("p2","No")})," No"]}),O.jsxs("div",{className:"mb-4",children:[O.jsx("label",{className:"fw-bold mb-2",children:"3. Padeces alguna enfermedad crnica transmisible por sangre (Hepatitis, VIH)?"}),O.jsx("br",{}),O.jsx("input",{type:"radio",name:"p3",onChange:()=>l("p3","Si"),required:!0})," S ",O.jsx("input",{type:"radio",name:"p3",onChange:()=>l("p3","No")})," No"]}),O.jsx("button",{className:"btn btn-primary w-100 fw-bold py-2 mt-3",children:"Enviar Respuestas"})]})]})})}function rO(){const[n,t]=B.useState({});return B.useEffect(()=>{t(JSON.parse(sessionStorage.getItem("currentUser"))||{})},[]),O.jsxs("div",{children:[O.jsx("h2",{className:"fw-bold text-danger mb-4",children:"Mi Historial"}),O.jsx("h4",{className:"mb-3",children:"Compromisos Pendientes"}),n.citaActiva?O.jsx("div",{className:"card shadow-sm border-start border-5 border-info mb-5",children:O.jsx("div",{className:"card-body p-4",children:O.jsxs("div",{className:"d-flex align-items-center",children:[O.jsx("div",{className:"bg-info-subtle text-info p-3 rounded-circle me-3",children:""}),O.jsxs("div",{children:[O.jsx("h5",{className:"fw-bold text-primary mb-1",children:"Cita Programada"}),O.jsxs("p",{className:"mb-0",children:[O.jsx("b",{children:"Paciente:"})," ",n.citaActiva.paciente]}),O.jsxs("p",{className:"mb-0",children:[O.jsx("b",{children:"Hospital:"})," ",n.citaActiva.hospital]}),O.jsxs("small",{className:"text-muted",children:["Fecha registro: ",new Date(n.citaActiva.fecha).toLocaleDateString()]})]})]})})}):O.jsx("div",{className:"alert alert-light text-center border mb-5",children:"No tienes donaciones pendientes."}),O.jsx("h4",{className:"mb-3",children:"Logros Desbloqueados"}),O.jsx("div",{className:"list-group",children:n.ultimaDonacion?O.jsxs("div",{className:"list-group-item list-group-item-action p-4 border-start border-5 border-success",children:[O.jsxs("div",{className:"d-flex justify-content-between",children:[O.jsx("h5",{className:"mb-1 fw-bold text-success",children:"Donacin Exitosa"}),O.jsx("small",{children:new Date(n.ultimaDonacion).toLocaleDateString()})]}),O.jsx("p",{className:"mb-1",children:"Gracias por salvar vidas."}),O.jsx("span",{className:"badge bg-success rounded-pill",children:"Completa"})]}):O.jsxs("div",{className:"text-center py-5 text-muted bg-light rounded",children:[O.jsx("h5",{children:"An no tienes medallas "}),O.jsx("p",{children:"Realiza tu primera donacin para verla aqu."})]})})]})}function oO(){const n=Ki(),[t,i]=B.useState(!1),[a,l]=B.useState(0),[u,d]=B.useState(()=>{const _=localStorage.getItem("currentUser");return _?JSON.parse(_):{}});B.useEffect(()=>{if(!u.curp){n("/");return}const _=async()=>{const{count:T}=await wi.from("notificaciones_medicas").select("*",{count:"exact",head:!0}).eq("curpUsuario",u.curp).eq("leida",!1);l(T||0)},b=async()=>{const{data:T}=await wi.from("users").select("avatar_url, nombre, puntos, nivel").eq("curp",u.curp).single();if(T){const E={...u,...T};JSON.stringify(E)!==JSON.stringify(u)&&(d(E),localStorage.setItem("currentUser",JSON.stringify(E)))}};_(),b();const w=wi.channel("notis-layout").on("postgres_changes",{event:"*",schema:"public",table:"notificaciones_medicas",filter:`curpUsuario=eq.${u.curp}`},_).subscribe();return()=>{wi.removeChannel(w)}},[u.curp]);const f=()=>{localStorage.removeItem("currentUser"),n("/")},p=({isActive:_})=>`nav-link px-3 text-white ${_?"fw-bold border-bottom border-2 border-white pb-1":"opacity-75"}`;return u.curp?O.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f8f9fa"},children:[O.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark shadow-sm",style:{backgroundColor:"#b30000"},children:O.jsxs("div",{className:"container",children:[O.jsxs(dn,{to:"/dashboard",className:"navbar-brand fw-bold d-flex align-items-center",style:{textDecoration:"none"},children:[O.jsx("span",{className:"fs-3 me-2",children:""})," Red de Donadores"]}),O.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav",children:O.jsx("span",{className:"navbar-toggler-icon"})}),O.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:O.jsxs("ul",{className:"navbar-nav ms-auto align-items-center",children:[O.jsx("li",{className:"nav-item mx-1",children:O.jsx(Hl,{className:p,to:"/dashboard",children:"Inicio"})}),O.jsx("li",{className:"nav-item mx-1",children:O.jsx(Hl,{className:p,to:"/ListaSolicitudes",children:"Solicitudes"})}),O.jsx("li",{className:"nav-item mx-1",children:O.jsx(Hl,{className:p,to:"/Solicitudes",children:"Pedir Sangre"})}),O.jsx("li",{className:"nav-item mx-1",children:O.jsx(Hl,{className:p,to:"/mapa",children:"Mapa de Hroes"})}),O.jsxs("li",{className:"nav-item ms-lg-4 position-relative",children:[O.jsxs("button",{onClick:()=>i(!t),className:"btn btn-light rounded-circle shadow-sm d-flex justify-content-center align-items-center position-relative p-0 overflow-hidden",style:{width:"45px",height:"45px",border:"2px solid white"},children:[u.avatar_url?O.jsx("img",{src:u.avatar_url,alt:"Avatar",style:{width:"100%",height:"100%",objectFit:"cover"}}):O.jsx("span",{style:{fontSize:"20px"},children:""}),a>0&&O.jsx("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger shadow",style:{fontSize:"0.6em",border:"2px solid white",zIndex:1},children:a})]}),t&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100",style:{zIndex:998},onClick:()=>i(!1)}),O.jsxs("div",{className:"dropdown-menu show position-absolute end-0 mt-2 shadow border-0",style:{minWidth:"220px",zIndex:999},children:[O.jsxs("div",{className:"px-3 py-2 border-bottom bg-light",children:[O.jsx("small",{className:"text-muted d-block",children:"Hola,"}),O.jsx("span",{className:"fw-bold text-dark",children:u.nombre?.split(" ")[0]})]}),O.jsx(dn,{to:"/perfil",className:"dropdown-item py-2",onClick:()=>i(!1),children:" Mi Perfil"}),O.jsxs(dn,{to:"/MisNotificaciones",className:"dropdown-item py-2 d-flex justify-content-between align-items-center",onClick:()=>i(!1),children:[O.jsx("span",{children:" Notificaciones"}),a>0&&O.jsx("span",{className:"badge bg-danger rounded-pill",children:a})]}),O.jsx(dn,{to:"/historial",className:"dropdown-item py-2",onClick:()=>i(!1),children:" Historial Donaciones"}),O.jsx("div",{className:"dropdown-divider"}),O.jsx("button",{onClick:f,className:"dropdown-item py-2 text-danger fw-bold",children:" Cerrar Sesin"})]})]})]})]})})]})}),O.jsx("main",{className:"container mt-5 pb-5",children:O.jsx(Hx,{})})]}):null}function pu(n){return n+.5|0}const aa=(n,t,i)=>Math.max(Math.min(n,i),t);function ql(n){return aa(pu(n*2.55),0,255)}function la(n){return aa(pu(n*255),0,255)}function fs(n){return aa(pu(n/2.55)/100,0,1)}function Hv(n){return aa(pu(n*100),0,100)}const Yi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Am=[..."0123456789ABCDEF"],lO=n=>Am[n&15],uO=n=>Am[(n&240)>>4]+Am[n&15],th=n=>(n&240)>>4===(n&15),cO=n=>th(n.r)&&th(n.g)&&th(n.b)&&th(n.a);function hO(n){var t=n.length,i;return n[0]==="#"&&(t===4||t===5?i={r:255&Yi[n[1]]*17,g:255&Yi[n[2]]*17,b:255&Yi[n[3]]*17,a:t===5?Yi[n[4]]*17:255}:(t===7||t===9)&&(i={r:Yi[n[1]]<<4|Yi[n[2]],g:Yi[n[3]]<<4|Yi[n[4]],b:Yi[n[5]]<<4|Yi[n[6]],a:t===9?Yi[n[7]]<<4|Yi[n[8]]:255})),i}const dO=(n,t)=>n<255?t(n):"";function fO(n){var t=cO(n)?lO:uO;return n?"#"+t(n.r)+t(n.g)+t(n.b)+dO(n.a,t):void 0}const mO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Lb(n,t,i){const a=t*Math.min(i,1-i),l=(u,d=(u+n/30)%12)=>i-a*Math.max(Math.min(d-3,9-d,1),-1);return[l(0),l(8),l(4)]}function pO(n,t,i){const a=(l,u=(l+n/60)%6)=>i-i*t*Math.max(Math.min(u,4-u,1),0);return[a(5),a(3),a(1)]}function gO(n,t,i){const a=Lb(n,1,.5);let l;for(t+i>1&&(l=1/(t+i),t*=l,i*=l),l=0;l<3;l++)a[l]*=1-t-i,a[l]+=t;return a}function _O(n,t,i,a,l){return n===l?(t-i)/a+(t<i?6:0):t===l?(i-n)/a+2:(n-t)/a+4}function Im(n){const i=n.r/255,a=n.g/255,l=n.b/255,u=Math.max(i,a,l),d=Math.min(i,a,l),f=(u+d)/2;let p,_,b;return u!==d&&(b=u-d,_=f>.5?b/(2-u-d):b/(u+d),p=_O(i,a,l,b,u),p=p*60+.5),[p|0,_||0,f]}function qm(n,t,i,a){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,i,a)).map(la)}function Zm(n,t,i){return qm(Lb,n,t,i)}function vO(n,t,i){return qm(gO,n,t,i)}function yO(n,t,i){return qm(pO,n,t,i)}function kb(n){return(n%360+360)%360}function bO(n){const t=mO.exec(n);let i=255,a;if(!t)return;t[5]!==a&&(i=t[6]?ql(+t[5]):la(+t[5]));const l=kb(+t[2]),u=+t[3]/100,d=+t[4]/100;return t[1]==="hwb"?a=vO(l,u,d):t[1]==="hsv"?a=yO(l,u,d):a=Zm(l,u,d),{r:a[0],g:a[1],b:a[2],a:i}}function wO(n,t){var i=Im(n);i[0]=kb(i[0]+t),i=Zm(i),n.r=i[0],n.g=i[1],n.b=i[2]}function xO(n){if(!n)return;const t=Im(n),i=t[0],a=Hv(t[1]),l=Hv(t[2]);return n.a<255?`hsla(${i}, ${a}%, ${l}%, ${fs(n.a)})`:`hsl(${i}, ${a}%, ${l}%)`}const Iv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function SO(){const n={},t=Object.keys(qv),i=Object.keys(Iv);let a,l,u,d,f;for(a=0;a<t.length;a++){for(d=f=t[a],l=0;l<i.length;l++)u=i[l],f=f.replace(u,Iv[u]);u=parseInt(qv[d],16),n[f]=[u>>16&255,u>>8&255,u&255]}return n}let eh;function TO(n){eh||(eh=SO(),eh.transparent=[0,0,0,0]);const t=eh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const EO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function OO(n){const t=EO.exec(n);let i=255,a,l,u;if(t){if(t[7]!==a){const d=+t[7];i=t[8]?ql(d):aa(d*255,0,255)}return a=+t[1],l=+t[3],u=+t[5],a=255&(t[2]?ql(a):aa(a,0,255)),l=255&(t[4]?ql(l):aa(l,0,255)),u=255&(t[6]?ql(u):aa(u,0,255)),{r:a,g:l,b:u,a:i}}}function AO(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${fs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const sm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ho=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function CO(n,t,i){const a=ho(fs(n.r)),l=ho(fs(n.g)),u=ho(fs(n.b));return{r:la(sm(a+i*(ho(fs(t.r))-a))),g:la(sm(l+i*(ho(fs(t.g))-l))),b:la(sm(u+i*(ho(fs(t.b))-u))),a:n.a+i*(t.a-n.a)}}function ih(n,t,i){if(n){let a=Im(n);a[t]=Math.max(0,Math.min(a[t]+a[t]*i,t===0?360:1)),a=Zm(a),n.r=a[0],n.g=a[1],n.b=a[2]}}function Mb(n,t){return n&&Object.assign(t||{},n)}function Zv(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=la(n[3]))):(t=Mb(n,{r:0,g:0,b:0,a:1}),t.a=la(t.a)),t}function RO(n){return n.charAt(0)==="r"?OO(n):bO(n)}class ou{constructor(t){if(t instanceof ou)return t;const i=typeof t;let a;i==="object"?a=Zv(t):i==="string"&&(a=hO(t)||TO(t)||RO(t)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var t=Mb(this._rgb);return t&&(t.a=fs(t.a)),t}set rgb(t){this._rgb=Zv(t)}rgbString(){return this._valid?AO(this._rgb):void 0}hexString(){return this._valid?fO(this._rgb):void 0}hslString(){return this._valid?xO(this._rgb):void 0}mix(t,i){if(t){const a=this.rgb,l=t.rgb;let u;const d=i===u?.5:i,f=2*d-1,p=a.a-l.a,_=((f*p===-1?f:(f+p)/(1+f*p))+1)/2;u=1-_,a.r=255&_*a.r+u*l.r+.5,a.g=255&_*a.g+u*l.g+.5,a.b=255&_*a.b+u*l.b+.5,a.a=d*a.a+(1-d)*l.a,this.rgb=a}return this}interpolate(t,i){return t&&(this._rgb=CO(this._rgb,t._rgb,i)),this}clone(){return new ou(this.rgb)}alpha(t){return this._rgb.a=la(t),this}clearer(t){const i=this._rgb;return i.a*=1-t,this}greyscale(){const t=this._rgb,i=pu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=i,this}opaquer(t){const i=this._rgb;return i.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ih(this._rgb,2,t),this}darken(t){return ih(this._rgb,2,-t),this}saturate(t){return ih(this._rgb,1,t),this}desaturate(t){return ih(this._rgb,1,-t),this}rotate(t){return wO(this._rgb,t),this}}function us(){}const LO=(()=>{let n=0;return()=>n++})();function ii(n){return n==null}function Xe(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Yt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function gs(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function kn(n,t){return gs(n)?n:t}function Qt(n,t){return typeof n>"u"?t:n}const kO=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,Db=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function he(n,t,i){if(n&&typeof n.call=="function")return n.apply(i,t)}function Jt(n,t,i,a){let l,u,d;if(Xe(n))for(u=n.length,l=0;l<u;l++)t.call(i,n[l],l);else if(Yt(n))for(d=Object.keys(n),u=d.length,l=0;l<u;l++)t.call(i,n[d[l]],d[l])}function wh(n,t){let i,a,l,u;if(!n||!t||n.length!==t.length)return!1;for(i=0,a=n.length;i<a;++i)if(l=n[i],u=t[i],l.datasetIndex!==u.datasetIndex||l.index!==u.index)return!1;return!0}function xh(n){if(Xe(n))return n.map(xh);if(Yt(n)){const t=Object.create(null),i=Object.keys(n),a=i.length;let l=0;for(;l<a;++l)t[i[l]]=xh(n[i[l]]);return t}return n}function Nb(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function MO(n,t,i,a){if(!Nb(n))return;const l=t[n],u=i[n];Yt(l)&&Yt(u)?lu(l,u,a):t[n]=xh(u)}function lu(n,t,i){const a=Xe(t)?t:[t],l=a.length;if(!Yt(n))return n;i=i||{};const u=i.merger||MO;let d;for(let f=0;f<l;++f){if(d=a[f],!Yt(d))continue;const p=Object.keys(d);for(let _=0,b=p.length;_<b;++_)u(p[_],n,d,i)}return n}function Wl(n,t){return lu(n,t,{merger:DO})}function DO(n,t,i){if(!Nb(n))return;const a=t[n],l=i[n];Yt(a)&&Yt(l)?Wl(a,l):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=xh(l))}const Vv={"":n=>n,x:n=>n.x,y:n=>n.y};function NO(n){const t=n.split("."),i=[];let a="";for(const l of t)a+=l,a.endsWith("\\")?a=a.slice(0,-1)+".":(i.push(a),a="");return i}function jO(n){const t=NO(n);return i=>{for(const a of t){if(a==="")break;i=i&&i[a]}return i}}function uu(n,t){return(Vv[t]||(Vv[t]=jO(t)))(n)}function Vm(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Sh=n=>typeof n<"u",ua=n=>typeof n=="function",$v=(n,t)=>{if(n.size!==t.size)return!1;for(const i of n)if(!t.has(i))return!1;return!0};function zO(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const de=Math.PI,Ne=2*de,Th=Number.POSITIVE_INFINITY,PO=de/180,Ue=de/2,ir=de/4,Gv=de*2/3,Yv=Math.sign;function BO(n){const t=[],i=Math.sqrt(n);let a;for(a=1;a<i;a++)n%a===0&&(t.push(a),t.push(n/a));return i===(i|0)&&t.push(i),t.sort((l,u)=>l-u).pop(),t}function UO(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Eh(n){return!UO(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function cr(n){return n*(de/180)}function HO(n){return n*(180/de)}function jb(n,t){const i=t.x-n.x,a=t.y-n.y,l=Math.sqrt(i*i+a*a);let u=Math.atan2(a,i);return u<-.5*de&&(u+=Ne),{angle:u,distance:l}}function IO(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Nn(n){return(n%Ne+Ne)%Ne}function Oh(n,t,i,a){const l=Nn(n),u=Nn(t),d=Nn(i),f=Nn(u-l),p=Nn(d-l),_=Nn(l-u),b=Nn(l-d);return l===u||l===d||a&&u===d||f>p&&_<b}function Fi(n,t,i){return Math.max(t,Math.min(i,n))}function qO(n){return Fi(n,-32768,32767)}function Zl(n,t,i,a=1e-6){return n>=Math.min(t,i)-a&&n<=Math.max(t,i)+a}function $m(n,t,i){i=i||(d=>n[d]<t);let a=n.length-1,l=0,u;for(;a-l>1;)u=l+a>>1,i(u)?l=u:a=u;return{lo:l,hi:a}}const Cm=(n,t,i,a)=>$m(n,i,a?l=>{const u=n[l][t];return u<i||u===i&&n[l+1][t]===i}:l=>n[l][t]<i),ZO=(n,t,i)=>$m(n,i,a=>n[a][t]>=i);function VO(n,t,i){let a=0,l=n.length;for(;a<l&&n[a]<t;)a++;for(;l>a&&n[l-1]>i;)l--;return a>0||l<n.length?n.slice(a,l):n}const zb=["push","pop","shift","splice","unshift"];function $O(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),zb.forEach(i=>{const a="_onData"+Vm(i),l=n[i];Object.defineProperty(n,i,{configurable:!0,enumerable:!1,value(...u){const d=l.apply(this,u);return n._chartjs.listeners.forEach(f=>{typeof f[a]=="function"&&f[a](...u)}),d}})})}function Fv(n,t){const i=n._chartjs;if(!i)return;const a=i.listeners,l=a.indexOf(t);l!==-1&&a.splice(l,1),!(a.length>0)&&(zb.forEach(u=>{delete n[u]}),delete n._chartjs)}function GO(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Pb=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function Bb(n,t){let i=[],a=!1;return function(...l){i=l,a||(a=!0,Pb.call(window,()=>{a=!1,n.apply(t,i)}))}}function YO(n,t){let i;return function(...a){return t?(clearTimeout(i),i=setTimeout(n,t,a)):n.apply(this,a),t}}const Ub=n=>n==="start"?"left":n==="end"?"right":"center",Ni=(n,t,i)=>n==="start"?t:n==="end"?i:(t+i)/2,FO=(n,t,i,a)=>n===(a?"left":"right")?i:n==="center"?(t+i)/2:t,nh=n=>n===0||n===1,Wv=(n,t,i)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ne/i)),Kv=(n,t,i)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ne/i)+1,Kl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ue)+1,easeOutSine:n=>Math.sin(n*Ue),easeInOutSine:n=>-.5*(Math.cos(de*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>nh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>nh(n)?n:Wv(n,.075,.3),easeOutElastic:n=>nh(n)?n:Kv(n,.075,.3),easeInOutElastic(n){return nh(n)?n:n<.5?.5*Wv(n*2,.1125,.45):.5+.5*Kv(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Kl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Kl.easeInBounce(n*2)*.5:Kl.easeOutBounce(n*2-1)*.5+.5};function Hb(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Xv(n){return Hb(n)?n:new ou(n)}function am(n){return Hb(n)?n:new ou(n).saturate(.5).darken(.1).hexString()}const WO=["x","y","borderWidth","radius","tension"],KO=["color","borderColor","backgroundColor"];function XO(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:KO},numbers:{type:"number",properties:WO}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function JO(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Jv=new Map;function QO(n,t){t=t||{};const i=n+JSON.stringify(t);let a=Jv.get(i);return a||(a=new Intl.NumberFormat(n,t),Jv.set(i,a)),a}function t1(n,t,i){return QO(t,i).format(n)}const e1={values(n){return Xe(n)?n:""+n}};var i1={formatters:e1};function n1(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:i1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const dr=Object.create(null),Rm=Object.create(null);function Xl(n,t){if(!t)return n;const i=t.split(".");for(let a=0,l=i.length;a<l;++a){const u=i[a];n=n[u]||(n[u]=Object.create(null))}return n}function rm(n,t,i){return typeof t=="string"?lu(Xl(n,t),i):lu(Xl(n,""),t)}class s1{constructor(t,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,l)=>am(l.backgroundColor),this.hoverBorderColor=(a,l)=>am(l.borderColor),this.hoverColor=(a,l)=>am(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(i)}set(t,i){return rm(this,t,i)}get(t){return Xl(this,t)}describe(t,i){return rm(Rm,t,i)}override(t,i){return rm(dr,t,i)}route(t,i,a,l){const u=Xl(this,t),d=Xl(this,a),f="_"+i;Object.defineProperties(u,{[f]:{value:u[i],writable:!0},[i]:{enumerable:!0,get(){const p=this[f],_=d[l];return Yt(p)?Object.assign({},_,p):Qt(p,_)},set(p){this[f]=p}}})}apply(t){t.forEach(i=>i(this))}}var Oe=new s1({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[XO,JO,n1]);function a1(n){return!n||ii(n.size)||ii(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Qv(n,t,i,a,l){let u=t[l];return u||(u=t[l]=n.measureText(l).width,i.push(l)),u>a&&(a=u),a}function nr(n,t,i){const a=n.currentDevicePixelRatio,l=i!==0?Math.max(i/2,.5):0;return Math.round((t-l)*a)/a+l}function ty(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function ey(n,t,i,a){Ib(n,t,i,a,null)}function Ib(n,t,i,a,l){let u,d,f,p,_,b,w,T;const E=t.pointStyle,k=t.rotation,R=t.radius;let M=(k||0)*PO;if(E&&typeof E=="object"&&(u=E.toString(),u==="[object HTMLImageElement]"||u==="[object HTMLCanvasElement]")){n.save(),n.translate(i,a),n.rotate(M),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(R)||R<=0)){switch(n.beginPath(),E){default:l?n.ellipse(i,a,l/2,R,0,0,Ne):n.arc(i,a,R,0,Ne),n.closePath();break;case"triangle":b=l?l/2:R,n.moveTo(i+Math.sin(M)*b,a-Math.cos(M)*R),M+=Gv,n.lineTo(i+Math.sin(M)*b,a-Math.cos(M)*R),M+=Gv,n.lineTo(i+Math.sin(M)*b,a-Math.cos(M)*R),n.closePath();break;case"rectRounded":_=R*.516,p=R-_,d=Math.cos(M+ir)*p,w=Math.cos(M+ir)*(l?l/2-_:p),f=Math.sin(M+ir)*p,T=Math.sin(M+ir)*(l?l/2-_:p),n.arc(i-w,a-f,_,M-de,M-Ue),n.arc(i+T,a-d,_,M-Ue,M),n.arc(i+w,a+f,_,M,M+Ue),n.arc(i-T,a+d,_,M+Ue,M+de),n.closePath();break;case"rect":if(!k){p=Math.SQRT1_2*R,b=l?l/2:p,n.rect(i-b,a-p,2*b,2*p);break}M+=ir;case"rectRot":w=Math.cos(M)*(l?l/2:R),d=Math.cos(M)*R,f=Math.sin(M)*R,T=Math.sin(M)*(l?l/2:R),n.moveTo(i-w,a-f),n.lineTo(i+T,a-d),n.lineTo(i+w,a+f),n.lineTo(i-T,a+d),n.closePath();break;case"crossRot":M+=ir;case"cross":w=Math.cos(M)*(l?l/2:R),d=Math.cos(M)*R,f=Math.sin(M)*R,T=Math.sin(M)*(l?l/2:R),n.moveTo(i-w,a-f),n.lineTo(i+w,a+f),n.moveTo(i+T,a-d),n.lineTo(i-T,a+d);break;case"star":w=Math.cos(M)*(l?l/2:R),d=Math.cos(M)*R,f=Math.sin(M)*R,T=Math.sin(M)*(l?l/2:R),n.moveTo(i-w,a-f),n.lineTo(i+w,a+f),n.moveTo(i+T,a-d),n.lineTo(i-T,a+d),M+=ir,w=Math.cos(M)*(l?l/2:R),d=Math.cos(M)*R,f=Math.sin(M)*R,T=Math.sin(M)*(l?l/2:R),n.moveTo(i-w,a-f),n.lineTo(i+w,a+f),n.moveTo(i+T,a-d),n.lineTo(i-T,a+d);break;case"line":d=l?l/2:Math.cos(M)*R,f=Math.sin(M)*R,n.moveTo(i-d,a-f),n.lineTo(i+d,a+f);break;case"dash":n.moveTo(i,a),n.lineTo(i+Math.cos(M)*(l?l/2:R),a+Math.sin(M)*R);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function qb(n,t,i){return i=i||.5,!t||n&&n.x>t.left-i&&n.x<t.right+i&&n.y>t.top-i&&n.y<t.bottom+i}function Gm(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Ym(n){n.restore()}function r1(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ii(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function o1(n,t,i,a,l){if(l.strikethrough||l.underline){const u=n.measureText(a),d=t-u.actualBoundingBoxLeft,f=t+u.actualBoundingBoxRight,p=i-u.actualBoundingBoxAscent,_=i+u.actualBoundingBoxDescent,b=l.strikethrough?(p+_)/2:_;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=l.decorationWidth||2,n.moveTo(d,b),n.lineTo(f,b),n.stroke()}}function l1(n,t){const i=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=i}function Ah(n,t,i,a,l,u={}){const d=Xe(t)?t:[t],f=u.strokeWidth>0&&u.strokeColor!=="";let p,_;for(n.save(),n.font=l.string,r1(n,u),p=0;p<d.length;++p)_=d[p],u.backdrop&&l1(n,u.backdrop),f&&(u.strokeColor&&(n.strokeStyle=u.strokeColor),ii(u.strokeWidth)||(n.lineWidth=u.strokeWidth),n.strokeText(_,i,a,u.maxWidth)),n.fillText(_,i,a,u.maxWidth),o1(n,i,a,_,u),a+=Number(l.lineHeight);n.restore()}function Lm(n,t){const{x:i,y:a,w:l,h:u,radius:d}=t;n.arc(i+d.topLeft,a+d.topLeft,d.topLeft,1.5*de,de,!0),n.lineTo(i,a+u-d.bottomLeft),n.arc(i+d.bottomLeft,a+u-d.bottomLeft,d.bottomLeft,de,Ue,!0),n.lineTo(i+l-d.bottomRight,a+u),n.arc(i+l-d.bottomRight,a+u-d.bottomRight,d.bottomRight,Ue,0,!0),n.lineTo(i+l,a+d.topRight),n.arc(i+l-d.topRight,a+d.topRight,d.topRight,0,-Ue,!0),n.lineTo(i+d.topLeft,a)}const u1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,c1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function h1(n,t){const i=(""+n).match(u1);if(!i||i[1]==="normal")return t*1.2;switch(n=+i[2],i[3]){case"px":return n;case"%":n/=100;break}return t*n}const d1=n=>+n||0;function Fm(n,t){const i={},a=Yt(t),l=a?Object.keys(t):t,u=Yt(n)?a?d=>Qt(n[d],n[t[d]]):d=>n[d]:()=>n;for(const d of l)i[d]=d1(u(d));return i}function f1(n){return Fm(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Jl(n){return Fm(n,["topLeft","topRight","bottomLeft","bottomRight"])}function mn(n){const t=f1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Si(n,t){n=n||{},t=t||Oe.font;let i=Qt(n.size,t.size);typeof i=="string"&&(i=parseInt(i,10));let a=Qt(n.style,t.style);a&&!(""+a).match(c1)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const l={family:Qt(n.family,t.family),lineHeight:h1(Qt(n.lineHeight,t.lineHeight),i),size:i,style:a,weight:Qt(n.weight,t.weight),string:""};return l.string=a1(l),l}function sh(n,t,i,a){let l,u,d;for(l=0,u=n.length;l<u;++l)if(d=n[l],d!==void 0&&d!==void 0)return d}function m1(n,t,i){const{min:a,max:l}=n,u=Db(t,(l-a)/2),d=(f,p)=>i&&f===0?0:f+p;return{min:d(a,-Math.abs(u)),max:d(l,u)}}function To(n,t){return Object.assign(Object.create(n),t)}function Wm(n,t=[""],i,a,l=()=>n[0]){const u=i||n;typeof a>"u"&&(a=Gb("_fallback",n));const d={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:u,_fallback:a,_getTarget:l,override:f=>Wm([f,...n],t,u,a)};return new Proxy(d,{deleteProperty(f,p){return delete f[p],delete f._keys,delete n[0][p],!0},get(f,p){return Vb(f,p,()=>x1(p,t,n,f))},getOwnPropertyDescriptor(f,p){return Reflect.getOwnPropertyDescriptor(f._scopes[0],p)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(f,p){return ny(f).includes(p)},ownKeys(f){return ny(f)},set(f,p,_){const b=f._storage||(f._storage=l());return f[p]=b[p]=_,delete f._keys,!0}})}function bo(n,t,i,a){const l={_cacheable:!1,_proxy:n,_context:t,_subProxy:i,_stack:new Set,_descriptors:Zb(n,a),setContext:u=>bo(n,u,i,a),override:u=>bo(n.override(u),t,i,a)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete n[d],!0},get(u,d,f){return Vb(u,d,()=>g1(u,d,f))},getOwnPropertyDescriptor(u,d){return u._descriptors.allKeys?Reflect.has(n,d)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,d)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(u,d){return Reflect.has(n,d)},ownKeys(){return Reflect.ownKeys(n)},set(u,d,f){return n[d]=f,delete u[d],!0}})}function Zb(n,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:a=t.indexable,_allKeys:l=t.allKeys}=n;return{allKeys:l,scriptable:i,indexable:a,isScriptable:ua(i)?i:()=>i,isIndexable:ua(a)?a:()=>a}}const p1=(n,t)=>n?n+Vm(t):t,Km=(n,t)=>Yt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Vb(n,t,i){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const a=i();return n[t]=a,a}function g1(n,t,i){const{_proxy:a,_context:l,_subProxy:u,_descriptors:d}=n;let f=a[t];return ua(f)&&d.isScriptable(t)&&(f=_1(t,f,n,i)),Xe(f)&&f.length&&(f=v1(t,f,n,d.isIndexable)),Km(t,f)&&(f=bo(f,l,u&&u[t],d)),f}function _1(n,t,i,a){const{_proxy:l,_context:u,_subProxy:d,_stack:f}=i;if(f.has(n))throw new Error("Recursion detected: "+Array.from(f).join("->")+"->"+n);f.add(n);let p=t(u,d||a);return f.delete(n),Km(n,p)&&(p=Xm(l._scopes,l,n,p)),p}function v1(n,t,i,a){const{_proxy:l,_context:u,_subProxy:d,_descriptors:f}=i;if(typeof u.index<"u"&&a(n))return t[u.index%t.length];if(Yt(t[0])){const p=t,_=l._scopes.filter(b=>b!==p);t=[];for(const b of p){const w=Xm(_,l,n,b);t.push(bo(w,u,d&&d[n],f))}}return t}function $b(n,t,i){return ua(n)?n(t,i):n}const y1=(n,t)=>n===!0?t:typeof n=="string"?uu(t,n):void 0;function b1(n,t,i,a,l){for(const u of t){const d=y1(i,u);if(d){n.add(d);const f=$b(d._fallback,i,l);if(typeof f<"u"&&f!==i&&f!==a)return f}else if(d===!1&&typeof a<"u"&&i!==a)return null}return!1}function Xm(n,t,i,a){const l=t._rootScopes,u=$b(t._fallback,i,a),d=[...n,...l],f=new Set;f.add(a);let p=iy(f,d,i,u||i,a);return p===null||typeof u<"u"&&u!==i&&(p=iy(f,d,u,p,a),p===null)?!1:Wm(Array.from(f),[""],l,u,()=>w1(t,i,a))}function iy(n,t,i,a,l){for(;i;)i=b1(n,t,i,a,l);return i}function w1(n,t,i){const a=n._getTarget();t in a||(a[t]={});const l=a[t];return Xe(l)&&Yt(i)?i:l||{}}function x1(n,t,i,a){let l;for(const u of t)if(l=Gb(p1(u,n),i),typeof l<"u")return Km(n,l)?Xm(i,a,n,l):l}function Gb(n,t){for(const i of t){if(!i)continue;const a=i[n];if(typeof a<"u")return a}}function ny(n){let t=n._keys;return t||(t=n._keys=S1(n._scopes)),t}function S1(n){const t=new Set;for(const i of n)for(const a of Object.keys(i).filter(l=>!l.startsWith("_")))t.add(a);return Array.from(t)}function Jm(){return typeof window<"u"&&typeof document<"u"}function Qm(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ch(n,t,i){let a;return typeof n=="string"?(a=parseInt(n,10),n.indexOf("%")!==-1&&(a=a/100*t.parentNode[i])):a=n,a}const Ph=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function T1(n,t){return Ph(n).getPropertyValue(t)}const E1=["top","right","bottom","left"];function hr(n,t,i){const a={};i=i?"-"+i:"";for(let l=0;l<4;l++){const u=E1[l];a[u]=parseFloat(n[t+"-"+u+i])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const O1=(n,t,i)=>(n>0||t>0)&&(!i||!i.shadowRoot);function A1(n,t){const i=n.touches,a=i&&i.length?i[0]:n,{offsetX:l,offsetY:u}=a;let d=!1,f,p;if(O1(l,u,n.target))f=l,p=u;else{const _=t.getBoundingClientRect();f=a.clientX-_.left,p=a.clientY-_.top,d=!0}return{x:f,y:p,box:d}}function rr(n,t){if("native"in n)return n;const{canvas:i,currentDevicePixelRatio:a}=t,l=Ph(i),u=l.boxSizing==="border-box",d=hr(l,"padding"),f=hr(l,"border","width"),{x:p,y:_,box:b}=A1(n,i),w=d.left+(b&&f.left),T=d.top+(b&&f.top);let{width:E,height:k}=t;return u&&(E-=d.width+f.width,k-=d.height+f.height),{x:Math.round((p-w)/E*i.width/a),y:Math.round((_-T)/k*i.height/a)}}function C1(n,t,i){let a,l;if(t===void 0||i===void 0){const u=n&&Qm(n);if(!u)t=n.clientWidth,i=n.clientHeight;else{const d=u.getBoundingClientRect(),f=Ph(u),p=hr(f,"border","width"),_=hr(f,"padding");t=d.width-_.width-p.width,i=d.height-_.height-p.height,a=Ch(f.maxWidth,u,"clientWidth"),l=Ch(f.maxHeight,u,"clientHeight")}}return{width:t,height:i,maxWidth:a||Th,maxHeight:l||Th}}const ra=n=>Math.round(n*10)/10;function R1(n,t,i,a){const l=Ph(n),u=hr(l,"margin"),d=Ch(l.maxWidth,n,"clientWidth")||Th,f=Ch(l.maxHeight,n,"clientHeight")||Th,p=C1(n,t,i);let{width:_,height:b}=p;if(l.boxSizing==="content-box"){const T=hr(l,"border","width"),E=hr(l,"padding");_-=E.width+T.width,b-=E.height+T.height}return _=Math.max(0,_-u.width),b=Math.max(0,a?_/a:b-u.height),_=ra(Math.min(_,d,p.maxWidth)),b=ra(Math.min(b,f,p.maxHeight)),_&&!b&&(b=ra(_/2)),(t!==void 0||i!==void 0)&&a&&p.height&&b>p.height&&(b=p.height,_=ra(Math.floor(b*a))),{width:_,height:b}}function sy(n,t,i){const a=t||1,l=ra(n.height*a),u=ra(n.width*a);n.height=ra(n.height),n.width=ra(n.width);const d=n.canvas;return d.style&&(i||!d.style.height&&!d.style.width)&&(d.style.height=`${n.height}px`,d.style.width=`${n.width}px`),n.currentDevicePixelRatio!==a||d.height!==l||d.width!==u?(n.currentDevicePixelRatio=a,d.height=l,d.width=u,n.ctx.setTransform(a,0,0,a,0,0),!0):!1}const L1=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Jm()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function ay(n,t){const i=T1(n,t),a=i&&i.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}const k1=function(n,t){return{x(i){return n+n+t-i},setWidth(i){t=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,a){return i-a},leftForLtr(i,a){return i-a}}},M1=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function yo(n,t,i){return n?k1(t,i):M1()}function Yb(n,t){let i,a;(t==="ltr"||t==="rtl")&&(i=n.canvas.style,a=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),n.prevTextDirection=a)}function Fb(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function ah(n,t,i){return n.options.clip?n[i]:t[i]}function D1(n,t){const{xScale:i,yScale:a}=n;return i&&a?{left:ah(i,t,"left"),right:ah(i,t,"right"),top:ah(a,t,"top"),bottom:ah(a,t,"bottom")}:t}function N1(n,t){const i=t._clip;if(i.disabled)return!1;const a=D1(t,n.chartArea);return{left:i.left===!1?0:a.left-(i.left===!0?0:i.left),right:i.right===!1?n.width:a.right+(i.right===!0?0:i.right),top:i.top===!1?0:a.top-(i.top===!0?0:i.top),bottom:i.bottom===!1?n.height:a.bottom+(i.bottom===!0?0:i.bottom)}}class j1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,a,l){const u=i.listeners[l],d=i.duration;u.forEach(f=>f({chart:t,initial:i.initial,numSteps:d,currentStep:Math.min(a-i.start,d)}))}_refresh(){this._request||(this._running=!0,this._request=Pb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((a,l)=>{if(!a.running||!a.items.length)return;const u=a.items;let d=u.length-1,f=!1,p;for(;d>=0;--d)p=u[d],p._active?(p._total>a.duration&&(a.duration=p._total),p.tick(t),f=!0):(u[d]=u[u.length-1],u.pop());f&&(l.draw(),this._notify(l,a,t,"progress")),u.length||(a.running=!1,this._notify(l,a,t,"complete"),a.initial=!1),i+=u.length}),this._lastDate=t,i===0&&(this._running=!1)}_getAnims(t){const i=this._charts;let a=i.get(t);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,a)),a}listen(t,i,a){this._getAnims(t).listeners[i].push(a)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){const i=this._charts.get(t);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((a,l)=>Math.max(a,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){const i=this._charts.get(t);if(!i||!i.items.length)return;const a=i.items;let l=a.length-1;for(;l>=0;--l)a[l].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var cs=new j1;const ry="transparent",z1={boolean(n,t,i){return i>.5?t:n},color(n,t,i){const a=Xv(n||ry),l=a.valid&&Xv(t||ry);return l&&l.valid?l.mix(a,i).hexString():t},number(n,t,i){return n+(t-n)*i}};class P1{constructor(t,i,a,l){const u=i[a];l=sh([t.to,l,u,t.from]);const d=sh([t.from,u,l]);this._active=!0,this._fn=t.fn||z1[t.type||typeof d],this._easing=Kl[t.easing]||Kl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=a,this._from=d,this._to=l,this._promises=void 0}active(){return this._active}update(t,i,a){if(this._active){this._notify(!1);const l=this._target[this._prop],u=a-this._start,d=this._duration-u;this._start=a,this._duration=Math.floor(Math.max(d,t.duration)),this._total+=u,this._loop=!!t.loop,this._to=sh([t.to,i,l,t.from]),this._from=sh([t.from,l,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const i=t-this._start,a=this._duration,l=this._prop,u=this._from,d=this._loop,f=this._to;let p;if(this._active=u!==f&&(d||i<a),!this._active){this._target[l]=f,this._notify(!0);return}if(i<0){this._target[l]=u;return}p=i/a%2,p=d&&p>1?2-p:p,p=this._easing(Math.min(1,Math.max(0,p))),this._target[l]=this._fn(u,f,p)}wait(){const t=this._promises||(this._promises=[]);return new Promise((i,a)=>{t.push({res:i,rej:a})})}_notify(t){const i=t?"res":"rej",a=this._promises||[];for(let l=0;l<a.length;l++)a[l][i]()}}class Wb{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!Yt(t))return;const i=Object.keys(Oe.animation),a=this._properties;Object.getOwnPropertyNames(t).forEach(l=>{const u=t[l];if(!Yt(u))return;const d={};for(const f of i)d[f]=u[f];(Xe(u.properties)&&u.properties||[l]).forEach(f=>{(f===l||!a.has(f))&&a.set(f,d)})})}_animateOptions(t,i){const a=i.options,l=U1(t,a);if(!l)return[];const u=this._createAnimations(l,a);return a.$shared&&B1(t.options.$animations,a).then(()=>{t.options=a},()=>{}),u}_createAnimations(t,i){const a=this._properties,l=[],u=t.$animations||(t.$animations={}),d=Object.keys(i),f=Date.now();let p;for(p=d.length-1;p>=0;--p){const _=d[p];if(_.charAt(0)==="$")continue;if(_==="options"){l.push(...this._animateOptions(t,i));continue}const b=i[_];let w=u[_];const T=a.get(_);if(w)if(T&&w.active()){w.update(T,b,f);continue}else w.cancel();if(!T||!T.duration){t[_]=b;continue}u[_]=w=new P1(T,t,_,b),l.push(w)}return l}update(t,i){if(this._properties.size===0){Object.assign(t,i);return}const a=this._createAnimations(t,i);if(a.length)return cs.add(this._chart,a),!0}}function B1(n,t){const i=[],a=Object.keys(t);for(let l=0;l<a.length;l++){const u=n[a[l]];u&&u.active()&&i.push(u.wait())}return Promise.all(i)}function U1(n,t){if(!t)return;let i=n.options;if(!i){n.options=t;return}return i.$shared&&(n.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function oy(n,t){const i=n&&n.options||{},a=i.reverse,l=i.min===void 0?t:0,u=i.max===void 0?t:0;return{start:a?u:l,end:a?l:u}}function H1(n,t,i){if(i===!1)return!1;const a=oy(n,i),l=oy(t,i);return{top:l.end,right:a.end,bottom:l.start,left:a.start}}function I1(n){let t,i,a,l;return Yt(n)?(t=n.top,i=n.right,a=n.bottom,l=n.left):t=i=a=l=n,{top:t,right:i,bottom:a,left:l,disabled:n===!1}}function Kb(n,t){const i=[],a=n._getSortedDatasetMetas(t);let l,u;for(l=0,u=a.length;l<u;++l)i.push(a[l].index);return i}function ly(n,t,i,a={}){const l=n.keys,u=a.mode==="single";let d,f,p,_;if(t===null)return;let b=!1;for(d=0,f=l.length;d<f;++d){if(p=+l[d],p===i){if(b=!0,a.all)continue;break}_=n.values[p],gs(_)&&(u||t===0||Yv(t)===Yv(_))&&(t+=_)}return!b&&!a.all?0:t}function q1(n,t){const{iScale:i,vScale:a}=t,l=i.axis==="x"?"x":"y",u=a.axis==="x"?"x":"y",d=Object.keys(n),f=new Array(d.length);let p,_,b;for(p=0,_=d.length;p<_;++p)b=d[p],f[p]={[l]:b,[u]:n[b]};return f}function om(n,t){const i=n&&n.options.stacked;return i||i===void 0&&t.stack!==void 0}function Z1(n,t,i){return`${n.id}.${t.id}.${i.stack||i.type}`}function V1(n){const{min:t,max:i,minDefined:a,maxDefined:l}=n.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:l?i:Number.POSITIVE_INFINITY}}function $1(n,t,i){const a=n[t]||(n[t]={});return a[i]||(a[i]={})}function uy(n,t,i,a){for(const l of t.getMatchingVisibleMetas(a).reverse()){const u=n[l.index];if(i&&u>0||!i&&u<0)return l.index}return null}function cy(n,t){const{chart:i,_cachedMeta:a}=n,l=i._stacks||(i._stacks={}),{iScale:u,vScale:d,index:f}=a,p=u.axis,_=d.axis,b=Z1(u,d,a),w=t.length;let T;for(let E=0;E<w;++E){const k=t[E],{[p]:R,[_]:M}=k,D=k._stacks||(k._stacks={});T=D[_]=$1(l,b,R),T[f]=M,T._top=uy(T,d,!0,a.type),T._bottom=uy(T,d,!1,a.type);const P=T._visualValues||(T._visualValues={});P[f]=M}}function lm(n,t){const i=n.scales;return Object.keys(i).filter(a=>i[a].axis===t).shift()}function G1(n,t){return To(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Y1(n,t,i){return To(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function jl(n,t){const i=n.controller.index,a=n.vScale&&n.vScale.axis;if(a){t=t||n._parsed;for(const l of t){const u=l._stacks;if(!u||u[a]===void 0||u[a][i]===void 0)return;delete u[a][i],u[a]._visualValues!==void 0&&u[a]._visualValues[i]!==void 0&&delete u[a]._visualValues[i]}}}const um=n=>n==="reset"||n==="none",hy=(n,t)=>t?n:Object.assign({},n),F1=(n,t,i)=>n&&!t.hidden&&t._stacked&&{keys:Kb(i,!0),values:null};class Xb{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=om(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&jl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,a=this.getDataset(),l=(w,T,E,k)=>w==="x"?T:w==="r"?k:E,u=i.xAxisID=Qt(a.xAxisID,lm(t,"x")),d=i.yAxisID=Qt(a.yAxisID,lm(t,"y")),f=i.rAxisID=Qt(a.rAxisID,lm(t,"r")),p=i.indexAxis,_=i.iAxisID=l(p,u,d,f),b=i.vAxisID=l(p,d,u,f);i.xScale=this.getScaleForId(u),i.yScale=this.getScaleForId(d),i.rScale=this.getScaleForId(f),i.iScale=this.getScaleForId(_),i.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Fv(this._data,this),t._stacked&&jl(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),a=this._data;if(Yt(i)){const l=this._cachedMeta;this._data=q1(i,l)}else if(a!==i){if(a){Fv(a,this);const l=this._cachedMeta;jl(l),l._parsed=[]}i&&Object.isExtensible(i)&&$O(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,a=this.getDataset();let l=!1;this._dataCheck();const u=i._stacked;i._stacked=om(i.vScale,i),i.stack!==a.stack&&(l=!0,jl(i),i.stack=a.stack),this._resyncElements(t),(l||u!==i._stacked)&&(cy(this,i._parsed),i._stacked=om(i.vScale,i))}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),a=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:a,_data:l}=this,{iScale:u,_stacked:d}=a,f=u.axis;let p=t===0&&i===l.length?!0:a._sorted,_=t>0&&a._parsed[t-1],b,w,T;if(this._parsing===!1)a._parsed=l,a._sorted=!0,T=l;else{Xe(l[t])?T=this.parseArrayData(a,l,t,i):Yt(l[t])?T=this.parseObjectData(a,l,t,i):T=this.parsePrimitiveData(a,l,t,i);const E=()=>w[f]===null||_&&w[f]<_[f];for(b=0;b<i;++b)a._parsed[b+t]=w=T[b],p&&(E()&&(p=!1),_=w);a._sorted=p}d&&cy(this,T)}parsePrimitiveData(t,i,a,l){const{iScale:u,vScale:d}=t,f=u.axis,p=d.axis,_=u.getLabels(),b=u===d,w=new Array(l);let T,E,k;for(T=0,E=l;T<E;++T)k=T+a,w[T]={[f]:b||u.parse(_[k],k),[p]:d.parse(i[k],k)};return w}parseArrayData(t,i,a,l){const{xScale:u,yScale:d}=t,f=new Array(l);let p,_,b,w;for(p=0,_=l;p<_;++p)b=p+a,w=i[b],f[p]={x:u.parse(w[0],b),y:d.parse(w[1],b)};return f}parseObjectData(t,i,a,l){const{xScale:u,yScale:d}=t,{xAxisKey:f="x",yAxisKey:p="y"}=this._parsing,_=new Array(l);let b,w,T,E;for(b=0,w=l;b<w;++b)T=b+a,E=i[T],_[b]={x:u.parse(uu(E,f),T),y:d.parse(uu(E,p),T)};return _}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,a){const l=this.chart,u=this._cachedMeta,d=i[t.axis],f={keys:Kb(l,!0),values:i._stacks[t.axis]._visualValues};return ly(f,d,u.index,{mode:a})}updateRangeFromParsed(t,i,a,l){const u=a[i.axis];let d=u===null?NaN:u;const f=l&&a._stacks[i.axis];l&&f&&(l.values=f,d=ly(l,u,this._cachedMeta.index)),t.min=Math.min(t.min,d),t.max=Math.max(t.max,d)}getMinMax(t,i){const a=this._cachedMeta,l=a._parsed,u=a._sorted&&t===a.iScale,d=l.length,f=this._getOtherScale(t),p=F1(i,a,this.chart),_={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:w}=V1(f);let T,E;function k(){E=l[T];const R=E[f.axis];return!gs(E[t.axis])||b>R||w<R}for(T=0;T<d&&!(!k()&&(this.updateRangeFromParsed(_,t,E,p),u));++T);if(u){for(T=d-1;T>=0;--T)if(!k()){this.updateRangeFromParsed(_,t,E,p);break}}return _}getAllParsedValues(t){const i=this._cachedMeta._parsed,a=[];let l,u,d;for(l=0,u=i.length;l<u;++l)d=i[l][t.axis],gs(d)&&a.push(d);return a}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,a=i.iScale,l=i.vScale,u=this.getParsed(t);return{label:a?""+a.getLabelForValue(u[a.axis]):"",value:l?""+l.getLabelForValue(u[l.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=I1(Qt(this.options.clip,H1(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this.chart,a=this._cachedMeta,l=a.data||[],u=i.chartArea,d=[],f=this._drawStart||0,p=this._drawCount||l.length-f,_=this.options.drawActiveElementsOnTop;let b;for(a.dataset&&a.dataset.draw(t,u,f,p),b=f;b<f+p;++b){const w=l[b];w.hidden||(w.active&&_?d.push(w):w.draw(t,u))}for(b=0;b<d.length;++b)d[b].draw(t,u)}getStyle(t,i){const a=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(t||0,a)}getContext(t,i,a){const l=this.getDataset();let u;if(t>=0&&t<this._cachedMeta.data.length){const d=this._cachedMeta.data[t];u=d.$context||(d.$context=Y1(this.getContext(),t,d)),u.parsed=this.getParsed(t),u.raw=l.data[t],u.index=u.dataIndex=t}else u=this.$context||(this.$context=G1(this.chart.getContext(),this.index)),u.dataset=l,u.index=u.datasetIndex=this.index;return u.active=!!i,u.mode=a,u}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",a){const l=i==="active",u=this._cachedDataOpts,d=t+"-"+i,f=u[d],p=this.enableOptionSharing&&Sh(a);if(f)return hy(f,p);const _=this.chart.config,b=_.datasetElementScopeKeys(this._type,t),w=l?[`${t}Hover`,"hover",t,""]:[t,""],T=_.getOptionScopes(this.getDataset(),b),E=Object.keys(Oe.elements[t]),k=()=>this.getContext(a,l,i),R=_.resolveNamedOptions(T,E,k,w);return R.$shared&&(R.$shared=p,u[d]=Object.freeze(hy(R,p))),R}_resolveAnimations(t,i,a){const l=this.chart,u=this._cachedDataOpts,d=`animation-${i}`,f=u[d];if(f)return f;let p;if(l.options.animation!==!1){const b=this.chart.config,w=b.datasetAnimationScopeKeys(this._type,i),T=b.getOptionScopes(this.getDataset(),w);p=b.createResolver(T,this.getContext(t,a,i))}const _=new Wb(l,p&&p.animations);return p&&p._cacheable&&(u[d]=Object.freeze(_)),_}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||um(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const a=this.resolveDataElementOptions(t,i),l=this._sharedOptions,u=this.getSharedOptions(a),d=this.includeOptions(i,u)||u!==l;return this.updateSharedOptions(u,i,a),{sharedOptions:u,includeOptions:d}}updateElement(t,i,a,l){um(l)?Object.assign(t,a):this._resolveAnimations(i,l).update(t,a)}updateSharedOptions(t,i,a){t&&!um(i)&&this._resolveAnimations(void 0,i).update(t,a)}_setStyle(t,i,a,l){t.active=l;const u=this.getStyle(i,l);this._resolveAnimations(i,a,l).update(t,{options:!l&&this.getSharedOptions(u)||u})}removeHoverStyle(t,i,a){this._setStyle(t,a,"active",!1)}setHoverStyle(t,i,a){this._setStyle(t,a,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,a=this._cachedMeta.data;for(const[f,p,_]of this._syncList)this[f](p,_);this._syncList=[];const l=a.length,u=i.length,d=Math.min(u,l);d&&this.parse(0,d),u>l?this._insertElements(l,u-l,t):u<l&&this._removeElements(u,l-u)}_insertElements(t,i,a=!0){const l=this._cachedMeta,u=l.data,d=t+i;let f;const p=_=>{for(_.length+=i,f=_.length-1;f>=d;f--)_[f]=_[f-i]};for(p(u),f=t;f<d;++f)u[f]=new this.dataElementType;this._parsing&&p(l._parsed),this.parse(t,i),a&&this.updateElements(u,t,i,"reset")}updateElements(t,i,a,l){}_removeElements(t,i){const a=this._cachedMeta;if(this._parsing){const l=a._parsed.splice(t,i);a._stacked&&jl(a,l)}a.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,a,l]=t;this[i](a,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const a=arguments.length-2;a&&this._sync(["_insertElements",t,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function W1(n,t,i){let a=1,l=1,u=0,d=0;if(t<Ne){const f=n,p=f+t,_=Math.cos(f),b=Math.sin(f),w=Math.cos(p),T=Math.sin(p),E=(U,W,et)=>Oh(U,f,p,!0)?1:Math.max(W,W*i,et,et*i),k=(U,W,et)=>Oh(U,f,p,!0)?-1:Math.min(W,W*i,et,et*i),R=E(0,_,w),M=E(Ue,b,T),D=k(de,_,w),P=k(de+Ue,b,T);a=(R-D)/2,l=(M-P)/2,u=-(R+D)/2,d=-(M+P)/2}return{ratioX:a,ratioY:l,offsetX:u,offsetY:d}}class K1 extends Xb{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const i=t.data,{labels:{pointStyle:a,textAlign:l,color:u,useBorderRadius:d,borderRadius:f}}=t.legend.options;return i.labels.length&&i.datasets.length?i.labels.map((p,_)=>{const w=t.getDatasetMeta(0).controller.getStyle(_);return{text:p,fillStyle:w.backgroundColor,fontColor:u,hidden:!t.getDataVisibility(_),lineDash:w.borderDash,lineDashOffset:w.borderDashOffset,lineJoin:w.borderJoinStyle,lineWidth:w.borderWidth,strokeStyle:w.borderColor,textAlign:l,pointStyle:a,borderRadius:d&&(f||w.borderRadius),index:_}}):[]}},onClick(t,i,a){a.chart.toggleDataVisibility(i.index),a.chart.update()}}}};constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const a=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=a;else{let u=p=>+a[p];if(Yt(a[t])){const{key:p="value"}=this._parsing;u=_=>+uu(a[_],p)}let d,f;for(d=t,f=t+i;d<f;++d)l._parsed[d]=u(d)}}_getRotation(){return cr(this.options.rotation-90)}_getCircumference(){return cr(this.options.circumference)}_getRotationExtents(){let t=Ne,i=-Ne;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const l=this.chart.getDatasetMeta(a).controller,u=l._getRotation(),d=l._getCircumference();t=Math.min(t,u),i=Math.max(i,u+d)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:a}=i,l=this._cachedMeta,u=l.data,d=this.getMaxBorderWidth()+this.getMaxOffset(u)+this.options.spacing,f=Math.max((Math.min(a.width,a.height)-d)/2,0),p=Math.min(kO(this.options.cutout,f),1),_=this._getRingWeight(this.index),{circumference:b,rotation:w}=this._getRotationExtents(),{ratioX:T,ratioY:E,offsetX:k,offsetY:R}=W1(w,b,p),M=(a.width-d)/T,D=(a.height-d)/E,P=Math.max(Math.min(M,D)/2,0),U=Db(this.options.radius,P),W=Math.max(U*p,0),et=(U-W)/this._getVisibleDatasetWeightTotal();this.offsetX=k*U,this.offsetY=R*U,l.total=this.calculateTotal(),this.outerRadius=U-et*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-et*_,0),this.updateElements(u,0,u.length,t)}_circumference(t,i){const a=this.options,l=this._cachedMeta,u=this._getCircumference();return i&&a.animation.animateRotate||!this.chart.getDataVisibility(t)||l._parsed[t]===null||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*u/Ne)}updateElements(t,i,a,l){const u=l==="reset",d=this.chart,f=d.chartArea,_=d.options.animation,b=(f.left+f.right)/2,w=(f.top+f.bottom)/2,T=u&&_.animateScale,E=T?0:this.innerRadius,k=T?0:this.outerRadius,{sharedOptions:R,includeOptions:M}=this._getSharedOptions(i,l);let D=this._getRotation(),P;for(P=0;P<i;++P)D+=this._circumference(P,u);for(P=i;P<i+a;++P){const U=this._circumference(P,u),W=t[P],et={x:b+this.offsetX,y:w+this.offsetY,startAngle:D,endAngle:D+U,circumference:U,outerRadius:k,innerRadius:E};M&&(et.options=R||this.resolveDataElementOptions(P,W.active?"active":l)),D+=U,this.updateElement(W,P,et,l)}}calculateTotal(){const t=this._cachedMeta,i=t.data;let a=0,l;for(l=0;l<i.length;l++){const u=t._parsed[l];u!==null&&!isNaN(u)&&this.chart.getDataVisibility(l)&&!i[l].hidden&&(a+=Math.abs(u))}return a}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?Ne*(Math.abs(t)/i):0}getLabelAndValue(t){const i=this._cachedMeta,a=this.chart,l=a.data.labels||[],u=t1(i._parsed[t],a.options.locale);return{label:l[t]||"",value:u}}getMaxBorderWidth(t){let i=0;const a=this.chart;let l,u,d,f,p;if(!t){for(l=0,u=a.data.datasets.length;l<u;++l)if(a.isDatasetVisible(l)){d=a.getDatasetMeta(l),t=d.data,f=d.controller;break}}if(!t)return 0;for(l=0,u=t.length;l<u;++l)p=f.resolveDataElementOptions(l),p.borderAlign!=="inner"&&(i=Math.max(i,p.borderWidth||0,p.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let a=0,l=t.length;a<l;++a){const u=this.resolveDataElementOptions(a);i=Math.max(i,u.offset||0,u.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let a=0;a<t;++a)this.chart.isDatasetVisible(a)&&(i+=this._getRingWeight(a));return i}_getRingWeight(t){return Math.max(Qt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}function sr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tp{static override(t){Object.assign(tp.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return sr()}parse(){return sr()}format(){return sr()}add(){return sr()}diff(){return sr()}startOf(){return sr()}endOf(){return sr()}}var X1={_date:tp};function J1(n,t,i,a){const{controller:l,data:u,_sorted:d}=n,f=l._cachedMeta.iScale,p=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(f&&t===f.axis&&t!=="r"&&d&&u.length){const _=f._reversePixels?ZO:Cm;if(a){if(l._sharedOptions){const b=u[0],w=typeof b.getRange=="function"&&b.getRange(t);if(w){const T=_(u,t,i-w),E=_(u,t,i+w);return{lo:T.lo,hi:E.hi}}}}else{const b=_(u,t,i);if(p){const{vScale:w}=l._cachedMeta,{_parsed:T}=n,E=T.slice(0,b.lo+1).reverse().findIndex(R=>!ii(R[w.axis]));b.lo-=Math.max(0,E);const k=T.slice(b.hi).findIndex(R=>!ii(R[w.axis]));b.hi+=Math.max(0,k)}return b}}return{lo:0,hi:u.length-1}}function Bh(n,t,i,a,l){const u=n.getSortedVisibleDatasetMetas(),d=i[t];for(let f=0,p=u.length;f<p;++f){const{index:_,data:b}=u[f],{lo:w,hi:T}=J1(u[f],t,d,l);for(let E=w;E<=T;++E){const k=b[E];k.skip||a(k,_,E)}}}function Q1(n){const t=n.indexOf("x")!==-1,i=n.indexOf("y")!==-1;return function(a,l){const u=t?Math.abs(a.x-l.x):0,d=i?Math.abs(a.y-l.y):0;return Math.sqrt(Math.pow(u,2)+Math.pow(d,2))}}function cm(n,t,i,a,l){const u=[];return!l&&!n.isPointInArea(t)||Bh(n,i,t,function(f,p,_){!l&&!qb(f,n.chartArea,0)||f.inRange(t.x,t.y,a)&&u.push({element:f,datasetIndex:p,index:_})},!0),u}function tA(n,t,i,a){let l=[];function u(d,f,p){const{startAngle:_,endAngle:b}=d.getProps(["startAngle","endAngle"],a),{angle:w}=jb(d,{x:t.x,y:t.y});Oh(w,_,b)&&l.push({element:d,datasetIndex:f,index:p})}return Bh(n,i,t,u),l}function eA(n,t,i,a,l,u){let d=[];const f=Q1(i);let p=Number.POSITIVE_INFINITY;function _(b,w,T){const E=b.inRange(t.x,t.y,l);if(a&&!E)return;const k=b.getCenterPoint(l);if(!(!!u||n.isPointInArea(k))&&!E)return;const M=f(t,k);M<p?(d=[{element:b,datasetIndex:w,index:T}],p=M):M===p&&d.push({element:b,datasetIndex:w,index:T})}return Bh(n,i,t,_),d}function hm(n,t,i,a,l,u){return!u&&!n.isPointInArea(t)?[]:i==="r"&&!a?tA(n,t,i,l):eA(n,t,i,a,l,u)}function dy(n,t,i,a,l){const u=[],d=i==="x"?"inXRange":"inYRange";let f=!1;return Bh(n,i,t,(p,_,b)=>{p[d]&&p[d](t[i],l)&&(u.push({element:p,datasetIndex:_,index:b}),f=f||p.inRange(t.x,t.y,l))}),a&&!f?[]:u}var iA={modes:{index(n,t,i,a){const l=rr(t,n),u=i.axis||"x",d=i.includeInvisible||!1,f=i.intersect?cm(n,l,u,a,d):hm(n,l,u,!1,a,d),p=[];return f.length?(n.getSortedVisibleDatasetMetas().forEach(_=>{const b=f[0].index,w=_.data[b];w&&!w.skip&&p.push({element:w,datasetIndex:_.index,index:b})}),p):[]},dataset(n,t,i,a){const l=rr(t,n),u=i.axis||"xy",d=i.includeInvisible||!1;let f=i.intersect?cm(n,l,u,a,d):hm(n,l,u,!1,a,d);if(f.length>0){const p=f[0].datasetIndex,_=n.getDatasetMeta(p).data;f=[];for(let b=0;b<_.length;++b)f.push({element:_[b],datasetIndex:p,index:b})}return f},point(n,t,i,a){const l=rr(t,n),u=i.axis||"xy",d=i.includeInvisible||!1;return cm(n,l,u,a,d)},nearest(n,t,i,a){const l=rr(t,n),u=i.axis||"xy",d=i.includeInvisible||!1;return hm(n,l,u,i.intersect,a,d)},x(n,t,i,a){const l=rr(t,n);return dy(n,l,"x",i.intersect,a)},y(n,t,i,a){const l=rr(t,n);return dy(n,l,"y",i.intersect,a)}}};const Jb=["left","top","right","bottom"];function zl(n,t){return n.filter(i=>i.pos===t)}function fy(n,t){return n.filter(i=>Jb.indexOf(i.pos)===-1&&i.box.axis===t)}function Pl(n,t){return n.sort((i,a)=>{const l=t?a:i,u=t?i:a;return l.weight===u.weight?l.index-u.index:l.weight-u.weight})}function nA(n){const t=[];let i,a,l,u,d,f;for(i=0,a=(n||[]).length;i<a;++i)l=n[i],{position:u,options:{stack:d,stackWeight:f=1}}=l,t.push({index:i,box:l,pos:u,horizontal:l.isHorizontal(),weight:l.weight,stack:d&&u+d,stackWeight:f});return t}function sA(n){const t={};for(const i of n){const{stack:a,pos:l,stackWeight:u}=i;if(!a||!Jb.includes(l))continue;const d=t[a]||(t[a]={count:0,placed:0,weight:0,size:0});d.count++,d.weight+=u}return t}function aA(n,t){const i=sA(n),{vBoxMaxWidth:a,hBoxMaxHeight:l}=t;let u,d,f;for(u=0,d=n.length;u<d;++u){f=n[u];const{fullSize:p}=f.box,_=i[f.stack],b=_&&f.stackWeight/_.weight;f.horizontal?(f.width=b?b*a:p&&t.availableWidth,f.height=l):(f.width=a,f.height=b?b*l:p&&t.availableHeight)}return i}function rA(n){const t=nA(n),i=Pl(t.filter(_=>_.box.fullSize),!0),a=Pl(zl(t,"left"),!0),l=Pl(zl(t,"right")),u=Pl(zl(t,"top"),!0),d=Pl(zl(t,"bottom")),f=fy(t,"x"),p=fy(t,"y");return{fullSize:i,leftAndTop:a.concat(u),rightAndBottom:l.concat(p).concat(d).concat(f),chartArea:zl(t,"chartArea"),vertical:a.concat(l).concat(p),horizontal:u.concat(d).concat(f)}}function my(n,t,i,a){return Math.max(n[i],t[i])+Math.max(n[a],t[a])}function Qb(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function oA(n,t,i,a){const{pos:l,box:u}=i,d=n.maxPadding;if(!Yt(l)){i.size&&(n[l]-=i.size);const w=a[i.stack]||{size:0,count:1};w.size=Math.max(w.size,i.horizontal?u.height:u.width),i.size=w.size/w.count,n[l]+=i.size}u.getPadding&&Qb(d,u.getPadding());const f=Math.max(0,t.outerWidth-my(d,n,"left","right")),p=Math.max(0,t.outerHeight-my(d,n,"top","bottom")),_=f!==n.w,b=p!==n.h;return n.w=f,n.h=p,i.horizontal?{same:_,other:b}:{same:b,other:_}}function lA(n){const t=n.maxPadding;function i(a){const l=Math.max(t[a]-n[a],0);return n[a]+=l,l}n.y+=i("top"),n.x+=i("left"),i("right"),i("bottom")}function uA(n,t){const i=t.maxPadding;function a(l){const u={left:0,top:0,right:0,bottom:0};return l.forEach(d=>{u[d]=Math.max(t[d],i[d])}),u}return a(n?["left","right"]:["top","bottom"])}function Vl(n,t,i,a){const l=[];let u,d,f,p,_,b;for(u=0,d=n.length,_=0;u<d;++u){f=n[u],p=f.box,p.update(f.width||t.w,f.height||t.h,uA(f.horizontal,t));const{same:w,other:T}=oA(t,i,f,a);_|=w&&l.length,b=b||T,p.fullSize||l.push(f)}return _&&Vl(l,t,i,a)||b}function rh(n,t,i,a,l){n.top=i,n.left=t,n.right=t+a,n.bottom=i+l,n.width=a,n.height=l}function py(n,t,i,a){const l=i.padding;let{x:u,y:d}=t;for(const f of n){const p=f.box,_=a[f.stack]||{placed:0,weight:1},b=f.stackWeight/_.weight||1;if(f.horizontal){const w=t.w*b,T=_.size||p.height;Sh(_.start)&&(d=_.start),p.fullSize?rh(p,l.left,d,i.outerWidth-l.right-l.left,T):rh(p,t.left+_.placed,d,w,T),_.start=d,_.placed+=w,d=p.bottom}else{const w=t.h*b,T=_.size||p.width;Sh(_.start)&&(u=_.start),p.fullSize?rh(p,u,l.top,T,i.outerHeight-l.bottom-l.top):rh(p,u,t.top+_.placed,T,w),_.start=u,_.placed+=w,u=p.right}}t.x=u,t.y=d}var oa={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},n.boxes.push(t)},removeBox(n,t){const i=n.boxes?n.boxes.indexOf(t):-1;i!==-1&&n.boxes.splice(i,1)},configure(n,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(n,t,i,a){if(!n)return;const l=mn(n.options.layout.padding),u=Math.max(t-l.width,0),d=Math.max(i-l.height,0),f=rA(n.boxes),p=f.vertical,_=f.horizontal;Jt(n.boxes,R=>{typeof R.beforeLayout=="function"&&R.beforeLayout()});const b=p.reduce((R,M)=>M.box.options&&M.box.options.display===!1?R:R+1,0)||1,w=Object.freeze({outerWidth:t,outerHeight:i,padding:l,availableWidth:u,availableHeight:d,vBoxMaxWidth:u/2/b,hBoxMaxHeight:d/2}),T=Object.assign({},l);Qb(T,mn(a));const E=Object.assign({maxPadding:T,w:u,h:d,x:l.left,y:l.top},l),k=aA(p.concat(_),w);Vl(f.fullSize,E,w,k),Vl(p,E,w,k),Vl(_,E,w,k)&&Vl(p,E,w,k),lA(E),py(f.leftAndTop,E,w,k),E.x+=E.w,E.y+=E.h,py(f.rightAndBottom,E,w,k),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},Jt(f.chartArea,R=>{const M=R.box;Object.assign(M,n.chartArea),M.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class t0{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,a){}removeEventListener(t,i,a){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,a,l){return i=Math.max(0,i||t.width),a=a||t.height,{width:i,height:Math.max(0,l?Math.floor(i/l):a)}}isAttached(t){return!0}updateConfig(t){}}class cA extends t0{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ph="$chartjs",hA={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gy=n=>n===null||n==="";function dA(n,t){const i=n.style,a=n.getAttribute("height"),l=n.getAttribute("width");if(n[ph]={initial:{height:a,width:l,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",gy(l)){const u=ay(n,"width");u!==void 0&&(n.width=u)}if(gy(a))if(n.style.height==="")n.height=n.width/(t||2);else{const u=ay(n,"height");u!==void 0&&(n.height=u)}return n}const e0=L1?{passive:!0}:!1;function fA(n,t,i){n&&n.addEventListener(t,i,e0)}function mA(n,t,i){n&&n.canvas&&n.canvas.removeEventListener(t,i,e0)}function pA(n,t){const i=hA[n.type]||n.type,{x:a,y:l}=rr(n,t);return{type:i,chart:t,native:n,x:a!==void 0?a:null,y:l!==void 0?l:null}}function Rh(n,t){for(const i of n)if(i===t||i.contains(t))return!0}function gA(n,t,i){const a=n.canvas,l=new MutationObserver(u=>{let d=!1;for(const f of u)d=d||Rh(f.addedNodes,a),d=d&&!Rh(f.removedNodes,a);d&&i()});return l.observe(document,{childList:!0,subtree:!0}),l}function _A(n,t,i){const a=n.canvas,l=new MutationObserver(u=>{let d=!1;for(const f of u)d=d||Rh(f.removedNodes,a),d=d&&!Rh(f.addedNodes,a);d&&i()});return l.observe(document,{childList:!0,subtree:!0}),l}const cu=new Map;let _y=0;function i0(){const n=window.devicePixelRatio;n!==_y&&(_y=n,cu.forEach((t,i)=>{i.currentDevicePixelRatio!==n&&t()}))}function vA(n,t){cu.size||window.addEventListener("resize",i0),cu.set(n,t)}function yA(n){cu.delete(n),cu.size||window.removeEventListener("resize",i0)}function bA(n,t,i){const a=n.canvas,l=a&&Qm(a);if(!l)return;const u=Bb((f,p)=>{const _=l.clientWidth;i(f,p),_<l.clientWidth&&i()},window),d=new ResizeObserver(f=>{const p=f[0],_=p.contentRect.width,b=p.contentRect.height;_===0&&b===0||u(_,b)});return d.observe(l),vA(n,u),d}function dm(n,t,i){i&&i.disconnect(),t==="resize"&&yA(n)}function wA(n,t,i){const a=n.canvas,l=Bb(u=>{n.ctx!==null&&i(pA(u,n))},n);return fA(a,t,l),l}class xA extends t0{acquireContext(t,i){const a=t&&t.getContext&&t.getContext("2d");return a&&a.canvas===t?(dA(t,i),a):null}releaseContext(t){const i=t.canvas;if(!i[ph])return!1;const a=i[ph].initial;["height","width"].forEach(u=>{const d=a[u];ii(d)?i.removeAttribute(u):i.setAttribute(u,d)});const l=a.style||{};return Object.keys(l).forEach(u=>{i.style[u]=l[u]}),i.width=i.width,delete i[ph],!0}addEventListener(t,i,a){this.removeEventListener(t,i);const l=t.$proxies||(t.$proxies={}),d={attach:gA,detach:_A,resize:bA}[i]||wA;l[i]=d(t,i,a)}removeEventListener(t,i){const a=t.$proxies||(t.$proxies={}),l=a[i];if(!l)return;({attach:dm,detach:dm,resize:dm}[i]||mA)(t,i,l),a[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,a,l){return R1(t,i,a,l)}isAttached(t){const i=t&&Qm(t);return!!(i&&i.isConnected)}}function SA(n){return!Jm()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?cA:xA}let gu=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:i,y:a}=this.getProps(["x","y"],t);return{x:i,y:a}}hasValue(){return Eh(this.x)&&Eh(this.y)}getProps(t,i){const a=this.$animations;if(!i||!a)return this;const l={};return t.forEach(u=>{l[u]=a[u]&&a[u].active()?a[u]._to:this[u]}),l}};function TA(n,t){const i=n.options.ticks,a=EA(n),l=Math.min(i.maxTicksLimit||a,a),u=i.major.enabled?AA(t):[],d=u.length,f=u[0],p=u[d-1],_=[];if(d>l)return CA(t,_,u,d/l),_;const b=OA(u,t,l);if(d>0){let w,T;const E=d>1?Math.round((p-f)/(d-1)):null;for(oh(t,_,b,ii(E)?0:f-E,f),w=0,T=d-1;w<T;w++)oh(t,_,b,u[w],u[w+1]);return oh(t,_,b,p,ii(E)?t.length:p+E),_}return oh(t,_,b),_}function EA(n){const t=n.options.offset,i=n._tickSize(),a=n._length/i+(t?0:1),l=n._maxLength/i;return Math.floor(Math.min(a,l))}function OA(n,t,i){const a=RA(n),l=t.length/i;if(!a)return Math.max(l,1);const u=BO(a);for(let d=0,f=u.length-1;d<f;d++){const p=u[d];if(p>l)return p}return Math.max(l,1)}function AA(n){const t=[];let i,a;for(i=0,a=n.length;i<a;i++)n[i].major&&t.push(i);return t}function CA(n,t,i,a){let l=0,u=i[0],d;for(a=Math.ceil(a),d=0;d<n.length;d++)d===u&&(t.push(n[d]),l++,u=i[l*a])}function oh(n,t,i,a,l){const u=Qt(a,0),d=Math.min(Qt(l,n.length),n.length);let f=0,p,_,b;for(i=Math.ceil(i),l&&(p=l-a,i=p/Math.floor(p/i)),b=u;b<0;)f++,b=Math.round(u+f*i);for(_=Math.max(u,0);_<d;_++)_===b&&(t.push(n[_]),f++,b=Math.round(u+f*i))}function RA(n){const t=n.length;let i,a;if(t<2)return!1;for(a=n[0],i=1;i<t;++i)if(n[i]-n[i-1]!==a)return!1;return a}const LA=n=>n==="left"?"right":n==="right"?"left":n,vy=(n,t,i)=>t==="top"||t==="left"?n[t]+i:n[t]-i,yy=(n,t)=>Math.min(t||n,n);function by(n,t){const i=[],a=n.length/t,l=n.length;let u=0;for(;u<l;u+=a)i.push(n[Math.floor(u)]);return i}function kA(n,t,i){const a=n.ticks.length,l=Math.min(t,a-1),u=n._startPixel,d=n._endPixel,f=1e-6;let p=n.getPixelForTick(l),_;if(!(i&&(a===1?_=Math.max(p-u,d-p):t===0?_=(n.getPixelForTick(1)-p)/2:_=(p-n.getPixelForTick(l-1))/2,p+=l<t?_:-_,p<u-f||p>d+f)))return p}function MA(n,t){Jt(n,i=>{const a=i.gc,l=a.length/2;let u;if(l>t){for(u=0;u<l;++u)delete i.data[a[u]];a.splice(0,l)}})}function Bl(n){return n.drawTicks?n.tickLength:0}function wy(n,t){if(!n.display)return 0;const i=Si(n.font,t),a=mn(n.padding);return(Xe(n.text)?n.text.length:1)*i.lineHeight+a.height}function DA(n,t){return To(n,{scale:t,type:"scale"})}function NA(n,t,i){return To(n,{tick:i,index:t,type:"tick"})}function jA(n,t,i){let a=Ub(n);return(i&&t!=="right"||!i&&t==="right")&&(a=LA(a)),a}function zA(n,t,i,a){const{top:l,left:u,bottom:d,right:f,chart:p}=n,{chartArea:_,scales:b}=p;let w=0,T,E,k;const R=d-l,M=f-u;if(n.isHorizontal()){if(E=Ni(a,u,f),Yt(i)){const D=Object.keys(i)[0],P=i[D];k=b[D].getPixelForValue(P)+R-t}else i==="center"?k=(_.bottom+_.top)/2+R-t:k=vy(n,i,t);T=f-u}else{if(Yt(i)){const D=Object.keys(i)[0],P=i[D];E=b[D].getPixelForValue(P)-M+t}else i==="center"?E=(_.left+_.right)/2-M+t:E=vy(n,i,t);k=Ni(a,d,l),w=i==="left"?-Ue:Ue}return{titleX:E,titleY:k,maxWidth:T,rotation:w}}class Uh extends gu{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:a,_suggestedMax:l}=this;return t=kn(t,Number.POSITIVE_INFINITY),i=kn(i,Number.NEGATIVE_INFINITY),a=kn(a,Number.POSITIVE_INFINITY),l=kn(l,Number.NEGATIVE_INFINITY),{min:kn(t,a),max:kn(i,l),minDefined:gs(t),maxDefined:gs(i)}}getMinMax(t){let{min:i,max:a,minDefined:l,maxDefined:u}=this.getUserBounds(),d;if(l&&u)return{min:i,max:a};const f=this.getMatchingVisibleMetas();for(let p=0,_=f.length;p<_;++p)d=f[p].controller.getMinMax(this,t),l||(i=Math.min(i,d.min)),u||(a=Math.max(a,d.max));return i=u&&i>a?a:i,a=l&&i>a?i:a,{min:kn(i,kn(a,i)),max:kn(a,kn(i,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){he(this.options.beforeUpdate,[this])}update(t,i,a){const{beginAtZero:l,grace:u,ticks:d}=this.options,f=d.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=m1(this,u,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const p=f<this.ticks.length;this._convertTicksToLabels(p?by(this.ticks,f):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),d.display&&(d.autoSkip||d.source==="auto")&&(this.ticks=TA(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),p&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,a;this.isHorizontal()?(i=this.left,a=this.right):(i=this.top,a=this.bottom,t=!t),this._startPixel=i,this._endPixel=a,this._reversePixels=t,this._length=a-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){he(this.options.afterUpdate,[this])}beforeSetDimensions(){he(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){he(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),he(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){he(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const i=this.options.ticks;let a,l,u;for(a=0,l=t.length;a<l;a++)u=t[a],u.label=he(i.callback,[u.value,a,t],this)}afterTickToLabelConversion(){he(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){he(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,i=t.ticks,a=yy(this.ticks.length,t.ticks.maxTicksLimit),l=i.minRotation||0,u=i.maxRotation;let d=l,f,p,_;if(!this._isVisible()||!i.display||l>=u||a<=1||!this.isHorizontal()){this.labelRotation=l;return}const b=this._getLabelSizes(),w=b.widest.width,T=b.highest.height,E=Fi(this.chart.width-w,0,this.maxWidth);f=t.offset?this.maxWidth/a:E/(a-1),w+6>f&&(f=E/(a-(t.offset?.5:1)),p=this.maxHeight-Bl(t.grid)-i.padding-wy(t.title,this.chart.options.font),_=Math.sqrt(w*w+T*T),d=HO(Math.min(Math.asin(Fi((b.highest.height+6)/f,-1,1)),Math.asin(Fi(p/_,-1,1))-Math.asin(Fi(T/_,-1,1)))),d=Math.max(l,Math.min(u,d))),this.labelRotation=d}afterCalculateLabelRotation(){he(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){he(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:i,options:{ticks:a,title:l,grid:u}}=this,d=this._isVisible(),f=this.isHorizontal();if(d){const p=wy(l,i.options.font);if(f?(t.width=this.maxWidth,t.height=Bl(u)+p):(t.height=this.maxHeight,t.width=Bl(u)+p),a.display&&this.ticks.length){const{first:_,last:b,widest:w,highest:T}=this._getLabelSizes(),E=a.padding*2,k=cr(this.labelRotation),R=Math.cos(k),M=Math.sin(k);if(f){const D=a.mirror?0:M*w.width+R*T.height;t.height=Math.min(this.maxHeight,t.height+D+E)}else{const D=a.mirror?0:R*w.width+M*T.height;t.width=Math.min(this.maxWidth,t.width+D+E)}this._calculatePadding(_,b,M,R)}}this._handleMargins(),f?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,a,l){const{ticks:{align:u,padding:d},position:f}=this.options,p=this.labelRotation!==0,_=f!=="top"&&this.axis==="x";if(this.isHorizontal()){const b=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,E=0;p?_?(T=l*t.width,E=a*i.height):(T=a*t.height,E=l*i.width):u==="start"?E=i.width:u==="end"?T=t.width:u!=="inner"&&(T=t.width/2,E=i.width/2),this.paddingLeft=Math.max((T-b+d)*this.width/(this.width-b),0),this.paddingRight=Math.max((E-w+d)*this.width/(this.width-w),0)}else{let b=i.height/2,w=t.height/2;u==="start"?(b=0,w=t.height):u==="end"&&(b=i.height,w=0),this.paddingTop=b+d,this.paddingBottom=w+d}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){he(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:i}=this.options;return i==="top"||i==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let i,a;for(i=0,a=t.length;i<a;i++)ii(t[i].label)&&(t.splice(i,1),a--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const i=this.options.ticks.sampleSize;let a=this.ticks;i<a.length&&(a=by(a,i)),this._labelSizes=t=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,i,a){const{ctx:l,_longestTextCache:u}=this,d=[],f=[],p=Math.floor(i/yy(i,a));let _=0,b=0,w,T,E,k,R,M,D,P,U,W,et;for(w=0;w<i;w+=p){if(k=t[w].label,R=this._resolveTickFontOptions(w),l.font=M=R.string,D=u[M]=u[M]||{data:{},gc:[]},P=R.lineHeight,U=W=0,!ii(k)&&!Xe(k))U=Qv(l,D.data,D.gc,U,k),W=P;else if(Xe(k))for(T=0,E=k.length;T<E;++T)et=k[T],!ii(et)&&!Xe(et)&&(U=Qv(l,D.data,D.gc,U,et),W+=P);d.push(U),f.push(W),_=Math.max(U,_),b=Math.max(W,b)}MA(u,i);const at=d.indexOf(_),st=f.indexOf(b),dt=yt=>({width:d[yt]||0,height:f[yt]||0});return{first:dt(0),last:dt(i-1),widest:dt(at),highest:dt(st),widths:d,heights:f}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const i=this._startPixel+t*this._length;return qO(this._alignToPixels?nr(this.chart,i,0):i)}getDecimalForPixel(t){const i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){const i=this.ticks||[];if(t>=0&&t<i.length){const a=i[t];return a.$context||(a.$context=NA(this.getContext(),t,a))}return this.$context||(this.$context=DA(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,i=cr(this.labelRotation),a=Math.abs(Math.cos(i)),l=Math.abs(Math.sin(i)),u=this._getLabelSizes(),d=t.autoSkipPadding||0,f=u?u.widest.width+d:0,p=u?u.highest.height+d:0;return this.isHorizontal()?p*a>f*l?f/a:p/l:p*l<f*a?p/a:f/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const i=this.axis,a=this.chart,l=this.options,{grid:u,position:d,border:f}=l,p=u.offset,_=this.isHorizontal(),w=this.ticks.length+(p?1:0),T=Bl(u),E=[],k=f.setContext(this.getContext()),R=k.display?k.width:0,M=R/2,D=function(Z){return nr(a,Z,R)};let P,U,W,et,at,st,dt,yt,Tt,bt,gt,se;if(d==="top")P=D(this.bottom),st=this.bottom-T,yt=P-M,bt=D(t.top)+M,se=t.bottom;else if(d==="bottom")P=D(this.top),bt=t.top,se=D(t.bottom)-M,st=P+M,yt=this.top+T;else if(d==="left")P=D(this.right),at=this.right-T,dt=P-M,Tt=D(t.left)+M,gt=t.right;else if(d==="right")P=D(this.left),Tt=t.left,gt=D(t.right)-M,at=P+M,dt=this.left+T;else if(i==="x"){if(d==="center")P=D((t.top+t.bottom)/2+.5);else if(Yt(d)){const Z=Object.keys(d)[0],nt=d[Z];P=D(this.chart.scales[Z].getPixelForValue(nt))}bt=t.top,se=t.bottom,st=P+M,yt=st+T}else if(i==="y"){if(d==="center")P=D((t.left+t.right)/2);else if(Yt(d)){const Z=Object.keys(d)[0],nt=d[Z];P=D(this.chart.scales[Z].getPixelForValue(nt))}at=P-M,dt=at-T,Tt=t.left,gt=t.right}const qt=Qt(l.ticks.maxTicksLimit,w),Lt=Math.max(1,Math.ceil(w/qt));for(U=0;U<w;U+=Lt){const Z=this.getContext(U),nt=u.setContext(Z),it=f.setContext(Z),At=nt.lineWidth,ct=nt.color,z=it.dash||[],K=it.dashOffset,rt=nt.tickWidth,ot=nt.tickColor,ht=nt.tickBorderDash||[],ut=nt.tickBorderDashOffset;W=kA(this,U,p),W!==void 0&&(et=nr(a,W,At),_?at=dt=Tt=gt=et:st=yt=bt=se=et,E.push({tx1:at,ty1:st,tx2:dt,ty2:yt,x1:Tt,y1:bt,x2:gt,y2:se,width:At,color:ct,borderDash:z,borderDashOffset:K,tickWidth:rt,tickColor:ot,tickBorderDash:ht,tickBorderDashOffset:ut}))}return this._ticksLength=w,this._borderValue=P,E}_computeLabelItems(t){const i=this.axis,a=this.options,{position:l,ticks:u}=a,d=this.isHorizontal(),f=this.ticks,{align:p,crossAlign:_,padding:b,mirror:w}=u,T=Bl(a.grid),E=T+b,k=w?-b:E,R=-cr(this.labelRotation),M=[];let D,P,U,W,et,at,st,dt,yt,Tt,bt,gt,se="middle";if(l==="top")at=this.bottom-k,st=this._getXAxisLabelAlignment();else if(l==="bottom")at=this.top+k,st=this._getXAxisLabelAlignment();else if(l==="left"){const Lt=this._getYAxisLabelAlignment(T);st=Lt.textAlign,et=Lt.x}else if(l==="right"){const Lt=this._getYAxisLabelAlignment(T);st=Lt.textAlign,et=Lt.x}else if(i==="x"){if(l==="center")at=(t.top+t.bottom)/2+E;else if(Yt(l)){const Lt=Object.keys(l)[0],Z=l[Lt];at=this.chart.scales[Lt].getPixelForValue(Z)+E}st=this._getXAxisLabelAlignment()}else if(i==="y"){if(l==="center")et=(t.left+t.right)/2-E;else if(Yt(l)){const Lt=Object.keys(l)[0],Z=l[Lt];et=this.chart.scales[Lt].getPixelForValue(Z)}st=this._getYAxisLabelAlignment(T).textAlign}i==="y"&&(p==="start"?se="top":p==="end"&&(se="bottom"));const qt=this._getLabelSizes();for(D=0,P=f.length;D<P;++D){U=f[D],W=U.label;const Lt=u.setContext(this.getContext(D));dt=this.getPixelForTick(D)+u.labelOffset,yt=this._resolveTickFontOptions(D),Tt=yt.lineHeight,bt=Xe(W)?W.length:1;const Z=bt/2,nt=Lt.color,it=Lt.textStrokeColor,At=Lt.textStrokeWidth;let ct=st;d?(et=dt,st==="inner"&&(D===P-1?ct=this.options.reverse?"left":"right":D===0?ct=this.options.reverse?"right":"left":ct="center"),l==="top"?_==="near"||R!==0?gt=-bt*Tt+Tt/2:_==="center"?gt=-qt.highest.height/2-Z*Tt+Tt:gt=-qt.highest.height+Tt/2:_==="near"||R!==0?gt=Tt/2:_==="center"?gt=qt.highest.height/2-Z*Tt:gt=qt.highest.height-bt*Tt,w&&(gt*=-1),R!==0&&!Lt.showLabelBackdrop&&(et+=Tt/2*Math.sin(R))):(at=dt,gt=(1-bt)*Tt/2);let z;if(Lt.showLabelBackdrop){const K=mn(Lt.backdropPadding),rt=qt.heights[D],ot=qt.widths[D];let ht=gt-K.top,ut=0-K.left;switch(se){case"middle":ht-=rt/2;break;case"bottom":ht-=rt;break}switch(st){case"center":ut-=ot/2;break;case"right":ut-=ot;break;case"inner":D===P-1?ut-=ot:D>0&&(ut-=ot/2);break}z={left:ut,top:ht,width:ot+K.width,height:rt+K.height,color:Lt.backdropColor}}M.push({label:W,font:yt,textOffset:gt,options:{rotation:R,color:nt,strokeColor:it,strokeWidth:At,textAlign:ct,textBaseline:se,translation:[et,at],backdrop:z}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:i}=this.options;if(-cr(this.labelRotation))return t==="top"?"left":"right";let l="center";return i.align==="start"?l="left":i.align==="end"?l="right":i.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:i,ticks:{crossAlign:a,mirror:l,padding:u}}=this.options,d=this._getLabelSizes(),f=t+u,p=d.widest.width;let _,b;return i==="left"?l?(b=this.right+u,a==="near"?_="left":a==="center"?(_="center",b+=p/2):(_="right",b+=p)):(b=this.right-f,a==="near"?_="right":a==="center"?(_="center",b-=p/2):(_="left",b=this.left)):i==="right"?l?(b=this.left+u,a==="near"?_="right":a==="center"?(_="center",b-=p/2):(_="left",b-=p)):(b=this.left+f,a==="near"?_="left":a==="center"?(_="center",b+=p/2):(_="right",b=this.right)):_="right",{textAlign:_,x:b}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:i},left:a,top:l,width:u,height:d}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(a,l,u,d),t.restore())}getLineWidthForValue(t){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const l=this.ticks.findIndex(u=>u.value===t);return l>=0?i.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const i=this.options.grid,a=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let u,d;const f=(p,_,b)=>{!b.width||!b.color||(a.save(),a.lineWidth=b.width,a.strokeStyle=b.color,a.setLineDash(b.borderDash||[]),a.lineDashOffset=b.borderDashOffset,a.beginPath(),a.moveTo(p.x,p.y),a.lineTo(_.x,_.y),a.stroke(),a.restore())};if(i.display)for(u=0,d=l.length;u<d;++u){const p=l[u];i.drawOnChartArea&&f({x:p.x1,y:p.y1},{x:p.x2,y:p.y2},p),i.drawTicks&&f({x:p.tx1,y:p.ty1},{x:p.tx2,y:p.ty2},{color:p.tickColor,width:p.tickWidth,borderDash:p.tickBorderDash,borderDashOffset:p.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:i,options:{border:a,grid:l}}=this,u=a.setContext(this.getContext()),d=a.display?u.width:0;if(!d)return;const f=l.setContext(this.getContext(0)).lineWidth,p=this._borderValue;let _,b,w,T;this.isHorizontal()?(_=nr(t,this.left,d)-d/2,b=nr(t,this.right,f)+f/2,w=T=p):(w=nr(t,this.top,d)-d/2,T=nr(t,this.bottom,f)+f/2,_=b=p),i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.beginPath(),i.moveTo(_,w),i.lineTo(b,T),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;const a=this.ctx,l=this._computeLabelArea();l&&Gm(a,l);const u=this.getLabelItems(t);for(const d of u){const f=d.options,p=d.font,_=d.label,b=d.textOffset;Ah(a,_,0,b,p,f)}l&&Ym(a)}drawTitle(){const{ctx:t,options:{position:i,title:a,reverse:l}}=this;if(!a.display)return;const u=Si(a.font),d=mn(a.padding),f=a.align;let p=u.lineHeight/2;i==="bottom"||i==="center"||Yt(i)?(p+=d.bottom,Xe(a.text)&&(p+=u.lineHeight*(a.text.length-1))):p+=d.top;const{titleX:_,titleY:b,maxWidth:w,rotation:T}=zA(this,p,i,f);Ah(t,a.text,0,0,u,{color:a.color,maxWidth:w,rotation:T,textAlign:jA(f,i,l),textBaseline:"middle",translation:[_,b]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,i=t.ticks&&t.ticks.z||0,a=Qt(t.grid&&t.grid.z,-1),l=Qt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Uh.prototype.draw?[{z:i,draw:u=>{this.draw(u)}}]:[{z:a,draw:u=>{this.drawBackground(),this.drawGrid(u),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:i,draw:u=>{this.drawLabels(u)}}]}getMatchingVisibleMetas(t){const i=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",l=[];let u,d;for(u=0,d=i.length;u<d;++u){const f=i[u];f[a]===this.id&&(!t||f.type===t)&&l.push(f)}return l}_resolveTickFontOptions(t){const i=this.options.ticks.setContext(this.getContext(t));return Si(i.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class lh{constructor(t,i,a){this.type=t,this.scope=i,this.override=a,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const i=Object.getPrototypeOf(t);let a;UA(i)&&(a=this.register(i));const l=this.items,u=t.id,d=this.scope+"."+u;if(!u)throw new Error("class does not have id: "+t);return u in l||(l[u]=t,PA(t,d,a),this.override&&Oe.override(t.id,t.overrides)),d}get(t){return this.items[t]}unregister(t){const i=this.items,a=t.id,l=this.scope;a in i&&delete i[a],l&&a in Oe[l]&&(delete Oe[l][a],this.override&&delete dr[a])}}function PA(n,t,i){const a=lu(Object.create(null),[i?Oe.get(i):{},Oe.get(t),n.defaults]);Oe.set(t,a),n.defaultRoutes&&BA(t,n.defaultRoutes),n.descriptors&&Oe.describe(t,n.descriptors)}function BA(n,t){Object.keys(t).forEach(i=>{const a=i.split("."),l=a.pop(),u=[n].concat(a).join("."),d=t[i].split("."),f=d.pop(),p=d.join(".");Oe.route(u,l,p,f)})}function UA(n){return"id"in n&&"defaults"in n}class HA{constructor(){this.controllers=new lh(Xb,"datasets",!0),this.elements=new lh(gu,"elements"),this.plugins=new lh(Object,"plugins"),this.scales=new lh(Uh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,a){[...i].forEach(l=>{const u=a||this._getRegistryForType(l);a||u.isForType(l)||u===this.plugins&&l.id?this._exec(t,u,l):Jt(l,d=>{const f=a||this._getRegistryForType(d);this._exec(t,f,d)})})}_exec(t,i,a){const l=Vm(t);he(a["before"+l],[],a),i[t](a),he(a["after"+l],[],a)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){const a=this._typedRegistries[i];if(a.isForType(t))return a}return this.plugins}_get(t,i,a){const l=i.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+a+".");return l}}var Dn=new HA;class IA{constructor(){this._init=void 0}notify(t,i,a,l){if(i==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const u=l?this._descriptors(t).filter(l):this._descriptors(t),d=this._notify(u,t,i,a);return i==="afterDestroy"&&(this._notify(u,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),d}_notify(t,i,a,l){l=l||{};for(const u of t){const d=u.plugin,f=d[a],p=[i,l,u.options];if(he(f,p,d)===!1&&l.cancelable)return!1}return!0}invalidate(){ii(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){const a=t&&t.config,l=Qt(a.options&&a.options.plugins,{}),u=qA(a);return l===!1&&!i?[]:VA(t,u,l,i)}_notifyStateChanges(t){const i=this._oldCache||[],a=this._cache,l=(u,d)=>u.filter(f=>!d.some(p=>f.plugin.id===p.plugin.id));this._notify(l(i,a),t,"stop"),this._notify(l(a,i),t,"start")}}function qA(n){const t={},i=[],a=Object.keys(Dn.plugins.items);for(let u=0;u<a.length;u++)i.push(Dn.getPlugin(a[u]));const l=n.plugins||[];for(let u=0;u<l.length;u++){const d=l[u];i.indexOf(d)===-1&&(i.push(d),t[d.id]=!0)}return{plugins:i,localIds:t}}function ZA(n,t){return!t&&n===!1?null:n===!0?{}:n}function VA(n,{plugins:t,localIds:i},a,l){const u=[],d=n.getContext();for(const f of t){const p=f.id,_=ZA(a[p],l);_!==null&&u.push({plugin:f,options:$A(n.config,{plugin:f,local:i[p]},_,d)})}return u}function $A(n,{plugin:t,local:i},a,l){const u=n.pluginScopeKeys(t),d=n.getOptionScopes(a,u);return i&&t.defaults&&d.push(t.defaults),n.createResolver(d,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function km(n,t){const i=Oe.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function GA(n,t){let i=n;return n==="_index_"?i=t:n==="_value_"&&(i=t==="x"?"y":"x"),i}function YA(n,t){return n===t?"_index_":"_value_"}function xy(n){if(n==="x"||n==="y"||n==="r")return n}function FA(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Mm(n,...t){if(xy(n))return n;for(const i of t){const a=i.axis||FA(i.position)||n.length>1&&xy(n[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Sy(n,t,i){if(i[t+"AxisID"]===n)return{axis:t}}function WA(n,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter(a=>a.xAxisID===n||a.yAxisID===n);if(i.length)return Sy(n,"x",i[0])||Sy(n,"y",i[0])}return{}}function KA(n,t){const i=dr[n.type]||{scales:{}},a=t.scales||{},l=km(n.type,t),u=Object.create(null);return Object.keys(a).forEach(d=>{const f=a[d];if(!Yt(f))return console.error(`Invalid scale configuration for scale: ${d}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${d}`);const p=Mm(d,f,WA(d,n),Oe.scales[f.type]),_=YA(p,l),b=i.scales||{};u[d]=Wl(Object.create(null),[{axis:p},f,b[p],b[_]])}),n.data.datasets.forEach(d=>{const f=d.type||n.type,p=d.indexAxis||km(f,t),b=(dr[f]||{}).scales||{};Object.keys(b).forEach(w=>{const T=GA(w,p),E=d[T+"AxisID"]||T;u[E]=u[E]||Object.create(null),Wl(u[E],[{axis:T},a[E],b[w]])})}),Object.keys(u).forEach(d=>{const f=u[d];Wl(f,[Oe.scales[f.type],Oe.scale])}),u}function n0(n){const t=n.options||(n.options={});t.plugins=Qt(t.plugins,{}),t.scales=KA(n,t)}function s0(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function XA(n){return n=n||{},n.data=s0(n.data),n0(n),n}const Ty=new Map,a0=new Set;function uh(n,t){let i=Ty.get(n);return i||(i=t(),Ty.set(n,i),a0.add(i)),i}const Ul=(n,t,i)=>{const a=uu(t,i);a!==void 0&&n.add(a)};class JA{constructor(t){this._config=XA(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=s0(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),n0(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return uh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return uh(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return uh(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){const i=t.id,a=this.type;return uh(`${a}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){const a=this._scopeCache;let l=a.get(t);return(!l||i)&&(l=new Map,a.set(t,l)),l}getOptionScopes(t,i,a){const{options:l,type:u}=this,d=this._cachedScopes(t,a),f=d.get(i);if(f)return f;const p=new Set;i.forEach(b=>{t&&(p.add(t),b.forEach(w=>Ul(p,t,w))),b.forEach(w=>Ul(p,l,w)),b.forEach(w=>Ul(p,dr[u]||{},w)),b.forEach(w=>Ul(p,Oe,w)),b.forEach(w=>Ul(p,Rm,w))});const _=Array.from(p);return _.length===0&&_.push(Object.create(null)),a0.has(i)&&d.set(i,_),_}chartOptionScopes(){const{options:t,type:i}=this;return[t,dr[i]||{},Oe.datasets[i]||{},{type:i},Oe,Rm]}resolveNamedOptions(t,i,a,l=[""]){const u={$shared:!0},{resolver:d,subPrefixes:f}=Ey(this._resolverCache,t,l);let p=d;if(tC(d,i)){u.$shared=!1,a=ua(a)?a():a;const _=this.createResolver(t,a,f);p=bo(d,a,_)}for(const _ of i)u[_]=p[_];return u}createResolver(t,i,a=[""],l){const{resolver:u}=Ey(this._resolverCache,t,a);return Yt(i)?bo(u,i,void 0,l):u}}function Ey(n,t,i){let a=n.get(t);a||(a=new Map,n.set(t,a));const l=i.join();let u=a.get(l);return u||(u={resolver:Wm(t,i),subPrefixes:i.filter(f=>!f.toLowerCase().includes("hover"))},a.set(l,u)),u}const QA=n=>Yt(n)&&Object.getOwnPropertyNames(n).some(t=>ua(n[t]));function tC(n,t){const{isScriptable:i,isIndexable:a}=Zb(n);for(const l of t){const u=i(l),d=a(l),f=(d||u)&&n[l];if(u&&(ua(f)||QA(f))||d&&Xe(f))return!0}return!1}var eC="4.5.1";const iC=["top","bottom","left","right","chartArea"];function Oy(n,t){return n==="top"||n==="bottom"||iC.indexOf(n)===-1&&t==="x"}function Ay(n,t){return function(i,a){return i[n]===a[n]?i[t]-a[t]:i[n]-a[n]}}function Cy(n){const t=n.chart,i=t.options.animation;t.notifyPlugins("afterRender"),he(i&&i.onComplete,[n],t)}function nC(n){const t=n.chart,i=t.options.animation;he(i&&i.onProgress,[n],t)}function r0(n){return Jm()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const gh={},Ry=n=>{const t=r0(n);return Object.values(gh).filter(i=>i.canvas===t).pop()};function sC(n,t,i){const a=Object.keys(n);for(const l of a){const u=+l;if(u>=t){const d=n[l];delete n[l],(i>0||u>t)&&(n[u+i]=d)}}}function aC(n,t,i,a){return!i||n.type==="mouseout"?null:a?t:n}let Hh=class{static defaults=Oe;static instances=gh;static overrides=dr;static registry=Dn;static version=eC;static getChart=Ry;static register(...t){Dn.add(...t),Ly()}static unregister(...t){Dn.remove(...t),Ly()}constructor(t,i){const a=this.config=new JA(i),l=r0(t),u=Ry(l);if(u)throw new Error("Canvas is already in use. Chart with ID '"+u.id+"' must be destroyed before the canvas with ID '"+u.canvas.id+"' can be reused.");const d=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||SA(l)),this.platform.updateConfig(a);const f=this.platform.acquireContext(l,d.aspectRatio),p=f&&f.canvas,_=p&&p.height,b=p&&p.width;if(this.id=LO(),this.ctx=f,this.canvas=p,this.width=b,this.height=_,this._options=d,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new IA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=YO(w=>this.update(w),d.resizeDelay||0),this._dataChanges=[],gh[this.id]=this,!f||!p){console.error("Failed to create chart: can't acquire context from the given item");return}cs.listen(this,"complete",Cy),cs.listen(this,"progress",nC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:a,height:l,_aspectRatio:u}=this;return ii(t)?i&&u?u:l?a/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Dn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ty(this.canvas,this.ctx),this}stop(){return cs.stop(this),this}resize(t,i){cs.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const a=this.options,l=this.canvas,u=a.maintainAspectRatio&&this.aspectRatio,d=this.platform.getMaximumSize(l,t,i,u),f=a.devicePixelRatio||this.platform.getDevicePixelRatio(),p=this.width?"resize":"attach";this.width=d.width,this.height=d.height,this._aspectRatio=this.aspectRatio,sy(this,f,!0)&&(this.notifyPlugins("resize",{size:d}),he(a.onResize,[this,d],this),this.attached&&this._doResize(p)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};Jt(i,(a,l)=>{a.id=l})}buildOrUpdateScales(){const t=this.options,i=t.scales,a=this.scales,l=Object.keys(a).reduce((d,f)=>(d[f]=!1,d),{});let u=[];i&&(u=u.concat(Object.keys(i).map(d=>{const f=i[d],p=Mm(d,f),_=p==="r",b=p==="x";return{options:f,dposition:_?"chartArea":b?"bottom":"left",dtype:_?"radialLinear":b?"category":"linear"}}))),Jt(u,d=>{const f=d.options,p=f.id,_=Mm(p,f),b=Qt(f.type,d.dtype);(f.position===void 0||Oy(f.position,_)!==Oy(d.dposition))&&(f.position=d.dposition),l[p]=!0;let w=null;if(p in a&&a[p].type===b)w=a[p];else{const T=Dn.getScale(b);w=new T({id:p,type:b,ctx:this.ctx,chart:this}),a[w.id]=w}w.init(f,t)}),Jt(l,(d,f)=>{d||delete a[f]}),Jt(a,d=>{oa.configure(this,d,d.options),oa.addBox(this,d)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,a=t.length;if(t.sort((l,u)=>l.index-u.index),a>i){for(let l=i;l<a;++l)this._destroyDatasetMeta(l);t.splice(i,a-i)}this._sortedMetasets=t.slice(0).sort(Ay("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((a,l)=>{i.filter(u=>u===a._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let a,l;for(this._removeUnreferencedMetasets(),a=0,l=i.length;a<l;a++){const u=i[a];let d=this.getDatasetMeta(a);const f=u.type||this.config.type;if(d.type&&d.type!==f&&(this._destroyDatasetMeta(a),d=this.getDatasetMeta(a)),d.type=f,d.indexAxis=u.indexAxis||km(f,this.options),d.order=u.order||0,d.index=a,d.label=""+u.label,d.visible=this.isDatasetVisible(a),d.controller)d.controller.updateIndex(a),d.controller.linkScales();else{const p=Dn.getController(f),{datasetElementType:_,dataElementType:b}=Oe.datasets[f];Object.assign(p,{dataElementType:Dn.getElement(b),datasetElementType:_&&Dn.getElement(_)}),d.controller=new p(this,a),t.push(d.controller)}}return this._updateMetasets(),t}_resetElements(){Jt(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const a=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const u=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let d=0;for(let _=0,b=this.data.datasets.length;_<b;_++){const{controller:w}=this.getDatasetMeta(_),T=!l&&u.indexOf(w)===-1;w.buildOrUpdateElements(T),d=Math.max(+w.getMaxOverflow(),d)}d=this._minPadding=a.layout.autoPadding?d:0,this._updateLayout(d),l||Jt(u,_=>{_.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ay("z","_idx"));const{_active:f,_lastEvent:p}=this;p?this._eventHandler(p,!0):f.length&&this._updateHoverStyles(f,f,!0),this.render()}_updateScales(){Jt(this.scales,t=>{oa.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),a=new Set(t.events);(!$v(i,a)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:a,start:l,count:u}of i){const d=a==="_removeElements"?-u:u;sC(t,l,d)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,a=u=>new Set(t.filter(d=>d[0]===u).map((d,f)=>f+","+d.splice(1).join(","))),l=a(0);for(let u=1;u<i;u++)if(!$v(l,a(u)))return;return Array.from(l).map(u=>u.split(",")).map(u=>({method:u[1],start:+u[2],count:+u[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;oa.update(this,this.width,this.height,t);const i=this.chartArea,a=i.width<=0||i.height<=0;this._layers=[],Jt(this.boxes,l=>{a&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,u)=>{l._idx=u}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,a=this.data.datasets.length;i<a;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,a=this.data.datasets.length;i<a;++i)this._updateDataset(i,ua(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const a=this.getDatasetMeta(t),l={meta:a,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(a.controller._update(i),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(cs.has(this)?this.attached&&!cs.running(this)&&cs.start(this):(this.draw(),Cy({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:a,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,a=[];let l,u;for(l=0,u=i.length;l<u;++l){const d=i[l];(!t||d.visible)&&a.push(d)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,a={meta:t,index:t.index,cancelable:!0},l=N1(this,t);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(l&&Gm(i,l),t.controller.draw(),l&&Ym(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return qb(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,a,l){const u=iA.modes[i];return typeof u=="function"?u(this,t,a,l):[]}getDatasetMeta(t){const i=this.data.datasets[t],a=this._metasets;let l=a.filter(u=>u&&u._dataset===i).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},a.push(l)),l}getContext(){return this.$context||(this.$context=To(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const a=this.getDatasetMeta(t);return typeof a.hidden=="boolean"?!a.hidden:!i.hidden}setDatasetVisibility(t,i){const a=this.getDatasetMeta(t);a.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,a){const l=a?"show":"hide",u=this.getDatasetMeta(t),d=u.controller._resolveAnimations(void 0,l);Sh(i)?(u.data[i].hidden=!a,this.update()):(this.setDatasetVisibility(t,a),d.update(u,{visible:a}),this.update(f=>f.datasetIndex===t?l:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),cs.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ty(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete gh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,a=(u,d)=>{i.addEventListener(this,u,d),t[u]=d},l=(u,d,f)=>{u.offsetX=d,u.offsetY=f,this._eventHandler(u)};Jt(this.options.events,u=>a(u,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,a=(p,_)=>{i.addEventListener(this,p,_),t[p]=_},l=(p,_)=>{t[p]&&(i.removeEventListener(this,p,_),delete t[p])},u=(p,_)=>{this.canvas&&this.resize(p,_)};let d;const f=()=>{l("attach",f),this.attached=!0,this.resize(),a("resize",u),a("detach",d)};d=()=>{this.attached=!1,l("resize",u),this._stop(),this._resize(0,0),a("attach",f)},i.isAttached(this.canvas)?f():d()}unbindEvents(){Jt(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},Jt(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,a){const l=a?"set":"remove";let u,d,f,p;for(i==="dataset"&&(u=this.getDatasetMeta(t[0].datasetIndex),u.controller["_"+l+"DatasetHoverStyle"]()),f=0,p=t.length;f<p;++f){d=t[f];const _=d&&this.getDatasetMeta(d.datasetIndex).controller;_&&_[l+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],a=t.map(({datasetIndex:u,index:d})=>{const f=this.getDatasetMeta(u);if(!f)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:f.data[d],index:d}});!wh(a,i)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,i))}notifyPlugins(t,i,a){return this._plugins.notify(this,t,i,a)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,a){const l=this.options.hover,u=(p,_)=>p.filter(b=>!_.some(w=>b.datasetIndex===w.datasetIndex&&b.index===w.index)),d=u(i,t),f=a?t:u(t,i);d.length&&this.updateHoverStyle(d,l.mode,!1),f.length&&l.mode&&this.updateHoverStyle(f,l.mode,!0)}_eventHandler(t,i){const a={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},l=d=>(d.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",a,l)===!1)return;const u=this._handleEvent(t,i,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,l),(u||a.changed)&&this.render(),this}_handleEvent(t,i,a){const{_active:l=[],options:u}=this,d=i,f=this._getActiveElements(t,l,a,d),p=zO(t),_=aC(t,this._lastEvent,a,p);a&&(this._lastEvent=null,he(u.onHover,[t,f,this],this),p&&he(u.onClick,[t,f,this],this));const b=!wh(f,l);return(b||i)&&(this._active=f,this._updateHoverStyles(f,l,i)),this._lastEvent=_,b}_getActiveElements(t,i,a,l){if(t.type==="mouseout")return[];if(!a)return i;const u=this.options.hover;return this.getElementsAtEventForMode(t,u.mode,u,l)}};function Ly(){return Jt(Hh.instances,n=>n._plugins.invalidate())}function rC(n,t,i){const{startAngle:a,x:l,y:u,outerRadius:d,innerRadius:f,options:p}=t,{borderWidth:_,borderJoinStyle:b}=p,w=Math.min(_/d,Nn(a-i));if(n.beginPath(),n.arc(l,u,d-_/2,a+w/2,i-w/2),f>0){const T=Math.min(_/f,Nn(a-i));n.arc(l,u,f+_/2,i-T/2,a+T/2,!0)}else{const T=Math.min(_/2,d*Nn(a-i));if(b==="round")n.arc(l,u,T,i-de/2,a+de/2,!0);else if(b==="bevel"){const E=2*T*T,k=-E*Math.cos(i+de/2)+l,R=-E*Math.sin(i+de/2)+u,M=E*Math.cos(a+de/2)+l,D=E*Math.sin(a+de/2)+u;n.lineTo(k,R),n.lineTo(M,D)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function oC(n,t,i){const{startAngle:a,pixelMargin:l,x:u,y:d,outerRadius:f,innerRadius:p}=t;let _=l/f;n.beginPath(),n.arc(u,d,f,a-_,i+_),p>l?(_=l/p,n.arc(u,d,p,i+_,a-_,!0)):n.arc(u,d,l,i+Ue,a-Ue),n.closePath(),n.clip()}function lC(n){return Fm(n,["outerStart","outerEnd","innerStart","innerEnd"])}function uC(n,t,i,a){const l=lC(n.options.borderRadius),u=(i-t)/2,d=Math.min(u,a*t/2),f=p=>{const _=(i-Math.min(u,p))*a/2;return Fi(p,0,Math.min(u,_))};return{outerStart:f(l.outerStart),outerEnd:f(l.outerEnd),innerStart:Fi(l.innerStart,0,d),innerEnd:Fi(l.innerEnd,0,d)}}function fo(n,t,i,a){return{x:i+n*Math.cos(t),y:a+n*Math.sin(t)}}function Lh(n,t,i,a,l,u){const{x:d,y:f,startAngle:p,pixelMargin:_,innerRadius:b}=t,w=Math.max(t.outerRadius+a+i-_,0),T=b>0?b+a+i+_:0;let E=0;const k=l-p;if(a){const Lt=b>0?b-a:0,Z=w>0?w-a:0,nt=(Lt+Z)/2,it=nt!==0?k*nt/(nt+a):k;E=(k-it)/2}const R=Math.max(.001,k*w-i/de)/w,M=(k-R)/2,D=p+M+E,P=l-M-E,{outerStart:U,outerEnd:W,innerStart:et,innerEnd:at}=uC(t,T,w,P-D),st=w-U,dt=w-W,yt=D+U/st,Tt=P-W/dt,bt=T+et,gt=T+at,se=D+et/bt,qt=P-at/gt;if(n.beginPath(),u){const Lt=(yt+Tt)/2;if(n.arc(d,f,w,yt,Lt),n.arc(d,f,w,Lt,Tt),W>0){const At=fo(dt,Tt,d,f);n.arc(At.x,At.y,W,Tt,P+Ue)}const Z=fo(gt,P,d,f);if(n.lineTo(Z.x,Z.y),at>0){const At=fo(gt,qt,d,f);n.arc(At.x,At.y,at,P+Ue,qt+Math.PI)}const nt=(P-at/T+(D+et/T))/2;if(n.arc(d,f,T,P-at/T,nt,!0),n.arc(d,f,T,nt,D+et/T,!0),et>0){const At=fo(bt,se,d,f);n.arc(At.x,At.y,et,se+Math.PI,D-Ue)}const it=fo(st,D,d,f);if(n.lineTo(it.x,it.y),U>0){const At=fo(st,yt,d,f);n.arc(At.x,At.y,U,D-Ue,yt)}}else{n.moveTo(d,f);const Lt=Math.cos(yt)*w+d,Z=Math.sin(yt)*w+f;n.lineTo(Lt,Z);const nt=Math.cos(Tt)*w+d,it=Math.sin(Tt)*w+f;n.lineTo(nt,it)}n.closePath()}function cC(n,t,i,a,l){const{fullCircles:u,startAngle:d,circumference:f}=t;let p=t.endAngle;if(u){Lh(n,t,i,a,p,l);for(let _=0;_<u;++_)n.fill();isNaN(f)||(p=d+(f%Ne||Ne))}return Lh(n,t,i,a,p,l),n.fill(),p}function hC(n,t,i,a,l){const{fullCircles:u,startAngle:d,circumference:f,options:p}=t,{borderWidth:_,borderJoinStyle:b,borderDash:w,borderDashOffset:T,borderRadius:E}=p,k=p.borderAlign==="inner";if(!_)return;n.setLineDash(w||[]),n.lineDashOffset=T,k?(n.lineWidth=_*2,n.lineJoin=b||"round"):(n.lineWidth=_,n.lineJoin=b||"bevel");let R=t.endAngle;if(u){Lh(n,t,i,a,R,l);for(let M=0;M<u;++M)n.stroke();isNaN(f)||(R=d+(f%Ne||Ne))}k&&oC(n,t,R),p.selfJoin&&R-d>=de&&E===0&&b!=="miter"&&rC(n,t,R),u||(Lh(n,t,i,a,R,l),n.stroke())}class dC extends gu{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,a){const l=this.getProps(["x","y"],a),{angle:u,distance:d}=jb(l,{x:t,y:i}),{startAngle:f,endAngle:p,innerRadius:_,outerRadius:b,circumference:w}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),T=(this.options.spacing+this.options.borderWidth)/2,E=Qt(w,p-f),k=Oh(u,f,p)&&f!==p,R=E>=Ne||k,M=Zl(d,_+T,b+T);return R&&M}getCenterPoint(t){const{x:i,y:a,startAngle:l,endAngle:u,innerRadius:d,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:p,spacing:_}=this.options,b=(l+u)/2,w=(d+f+_+p)/2;return{x:i+Math.cos(b)*w,y:a+Math.sin(b)*w}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:a}=this,l=(i.offset||0)/4,u=(i.spacing||0)/2,d=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=a>Ne?Math.floor(a/Ne):0,a===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const f=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(f)*l,Math.sin(f)*l);const p=1-Math.sin(Math.min(de,a||0)),_=l*p;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,cC(t,this,_,u,d),hC(t,this,_,u,d),t.restore()}}const ky=(n,t)=>{let{boxHeight:i=t,boxWidth:a=t}=n;return n.usePointStyle&&(i=Math.min(i,t),a=n.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:i,itemHeight:Math.max(t,i)}},fC=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class My extends gu{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,a){this.maxWidth=t,this.maxHeight=i,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let i=he(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(a=>t.filter(a,this.chart.data))),t.sort&&(i=i.sort((a,l)=>t.sort(a,l,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:t,ctx:i}=this;if(!t.display){this.width=this.height=0;return}const a=t.labels,l=Si(a.font),u=l.size,d=this._computeTitleHeight(),{boxWidth:f,itemHeight:p}=ky(a,u);let _,b;i.font=l.string,this.isHorizontal()?(_=this.maxWidth,b=this._fitRows(d,u,f,p)+10):(b=this.maxHeight,_=this._fitCols(d,l,f,p)+10),this.width=Math.min(_,t.maxWidth||this.maxWidth),this.height=Math.min(b,t.maxHeight||this.maxHeight)}_fitRows(t,i,a,l){const{ctx:u,maxWidth:d,options:{labels:{padding:f}}}=this,p=this.legendHitBoxes=[],_=this.lineWidths=[0],b=l+f;let w=t;u.textAlign="left",u.textBaseline="middle";let T=-1,E=-b;return this.legendItems.forEach((k,R)=>{const M=a+i/2+u.measureText(k.text).width;(R===0||_[_.length-1]+M+2*f>d)&&(w+=b,_[_.length-(R>0?0:1)]=0,E+=b,T++),p[R]={left:0,top:E,row:T,width:M,height:l},_[_.length-1]+=M+f}),w}_fitCols(t,i,a,l){const{ctx:u,maxHeight:d,options:{labels:{padding:f}}}=this,p=this.legendHitBoxes=[],_=this.columnSizes=[],b=d-t;let w=f,T=0,E=0,k=0,R=0;return this.legendItems.forEach((M,D)=>{const{itemWidth:P,itemHeight:U}=mC(a,i,u,M,l);D>0&&E+U+2*f>b&&(w+=T+f,_.push({width:T,height:E}),k+=T+f,R++,T=E=0),p[D]={left:k,top:E,col:R,width:P,height:U},T=Math.max(T,P),E+=U+f}),w+=T,_.push({width:T,height:E}),w}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:a,labels:{padding:l},rtl:u}}=this,d=yo(u,this.left,this.width);if(this.isHorizontal()){let f=0,p=Ni(a,this.left+l,this.right-this.lineWidths[f]);for(const _ of i)f!==_.row&&(f=_.row,p=Ni(a,this.left+l,this.right-this.lineWidths[f])),_.top+=this.top+t+l,_.left=d.leftForLtr(d.x(p),_.width),p+=_.width+l}else{let f=0,p=Ni(a,this.top+t+l,this.bottom-this.columnSizes[f].height);for(const _ of i)_.col!==f&&(f=_.col,p=Ni(a,this.top+t+l,this.bottom-this.columnSizes[f].height)),_.top=p,_.left+=this.left+l,_.left=d.leftForLtr(d.x(_.left),_.width),p+=_.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Gm(t,this),this._draw(),Ym(t)}}_draw(){const{options:t,columnSizes:i,lineWidths:a,ctx:l}=this,{align:u,labels:d}=t,f=Oe.color,p=yo(t.rtl,this.left,this.width),_=Si(d.font),{padding:b}=d,w=_.size,T=w/2;let E;this.drawTitle(),l.textAlign=p.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=_.string;const{boxWidth:k,boxHeight:R,itemHeight:M}=ky(d,w),D=function(at,st,dt){if(isNaN(k)||k<=0||isNaN(R)||R<0)return;l.save();const yt=Qt(dt.lineWidth,1);if(l.fillStyle=Qt(dt.fillStyle,f),l.lineCap=Qt(dt.lineCap,"butt"),l.lineDashOffset=Qt(dt.lineDashOffset,0),l.lineJoin=Qt(dt.lineJoin,"miter"),l.lineWidth=yt,l.strokeStyle=Qt(dt.strokeStyle,f),l.setLineDash(Qt(dt.lineDash,[])),d.usePointStyle){const Tt={radius:R*Math.SQRT2/2,pointStyle:dt.pointStyle,rotation:dt.rotation,borderWidth:yt},bt=p.xPlus(at,k/2),gt=st+T;Ib(l,Tt,bt,gt,d.pointStyleWidth&&k)}else{const Tt=st+Math.max((w-R)/2,0),bt=p.leftForLtr(at,k),gt=Jl(dt.borderRadius);l.beginPath(),Object.values(gt).some(se=>se!==0)?Lm(l,{x:bt,y:Tt,w:k,h:R,radius:gt}):l.rect(bt,Tt,k,R),l.fill(),yt!==0&&l.stroke()}l.restore()},P=function(at,st,dt){Ah(l,dt.text,at,st+M/2,_,{strikethrough:dt.hidden,textAlign:p.textAlign(dt.textAlign)})},U=this.isHorizontal(),W=this._computeTitleHeight();U?E={x:Ni(u,this.left+b,this.right-a[0]),y:this.top+b+W,line:0}:E={x:this.left+b,y:Ni(u,this.top+W+b,this.bottom-i[0].height),line:0},Yb(this.ctx,t.textDirection);const et=M+b;this.legendItems.forEach((at,st)=>{l.strokeStyle=at.fontColor,l.fillStyle=at.fontColor;const dt=l.measureText(at.text).width,yt=p.textAlign(at.textAlign||(at.textAlign=d.textAlign)),Tt=k+T+dt;let bt=E.x,gt=E.y;p.setWidth(this.width),U?st>0&&bt+Tt+b>this.right&&(gt=E.y+=et,E.line++,bt=E.x=Ni(u,this.left+b,this.right-a[E.line])):st>0&&gt+et>this.bottom&&(bt=E.x=bt+i[E.line].width+b,E.line++,gt=E.y=Ni(u,this.top+W+b,this.bottom-i[E.line].height));const se=p.x(bt);if(D(se,gt,at),bt=FO(yt,bt+k+T,U?bt+Tt:this.right,t.rtl),P(p.x(bt),gt,at),U)E.x+=Tt+b;else if(typeof at.text!="string"){const qt=_.lineHeight;E.y+=o0(at,qt)+b}else E.y+=et}),Fb(this.ctx,t.textDirection)}drawTitle(){const t=this.options,i=t.title,a=Si(i.font),l=mn(i.padding);if(!i.display)return;const u=yo(t.rtl,this.left,this.width),d=this.ctx,f=i.position,p=a.size/2,_=l.top+p;let b,w=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),b=this.top+_,w=Ni(t.align,w,this.right-T);else{const k=this.columnSizes.reduce((R,M)=>Math.max(R,M.height),0);b=_+Ni(t.align,this.top,this.bottom-k-t.labels.padding-this._computeTitleHeight())}const E=Ni(f,w,w+T);d.textAlign=u.textAlign(Ub(f)),d.textBaseline="middle",d.strokeStyle=i.color,d.fillStyle=i.color,d.font=a.string,Ah(d,i.text,E,b,a)}_computeTitleHeight(){const t=this.options.title,i=Si(t.font),a=mn(t.padding);return t.display?i.lineHeight+a.height:0}_getLegendItemAt(t,i){let a,l,u;if(Zl(t,this.left,this.right)&&Zl(i,this.top,this.bottom)){for(u=this.legendHitBoxes,a=0;a<u.length;++a)if(l=u[a],Zl(t,l.left,l.left+l.width)&&Zl(i,l.top,l.top+l.height))return this.legendItems[a]}return null}handleEvent(t){const i=this.options;if(!_C(t.type,i))return;const a=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,u=fC(l,a);l&&!u&&he(i.onLeave,[t,l,this],this),this._hoveredItem=a,a&&!u&&he(i.onHover,[t,a,this],this)}else a&&he(i.onClick,[t,a,this],this)}}function mC(n,t,i,a,l){const u=pC(a,n,t,i),d=gC(l,a,t.lineHeight);return{itemWidth:u,itemHeight:d}}function pC(n,t,i,a){let l=n.text;return l&&typeof l!="string"&&(l=l.reduce((u,d)=>u.length>d.length?u:d)),t+i.size/2+a.measureText(l).width}function gC(n,t,i){let a=n;return typeof t.text!="string"&&(a=o0(t,i)),a}function o0(n,t){const i=n.text?n.text.length:0;return t*i}function _C(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var vC={id:"legend",_element:My,start(n,t,i){const a=n.legend=new My({ctx:n.ctx,options:i,chart:n});oa.configure(n,a,i),oa.addBox(n,a)},stop(n){oa.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,i){const a=n.legend;oa.configure(n,a,i),a.options=i},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,i){const a=t.datasetIndex,l=i.chart;l.isDatasetVisible(a)?(l.hide(a),t.hidden=!0):(l.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:i,pointStyle:a,textAlign:l,color:u,useBorderRadius:d,borderRadius:f}}=n.legend.options;return n._getSortedDatasetMetas().map(p=>{const _=p.controller.getStyle(i?0:void 0),b=mn(_.borderWidth);return{text:t[p.index].label,fillStyle:_.backgroundColor,fontColor:u,hidden:!p.visible,lineCap:_.borderCapStyle,lineDash:_.borderDash,lineDashOffset:_.borderDashOffset,lineJoin:_.borderJoinStyle,lineWidth:(b.width+b.height)/4,strokeStyle:_.borderColor,pointStyle:a||_.pointStyle,rotation:_.rotation,textAlign:l||_.textAlign,borderRadius:d&&(f||_.borderRadius),datasetIndex:p.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const $l={average(n){if(!n.length)return!1;let t,i,a=new Set,l=0,u=0;for(t=0,i=n.length;t<i;++t){const f=n[t].element;if(f&&f.hasValue()){const p=f.tooltipPosition();a.add(p.x),l+=p.y,++u}}return u===0||a.size===0?!1:{x:[...a].reduce((f,p)=>f+p)/a.size,y:l/u}},nearest(n,t){if(!n.length)return!1;let i=t.x,a=t.y,l=Number.POSITIVE_INFINITY,u,d,f;for(u=0,d=n.length;u<d;++u){const p=n[u].element;if(p&&p.hasValue()){const _=p.getCenterPoint(),b=IO(t,_);b<l&&(l=b,f=p)}}if(f){const p=f.tooltipPosition();i=p.x,a=p.y}return{x:i,y:a}}};function Mn(n,t){return t&&(Xe(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function hs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function yC(n,t){const{element:i,datasetIndex:a,index:l}=t,u=n.getDatasetMeta(a).controller,{label:d,value:f}=u.getLabelAndValue(l);return{chart:n,label:d,parsed:u.getParsed(l),raw:n.data.datasets[a].data[l],formattedValue:f,dataset:u.getDataset(),dataIndex:l,datasetIndex:a,element:i}}function Dy(n,t){const i=n.chart.ctx,{body:a,footer:l,title:u}=n,{boxWidth:d,boxHeight:f}=t,p=Si(t.bodyFont),_=Si(t.titleFont),b=Si(t.footerFont),w=u.length,T=l.length,E=a.length,k=mn(t.padding);let R=k.height,M=0,D=a.reduce((W,et)=>W+et.before.length+et.lines.length+et.after.length,0);if(D+=n.beforeBody.length+n.afterBody.length,w&&(R+=w*_.lineHeight+(w-1)*t.titleSpacing+t.titleMarginBottom),D){const W=t.displayColors?Math.max(f,p.lineHeight):p.lineHeight;R+=E*W+(D-E)*p.lineHeight+(D-1)*t.bodySpacing}T&&(R+=t.footerMarginTop+T*b.lineHeight+(T-1)*t.footerSpacing);let P=0;const U=function(W){M=Math.max(M,i.measureText(W).width+P)};return i.save(),i.font=_.string,Jt(n.title,U),i.font=p.string,Jt(n.beforeBody.concat(n.afterBody),U),P=t.displayColors?d+2+t.boxPadding:0,Jt(a,W=>{Jt(W.before,U),Jt(W.lines,U),Jt(W.after,U)}),P=0,i.font=b.string,Jt(n.footer,U),i.restore(),M+=k.width,{width:M,height:R}}function bC(n,t){const{y:i,height:a}=t;return i<a/2?"top":i>n.height-a/2?"bottom":"center"}function wC(n,t,i,a){const{x:l,width:u}=a,d=i.caretSize+i.caretPadding;if(n==="left"&&l+u+d>t.width||n==="right"&&l-u-d<0)return!0}function xC(n,t,i,a){const{x:l,width:u}=i,{width:d,chartArea:{left:f,right:p}}=n;let _="center";return a==="center"?_=l<=(f+p)/2?"left":"right":l<=u/2?_="left":l>=d-u/2&&(_="right"),wC(_,n,t,i)&&(_="center"),_}function Ny(n,t,i){const a=i.yAlign||t.yAlign||bC(n,i);return{xAlign:i.xAlign||t.xAlign||xC(n,t,i,a),yAlign:a}}function SC(n,t){let{x:i,width:a}=n;return t==="right"?i-=a:t==="center"&&(i-=a/2),i}function TC(n,t,i){let{y:a,height:l}=n;return t==="top"?a+=i:t==="bottom"?a-=l+i:a-=l/2,a}function jy(n,t,i,a){const{caretSize:l,caretPadding:u,cornerRadius:d}=n,{xAlign:f,yAlign:p}=i,_=l+u,{topLeft:b,topRight:w,bottomLeft:T,bottomRight:E}=Jl(d);let k=SC(t,f);const R=TC(t,p,_);return p==="center"?f==="left"?k+=_:f==="right"&&(k-=_):f==="left"?k-=Math.max(b,T)+l:f==="right"&&(k+=Math.max(w,E)+l),{x:Fi(k,0,a.width-t.width),y:Fi(R,0,a.height-t.height)}}function ch(n,t,i){const a=mn(i.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-a.right:n.x+a.left}function zy(n){return Mn([],hs(n))}function EC(n,t,i){return To(n,{tooltip:t,tooltipItems:i,type:"tooltip"})}function Py(n,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?n.override(i):n}const l0={beforeTitle:us,title(n){if(n.length>0){const t=n[0],i=t.chart.data.labels,a=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return i[t.dataIndex]}return""},afterTitle:us,beforeBody:us,beforeLabel:us,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const i=n.formattedValue;return ii(i)||(t+=i),t},labelColor(n){const i=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const i=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:us,afterBody:us,beforeFooter:us,footer:us,afterFooter:us};function bi(n,t,i,a){const l=n[t].call(i,a);return typeof l>"u"?l0[t].call(i,a):l}class By extends gu{static positioners=$l;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,a=this.options.setContext(this.getContext()),l=a.enabled&&i.options.animation&&a.animations,u=new Wb(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(u)),u}getContext(){return this.$context||(this.$context=EC(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:a}=i,l=bi(a,"beforeTitle",this,t),u=bi(a,"title",this,t),d=bi(a,"afterTitle",this,t);let f=[];return f=Mn(f,hs(l)),f=Mn(f,hs(u)),f=Mn(f,hs(d)),f}getBeforeBody(t,i){return zy(bi(i.callbacks,"beforeBody",this,t))}getBody(t,i){const{callbacks:a}=i,l=[];return Jt(t,u=>{const d={before:[],lines:[],after:[]},f=Py(a,u);Mn(d.before,hs(bi(f,"beforeLabel",this,u))),Mn(d.lines,bi(f,"label",this,u)),Mn(d.after,hs(bi(f,"afterLabel",this,u))),l.push(d)}),l}getAfterBody(t,i){return zy(bi(i.callbacks,"afterBody",this,t))}getFooter(t,i){const{callbacks:a}=i,l=bi(a,"beforeFooter",this,t),u=bi(a,"footer",this,t),d=bi(a,"afterFooter",this,t);let f=[];return f=Mn(f,hs(l)),f=Mn(f,hs(u)),f=Mn(f,hs(d)),f}_createItems(t){const i=this._active,a=this.chart.data,l=[],u=[],d=[];let f=[],p,_;for(p=0,_=i.length;p<_;++p)f.push(yC(this.chart,i[p]));return t.filter&&(f=f.filter((b,w,T)=>t.filter(b,w,T,a))),t.itemSort&&(f=f.sort((b,w)=>t.itemSort(b,w,a))),Jt(f,b=>{const w=Py(t.callbacks,b);l.push(bi(w,"labelColor",this,b)),u.push(bi(w,"labelPointStyle",this,b)),d.push(bi(w,"labelTextColor",this,b))}),this.labelColors=l,this.labelPointStyles=u,this.labelTextColors=d,this.dataPoints=f,f}update(t,i){const a=this.options.setContext(this.getContext()),l=this._active;let u,d=[];if(!l.length)this.opacity!==0&&(u={opacity:0});else{const f=$l[a.position].call(this,l,this._eventPosition);d=this._createItems(a),this.title=this.getTitle(d,a),this.beforeBody=this.getBeforeBody(d,a),this.body=this.getBody(d,a),this.afterBody=this.getAfterBody(d,a),this.footer=this.getFooter(d,a);const p=this._size=Dy(this,a),_=Object.assign({},f,p),b=Ny(this.chart,a,_),w=jy(a,_,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,u={opacity:1,x:w.x,y:w.y,width:p.width,height:p.height,caretX:f.x,caretY:f.y}}this._tooltipItems=d,this.$context=void 0,u&&this._resolveAnimations().update(this,u),t&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,a,l){const u=this.getCaretPosition(t,a,l);i.lineTo(u.x1,u.y1),i.lineTo(u.x2,u.y2),i.lineTo(u.x3,u.y3)}getCaretPosition(t,i,a){const{xAlign:l,yAlign:u}=this,{caretSize:d,cornerRadius:f}=a,{topLeft:p,topRight:_,bottomLeft:b,bottomRight:w}=Jl(f),{x:T,y:E}=t,{width:k,height:R}=i;let M,D,P,U,W,et;return u==="center"?(W=E+R/2,l==="left"?(M=T,D=M-d,U=W+d,et=W-d):(M=T+k,D=M+d,U=W-d,et=W+d),P=M):(l==="left"?D=T+Math.max(p,b)+d:l==="right"?D=T+k-Math.max(_,w)-d:D=this.caretX,u==="top"?(U=E,W=U-d,M=D-d,P=D+d):(U=E+R,W=U+d,M=D+d,P=D-d),et=U),{x1:M,x2:D,x3:P,y1:U,y2:W,y3:et}}drawTitle(t,i,a){const l=this.title,u=l.length;let d,f,p;if(u){const _=yo(a.rtl,this.x,this.width);for(t.x=ch(this,a.titleAlign,a),i.textAlign=_.textAlign(a.titleAlign),i.textBaseline="middle",d=Si(a.titleFont),f=a.titleSpacing,i.fillStyle=a.titleColor,i.font=d.string,p=0;p<u;++p)i.fillText(l[p],_.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+f,p+1===u&&(t.y+=a.titleMarginBottom-f)}}_drawColorBox(t,i,a,l,u){const d=this.labelColors[a],f=this.labelPointStyles[a],{boxHeight:p,boxWidth:_}=u,b=Si(u.bodyFont),w=ch(this,"left",u),T=l.x(w),E=p<b.lineHeight?(b.lineHeight-p)/2:0,k=i.y+E;if(u.usePointStyle){const R={radius:Math.min(_,p)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},M=l.leftForLtr(T,_)+_/2,D=k+p/2;t.strokeStyle=u.multiKeyBackground,t.fillStyle=u.multiKeyBackground,ey(t,R,M,D),t.strokeStyle=d.borderColor,t.fillStyle=d.backgroundColor,ey(t,R,M,D)}else{t.lineWidth=Yt(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,t.strokeStyle=d.borderColor,t.setLineDash(d.borderDash||[]),t.lineDashOffset=d.borderDashOffset||0;const R=l.leftForLtr(T,_),M=l.leftForLtr(l.xPlus(T,1),_-2),D=Jl(d.borderRadius);Object.values(D).some(P=>P!==0)?(t.beginPath(),t.fillStyle=u.multiKeyBackground,Lm(t,{x:R,y:k,w:_,h:p,radius:D}),t.fill(),t.stroke(),t.fillStyle=d.backgroundColor,t.beginPath(),Lm(t,{x:M,y:k+1,w:_-2,h:p-2,radius:D}),t.fill()):(t.fillStyle=u.multiKeyBackground,t.fillRect(R,k,_,p),t.strokeRect(R,k,_,p),t.fillStyle=d.backgroundColor,t.fillRect(M,k+1,_-2,p-2))}t.fillStyle=this.labelTextColors[a]}drawBody(t,i,a){const{body:l}=this,{bodySpacing:u,bodyAlign:d,displayColors:f,boxHeight:p,boxWidth:_,boxPadding:b}=a,w=Si(a.bodyFont);let T=w.lineHeight,E=0;const k=yo(a.rtl,this.x,this.width),R=function(dt){i.fillText(dt,k.x(t.x+E),t.y+T/2),t.y+=T+u},M=k.textAlign(d);let D,P,U,W,et,at,st;for(i.textAlign=d,i.textBaseline="middle",i.font=w.string,t.x=ch(this,M,a),i.fillStyle=a.bodyColor,Jt(this.beforeBody,R),E=f&&M!=="right"?d==="center"?_/2+b:_+2+b:0,W=0,at=l.length;W<at;++W){for(D=l[W],P=this.labelTextColors[W],i.fillStyle=P,Jt(D.before,R),U=D.lines,f&&U.length&&(this._drawColorBox(i,t,W,k,a),T=Math.max(w.lineHeight,p)),et=0,st=U.length;et<st;++et)R(U[et]),T=w.lineHeight;Jt(D.after,R)}E=0,T=w.lineHeight,Jt(this.afterBody,R),t.y-=u}drawFooter(t,i,a){const l=this.footer,u=l.length;let d,f;if(u){const p=yo(a.rtl,this.x,this.width);for(t.x=ch(this,a.footerAlign,a),t.y+=a.footerMarginTop,i.textAlign=p.textAlign(a.footerAlign),i.textBaseline="middle",d=Si(a.footerFont),i.fillStyle=a.footerColor,i.font=d.string,f=0;f<u;++f)i.fillText(l[f],p.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+a.footerSpacing}}drawBackground(t,i,a,l){const{xAlign:u,yAlign:d}=this,{x:f,y:p}=t,{width:_,height:b}=a,{topLeft:w,topRight:T,bottomLeft:E,bottomRight:k}=Jl(l.cornerRadius);i.fillStyle=l.backgroundColor,i.strokeStyle=l.borderColor,i.lineWidth=l.borderWidth,i.beginPath(),i.moveTo(f+w,p),d==="top"&&this.drawCaret(t,i,a,l),i.lineTo(f+_-T,p),i.quadraticCurveTo(f+_,p,f+_,p+T),d==="center"&&u==="right"&&this.drawCaret(t,i,a,l),i.lineTo(f+_,p+b-k),i.quadraticCurveTo(f+_,p+b,f+_-k,p+b),d==="bottom"&&this.drawCaret(t,i,a,l),i.lineTo(f+E,p+b),i.quadraticCurveTo(f,p+b,f,p+b-E),d==="center"&&u==="left"&&this.drawCaret(t,i,a,l),i.lineTo(f,p+w),i.quadraticCurveTo(f,p,f+w,p),i.closePath(),i.fill(),l.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,a=this.$animations,l=a&&a.x,u=a&&a.y;if(l||u){const d=$l[t.position].call(this,this._active,this._eventPosition);if(!d)return;const f=this._size=Dy(this,t),p=Object.assign({},d,this._size),_=Ny(i,t,p),b=jy(t,p,_,i);(l._to!==b.x||u._to!==b.y)&&(this.xAlign=_.xAlign,this.yAlign=_.yAlign,this.width=f.width,this.height=f.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,b))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(i);const l={width:this.width,height:this.height},u={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const d=mn(i.padding),f=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&f&&(t.save(),t.globalAlpha=a,this.drawBackground(u,t,l,i),Yb(t,i.textDirection),u.y+=d.top,this.drawTitle(u,t,i),this.drawBody(u,t,i),this.drawFooter(u,t,i),Fb(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const a=this._active,l=t.map(({datasetIndex:f,index:p})=>{const _=this.chart.getDatasetMeta(f);if(!_)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:_.data[p],index:p}}),u=!wh(a,l),d=this._positionChanged(l,i);(u||d)&&(this._active=l,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,a=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,u=this._active||[],d=this._getActiveElements(t,u,i,a),f=this._positionChanged(d,t),p=i||!wh(d,u)||f;return p&&(this._active=d,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),p}_getActiveElements(t,i,a,l){const u=this.options;if(t.type==="mouseout")return[];if(!l)return i.filter(f=>this.chart.data.datasets[f.datasetIndex]&&this.chart.getDatasetMeta(f.datasetIndex).controller.getParsed(f.index)!==void 0);const d=this.chart.getElementsAtEventForMode(t,u.mode,u,a);return u.reverse&&d.reverse(),d}_positionChanged(t,i){const{caretX:a,caretY:l,options:u}=this,d=$l[u.position].call(this,t,i);return d!==!1&&(a!==d.x||l!==d.y)}}var OC={id:"tooltip",_element:By,positioners:$l,afterInit(n,t,i){i&&(n.tooltip=new By({chart:n,options:i}))},beforeUpdate(n,t,i){n.tooltip&&n.tooltip.initialize(i)},reset(n,t,i){n.tooltip&&n.tooltip.initialize(i)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",i)}},afterEvent(n,t){if(n.tooltip){const i=t.replay;n.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:l0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Ih={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xi=Object.keys(Ih);function Uy(n,t){return n-t}function Hy(n,t){if(ii(t))return null;const i=n._adapter,{parser:a,round:l,isoWeekday:u}=n._parseOpts;let d=t;return typeof a=="function"&&(d=a(d)),gs(d)||(d=typeof a=="string"?i.parse(d,a):i.parse(d)),d===null?null:(l&&(d=l==="week"&&(Eh(u)||u===!0)?i.startOf(d,"isoWeek",u):i.startOf(d,l)),+d)}function Iy(n,t,i,a){const l=xi.length;for(let u=xi.indexOf(n);u<l-1;++u){const d=Ih[xi[u]],f=d.steps?d.steps:Number.MAX_SAFE_INTEGER;if(d.common&&Math.ceil((i-t)/(f*d.size))<=a)return xi[u]}return xi[l-1]}function AC(n,t,i,a,l){for(let u=xi.length-1;u>=xi.indexOf(i);u--){const d=xi[u];if(Ih[d].common&&n._adapter.diff(l,a,d)>=t-1)return d}return xi[i?xi.indexOf(i):0]}function CC(n){for(let t=xi.indexOf(n)+1,i=xi.length;t<i;++t)if(Ih[xi[t]].common)return xi[t]}function qy(n,t,i){if(!i)n[t]=!0;else if(i.length){const{lo:a,hi:l}=$m(i,t),u=i[a]>=t?i[a]:i[l];n[u]=!0}}function RC(n,t,i,a){const l=n._adapter,u=+l.startOf(t[0].value,a),d=t[t.length-1].value;let f,p;for(f=u;f<=d;f=+l.add(f,1,a))p=i[f],p>=0&&(t[p].major=!0);return t}function Zy(n,t,i){const a=[],l={},u=t.length;let d,f;for(d=0;d<u;++d)f=t[d],l[f]=d,a.push({value:f,major:!1});return u===0||!i?a:RC(n,a,l,i)}class Vy extends Uh{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){const a=t.time||(t.time={}),l=this._adapter=new X1._date(t.adapters.date);l.init(i),Wl(a.displayFormats,l.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:Hy(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,a=t.time.unit||"day";let{min:l,max:u,minDefined:d,maxDefined:f}=this.getUserBounds();function p(_){!d&&!isNaN(_.min)&&(l=Math.min(l,_.min)),!f&&!isNaN(_.max)&&(u=Math.max(u,_.max))}(!d||!f)&&(p(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&p(this.getMinMax(!1))),l=gs(l)&&!isNaN(l)?l:+i.startOf(Date.now(),a),u=gs(u)&&!isNaN(u)?u:+i.endOf(Date.now(),a)+1,this.min=Math.min(l,u-1),this.max=Math.max(l+1,u)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],a=t[t.length-1]),{min:i,max:a}}buildTicks(){const t=this.options,i=t.time,a=t.ticks,l=a.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const u=this.min,d=this.max,f=VO(l,u,d);return this._unit=i.unit||(a.autoSkip?Iy(i.minUnit,this.min,this.max,this._getLabelCapacity(u)):AC(this,f.length,i.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:CC(this._unit),this.initOffsets(l),t.reverse&&f.reverse(),Zy(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,a=0,l,u;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?i=1-l:i=(this.getDecimalForValue(t[1])-l)/2,u=this.getDecimalForValue(t[t.length-1]),t.length===1?a=u:a=(u-this.getDecimalForValue(t[t.length-2]))/2);const d=t.length<3?.5:.25;i=Fi(i,0,d),a=Fi(a,0,d),this._offsets={start:i,end:a,factor:1/(i+1+a)}}_generate(){const t=this._adapter,i=this.min,a=this.max,l=this.options,u=l.time,d=u.unit||Iy(u.minUnit,i,a,this._getLabelCapacity(i)),f=Qt(l.ticks.stepSize,1),p=d==="week"?u.isoWeekday:!1,_=Eh(p)||p===!0,b={};let w=i,T,E;if(_&&(w=+t.startOf(w,"isoWeek",p)),w=+t.startOf(w,_?"day":d),t.diff(a,i,d)>1e5*f)throw new Error(i+" and "+a+" are too far apart with stepSize of "+f+" "+d);const k=l.ticks.source==="data"&&this.getDataTimestamps();for(T=w,E=0;T<a;T=+t.add(T,f,d),E++)qy(b,T,k);return(T===a||l.bounds==="ticks"||E===1)&&qy(b,T,k),Object.keys(b).sort(Uy).map(R=>+R)}getLabelForValue(t){const i=this._adapter,a=this.options.time;return a.tooltipFormat?i.format(t,a.tooltipFormat):i.format(t,a.displayFormats.datetime)}format(t,i){const l=this.options.time.displayFormats,u=this._unit,d=i||l[u];return this._adapter.format(t,d)}_tickFormatFunction(t,i,a,l){const u=this.options,d=u.ticks.callback;if(d)return he(d,[t,i,a],this);const f=u.time.displayFormats,p=this._unit,_=this._majorUnit,b=p&&f[p],w=_&&f[_],T=a[i],E=_&&w&&T&&T.major;return this._adapter.format(t,l||(E?w:b))}generateTickLabels(t){let i,a,l;for(i=0,a=t.length;i<a;++i)l=t[i],l.label=this._tickFormatFunction(l.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,a=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+a)*i.factor)}getValueForPixel(t){const i=this._offsets,a=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+a*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,a=this.ctx.measureText(t).width,l=cr(this.isHorizontal()?i.maxRotation:i.minRotation),u=Math.cos(l),d=Math.sin(l),f=this._resolveTickFontOptions(0).size;return{w:a*u+f*d,h:a*d+f*u}}_getLabelCapacity(t){const i=this.options.time,a=i.displayFormats,l=a[i.unit]||a.millisecond,u=this._tickFormatFunction(t,0,Zy(this,[t],this._majorUnit),l),d=this._getLabelSize(u),f=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return f>0?f:1}getDataTimestamps(){let t=this._cache.data||[],i,a;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(i=0,a=l.length;i<a;++i)t=t.concat(l[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,a;if(t.length)return t;const l=this.getLabels();for(i=0,a=l.length;i<a;++i)t.push(Hy(this,l[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return GO(t.sort(Uy))}}function hh(n,t,i){let a=0,l=n.length-1,u,d,f,p;i?(t>=n[a].pos&&t<=n[l].pos&&({lo:a,hi:l}=Cm(n,"pos",t)),{pos:u,time:f}=n[a],{pos:d,time:p}=n[l]):(t>=n[a].time&&t<=n[l].time&&({lo:a,hi:l}=Cm(n,"time",t)),{time:u,pos:f}=n[a],{time:d,pos:p}=n[l]);const _=d-u;return _?f+(p-f)*(t-u)/_:f}class gR extends Vy{static id="timeseries";static defaults=Vy.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=hh(i,this.min),this._tableRange=hh(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:i,max:a}=this,l=[],u=[];let d,f,p,_,b;for(d=0,f=t.length;d<f;++d)_=t[d],_>=i&&_<=a&&l.push(_);if(l.length<2)return[{time:i,pos:0},{time:a,pos:1}];for(d=0,f=l.length;d<f;++d)b=l[d+1],p=l[d-1],_=l[d],Math.round((b+p)/2)!==_&&u.push({time:_,pos:d/(f-1)});return u}_generate(){const t=this.min,i=this.max;let a=super.getDataTimestamps();return(!a.includes(t)||!a.length)&&a.splice(0,0,t),(!a.includes(i)||a.length===1)&&a.push(i),a.sort((l,u)=>l-u)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const i=this.getDataTimestamps(),a=this.getLabelTimestamps();return i.length&&a.length?t=this.normalize(i.concat(a)):t=i.length?i:a,t=this._cache.all=t,t}getDecimalForValue(t){return(hh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const i=this._offsets,a=this.getDecimalForPixel(t)/i.factor-i.end;return hh(this._table,a*this._tableRange+this._minPos,!0)}}const u0="label";function $y(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function LC(n,t){const i=n.options;i&&t&&Object.assign(i,t)}function c0(n,t){n.labels=t}function h0(n,t,i=u0){const a=[];n.datasets=t.map(l=>{const u=n.datasets.find(d=>d[i]===l[i]);return!u||!l.data||a.includes(u)?{...l}:(a.push(u),Object.assign(u,l),u)})}function kC(n,t=u0){const i={labels:[],datasets:[]};return c0(i,n.labels),h0(i,n.datasets,t),i}function MC(n,t){const{height:i=150,width:a=300,redraw:l=!1,datasetIdKey:u,type:d,data:f,options:p,plugins:_=[],fallbackContent:b,updateMode:w,...T}=n,E=B.useRef(null),k=B.useRef(null),R=()=>{E.current&&(k.current=new Hh(E.current,{type:d,data:kC(f,u),options:p&&{...p},plugins:_}),$y(t,k.current))},M=()=>{$y(t,null),k.current&&(k.current.destroy(),k.current=null)};return B.useEffect(()=>{!l&&k.current&&p&&LC(k.current,p)},[l,p]),B.useEffect(()=>{!l&&k.current&&c0(k.current.config.data,f.labels)},[l,f.labels]),B.useEffect(()=>{!l&&k.current&&f.datasets&&h0(k.current.config.data,f.datasets,u)},[l,f.datasets]),B.useEffect(()=>{k.current&&(l?(M(),setTimeout(R)):k.current.update(w))},[l,p,f.labels,f.datasets,w]),B.useEffect(()=>{k.current&&(M(),setTimeout(R))},[d]),B.useEffect(()=>(R(),()=>M()),[]),O.jsx("canvas",{ref:E,role:"img",height:i,width:a,...T,children:b})}const DC=B.forwardRef(MC);function NC(n,t){return Hh.register(t),B.forwardRef((i,a)=>O.jsx(DC,{...i,ref:a,type:n}))}const jC=NC("doughnut",K1);Hh.register(dC,OC,vC);function zC(){const[n,t]=B.useState(null),[i,a]=B.useState(null),[l,u]=B.useState(!0),d=Ki();return B.useEffect(()=>{const f=localStorage.getItem("currentUser");if(!f){d("/");return}t(JSON.parse(f)),(async()=>{try{const{data:_,error:b}=await le.supabase.from("users").select("sangre");if(b)throw b;const w={"O+":0,"O-":0,"A+":0,"A-":0,"B+":0,"B-":0,"AB+":0,"AB-":0};(_||[]).forEach(T=>{T.sangre&&w[T.sangre]!==void 0&&w[T.sangre]++}),a({labels:Object.keys(w),datasets:[{data:Object.values(w),backgroundColor:["#b91d47","#e03e52","#d13438","#ea005e","#ef6950","#d13438","#ffb900","#00cc6a"],borderWidth:0}]})}catch(_){console.error("Error cargando grfica:",_.message)}finally{u(!1)}})()},[d]),n?O.jsxs("div",{children:[O.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[O.jsx("h1",{className:"fw-bold text-danger",children:"Panel de Control"}),O.jsxs("span",{className:"h5 text-muted",children:["Hola, ",n.nombre?n.nombre.split(" ")[0]:"Hroe"," "]})]}),n.citaActiva&&O.jsxs("div",{className:"alert alert-primary border-0 shadow-sm d-flex align-items-center mb-4 p-4 rounded-4 text-white",style:{background:"linear-gradient(45deg, #0d6efd, #0dcaf0)"},children:[O.jsx("span",{className:"fs-1 me-4",children:""}),O.jsxs("div",{children:[O.jsx("h4",{className:"fw-bold mb-1",children:"Tienes una misin activa!"}),O.jsxs("p",{className:"mb-0 fs-5",children:["Paciente: ",O.jsx("b",{children:n.citaActiva.paciente||"Confidencial"})]}),O.jsxs("p",{className:"mb-0 fs-5",children:["Lugar: ",O.jsx("b",{children:n.citaActiva.hospital})]})]})]}),O.jsxs("div",{className:"row mb-4",children:[O.jsx("div",{className:"col-md-4 mb-3",children:O.jsx("div",{className:"card h-100 shadow-sm border-0",children:O.jsxs("div",{className:"card-body text-center p-4",children:[O.jsx("span",{className:"fs-1",children:""}),O.jsx("h3",{className:"fw-bold mt-2",children:"Donar Sangre"}),O.jsx("p",{className:"text-muted",children:"Busca pacientes que necesitan tu tipo de sangre hoy mismo."}),O.jsx(dn,{to:"/solicitudes",className:"btn btn-danger w-100 fw-bold mt-3",children:"Ver Solicitudes"})]})})}),O.jsx("div",{className:"col-md-4 mb-3",children:O.jsx("div",{className:"card h-100 shadow-sm border-0",children:O.jsxs("div",{className:"card-body text-center p-4",children:[O.jsx("span",{className:"fs-1",children:""}),O.jsx("h3",{className:"fw-bold mt-2",children:"Mapa de Hroes"}),O.jsx("p",{className:"text-muted",children:"Localiza la red de ayuda y hospitales cercanos."}),O.jsx(dn,{to:"/mapa",className:"btn btn-outline-danger w-100 fw-bold mt-3",children:"Abrir Mapa"})]})})}),O.jsx("div",{className:"col-md-4 mb-3",children:O.jsxs("div",{className:"card h-100 shadow-sm border-0 p-3",children:[O.jsx("h6",{className:"fw-bold text-center text-secondary",children:"Comunidad de Donadores"}),O.jsx("div",{style:{height:"180px",display:"flex",justifyContent:"center",alignItems:"center"},children:l?O.jsx("div",{className:"spinner-border text-danger",role:"status"}):i?O.jsx(jC,{data:i,options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}}}}):O.jsx("p",{className:"text-muted",children:"No hay datos disponibles"})})]})})]})]}):null}function PC(){const[n,t]=B.useState({}),[i,a]=B.useState(!1),[l,u]=B.useState(Date.now());B.useEffect(()=>{(async()=>{const _=JSON.parse(localStorage.getItem("currentUser"));if(_){const{data:b}=await le.supabase.from("users").select("*").eq("curp",_.curp).single();b&&(t(b),localStorage.setItem("currentUser",JSON.stringify(b)))}})()},[]);const d=async p=>{try{a(!0);const _=p.target.files[0];if(!_)return;const b=_.name.split(".").pop(),T=`${`${n.curp}.${b}`}`,{error:E}=await le.supabase.storage.from("avatars").upload(T,_,{upsert:!0});if(E)throw E;const{data:k}=le.supabase.storage.from("avatars").getPublicUrl(T),R=`${k.publicUrl}?t=${Date.now()}`,{error:M}=await le.supabase.from("users").update({avatar_url:R}).eq("curp",n.curp);if(M)throw M;const D={...n,avatar_url:R};t(D),localStorage.setItem("currentUser",JSON.stringify(D)),u(Date.now()),alert("Foto actualizada con xito!"),window.location.reload()}catch(_){console.error(_),alert("Error subiendo imagen: "+_.message)}finally{a(!1)}},f=n.puntos||0;return O.jsx("div",{className:"container py-5",children:O.jsxs("div",{className:"row justify-content-center",children:[O.jsx("div",{className:"col-md-5",children:O.jsxs("div",{className:"card border-0 shadow-sm text-center p-4",children:[O.jsxs("div",{className:"position-relative mx-auto mb-3",style:{width:"150px",height:"150px"},children:[O.jsx("img",{src:n.avatar_url||"https://placehold.co/150x150?text=Sin+Foto",className:"rounded-circle w-100 h-100 object-fit-cover border border-4 border-white shadow",alt:"Avatar",onError:p=>{p.target.src="https://placehold.co/150x150?text=Error"}},l),O.jsx("label",{htmlFor:"upload",className:"btn btn-dark btn-sm rounded-circle position-absolute bottom-0 end-0 shadow",style:{cursor:"pointer",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:""}),O.jsx("input",{type:"file",id:"upload",hidden:!0,onChange:d,disabled:i})]}),i&&O.jsx("small",{className:"text-danger fw-bold",children:"Subiendo... espera..."}),O.jsx("h3",{className:"fw-bold mt-2",children:n.nombre}),O.jsxs("span",{className:"badge bg-danger rounded-pill px-3 py-2 mb-3",children:["Sangre ",n.sangre]}),O.jsx("p",{className:"text-muted small",children:"Miembro desde 2026"})]})}),O.jsxs("div",{className:"col-md-7",children:[O.jsxs("div",{className:"card border-0 shadow-sm p-4 mb-4",children:[O.jsx("h4",{className:"fw-bold text-danger",children:"Estadsticas"}),O.jsxs("div",{className:"row text-center mt-3",children:[O.jsxs("div",{className:"col-6 border-end",children:[O.jsx("h2",{className:"fw-bold mb-0",children:f}),O.jsx("small",{className:"text-muted text-uppercase",children:"Puntos XP"})]}),O.jsxs("div",{className:"col-6",children:[O.jsx("h2",{className:"fw-bold mb-0",children:n.nivel||"Novato"}),O.jsx("small",{className:"text-muted text-uppercase",children:"Rango Actual"})]})]})]}),O.jsxs("div",{className:"card border-0 shadow-sm p-4",children:[O.jsx("h4",{className:"fw-bold mb-3",children:"Medallero"}),O.jsxs("div",{className:"row g-3",children:[O.jsx("div",{className:"col-md-6",children:O.jsxs("div",{className:`p-3 border rounded ${f>=100?"bg-warning-subtle border-warning":"bg-light text-muted"}`,children:[O.jsx("h5",{children:" Primer Donante"}),O.jsx("small",{children:"Realiza tu primera donacin (100 XP)"})]})}),O.jsx("div",{className:"col-md-6",children:O.jsxs("div",{className:`p-3 border rounded ${f>=300?"bg-success-subtle border-success":"bg-light text-muted"}`,children:[O.jsx("h5",{children:" Sper Hroe"}),O.jsx("small",{children:"Acumula 3 donaciones (300 XP)"})]})})]})]})]})]})})}const dh={"Ciudad Madero":["Hospital General Regional No. 6 (IMSS)","Hospital Civil de Madero","Clnica de Pemex Madero"],Tampico:["Hospital General Dr. Carlos Canseco","Hospital Beneficencia Espaola","Hospital Cemain","ISSSTE Tampico"],Altamira:["Hospital General Dr. Rodolfo Torre Cant","Clnica del DIF Altamira"],"Ciudad Victoria":["Hospital General Dr. Norberto Trevio Zapata","Hospital Infantil","Hospital Civil"],Reynosa:["Hospital General de Reynosa","Hospital Materno Infantil","IMSS No. 15"]};function BC(){const[n,t]=B.useState(""),[i,a]=B.useState("Ciudad Madero"),[l,u]=B.useState(dh["Ciudad Madero"][0]),[d,f]=B.useState("O+"),[p,_]=B.useState("1"),[b,w]=B.useState(""),[T,E]=B.useState(!1),k=Ki(),R=D=>{const P=D.target.value;a(P),u(dh[P][0])},M=async D=>{D.preventDefault(),E(!0);const P=JSON.parse(sessionStorage.getItem("currentUser"));if(!P)return k("/");const U={paciente:n,hospital:l,ciudad:i,tiposangre:d,unidades_necesarias:parseInt(p),historia:b,creado_por_curp:P.curp,estatus:"activa",fecha_solicitud:new Date().toISOString()},{error:W}=await le.supabase.from("solicitudes").insert([U]);W?alert("Error al crear la solicitud: "+W.message):(alert(" Solicitud enviada exitosamente. Los donadores sern notificados."),k("/dashboard")),E(!1)};return O.jsxs("div",{className:"container py-5",children:[O.jsx("h2",{className:"mb-4 text-brand fw-bold text-danger",children:" Pedir Ayuda"}),O.jsxs("div",{className:"card shadow-sm p-4 border-0",children:[O.jsx("p",{className:"text-muted mb-4",children:"Ingresa los datos del paciente para notificar a la red de donadores."}),O.jsx("form",{onSubmit:M,children:O.jsxs("div",{className:"row g-3",children:[O.jsxs("div",{className:"col-md-12",children:[O.jsx("label",{className:"form-label fw-bold",children:"Nombre del Paciente"}),O.jsx("input",{type:"text",className:"form-control",placeholder:"Ej. Juan Prez",value:n,onChange:D=>t(D.target.value),required:!0})]}),O.jsxs("div",{className:"col-md-6",children:[O.jsx("label",{className:"form-label fw-bold",children:"Ciudad"}),O.jsx("select",{className:"form-select",value:i,onChange:R,children:Object.keys(dh).map(D=>O.jsx("option",{value:D,children:D},D))})]}),O.jsxs("div",{className:"col-md-6",children:[O.jsx("label",{className:"form-label fw-bold",children:"Hospital"}),O.jsx("select",{className:"form-select",value:l,onChange:D=>u(D.target.value),children:dh[i].map(D=>O.jsx("option",{value:D,children:D},D))})]}),O.jsxs("div",{className:"col-md-6",children:[O.jsx("label",{className:"form-label fw-bold",children:"Tipo de Sangre"}),O.jsx("select",{className:"form-select",value:d,onChange:D=>f(D.target.value),children:["O+","O-","A+","A-","B+","B-","AB+","AB-"].map(D=>O.jsx("option",{value:D,children:D},D))})]}),O.jsxs("div",{className:"col-md-6",children:[O.jsx("label",{className:"form-label fw-bold",children:"Unidades Requeridas"}),O.jsx("input",{type:"number",className:"form-control",min:"1",max:"10",value:p,onChange:D=>_(D.target.value),required:!0})]}),O.jsxs("div",{className:"col-12",children:[O.jsx("label",{className:"form-label fw-bold",children:"Breve Historia (Opcional)"}),O.jsx("textarea",{className:"form-control",rows:"2",placeholder:"Ej. Ciruga programada...",value:b,onChange:D=>w(D.target.value)})]}),O.jsx("div",{className:"col-12 mt-4",children:O.jsx("button",{type:"submit",className:"btn btn-danger w-100 fw-bold py-2",disabled:T,children:T?"Enviando...":" PUBLICAR ALERTA"})})]})})]})]})}function UC(){const[n,t]=B.useState([]),i=JSON.parse(sessionStorage.getItem("currentUser"))||{};return B.useEffect(()=>{if(!i.curp)return;(async()=>{let l=[];if(i.ultimaDonacion){const d=new Date(i.ultimaDonacion),p=Math.abs(new Date-d),_=Math.ceil(p/(1e3*60*60*24)),b=i.genero==="Mujer"?4:3;_>=b*30&&!i.citaActiva&&l.push({id:"local-recovery",titulo:"Hroe Recargado! ",mensaje:"Tu periodo de recuperacin ha terminado. Ya puedes volver a donar y salvar vidas.",tipo:"success",fecha:new Date().toISOString()})}i.citaActiva&&l.push({id:"local-cita",titulo:"Misin en Curso ",mensaje:`Tienes un compromiso pendiente en ${i.citaActiva.hospital} para ${i.citaActiva.paciente}.`,tipo:"warning",fecha:i.citaActiva.fechaISO||new Date().toISOString()});const{data:u}=await le.supabase.from("notificaciones_medicas").select("*").eq("curpUsuario",i.curp).order("fecha",{ascending:!1});if(u){const d=u.map(f=>({id:f.id,titulo:"Mensaje del Hospital ",mensaje:f.mensaje,tipo:"info",fecha:f.fecha}));l=[...l,...d]}t(l)})()},[]),O.jsxs("div",{className:"container py-4",children:[O.jsx("h2",{className:"fw-bold mb-4",children:"Mis Notificaciones"}),n.length===0?O.jsx("div",{className:"alert alert-light text-center",children:"No tienes nuevas notificaciones."}):O.jsx("div",{className:"list-group",children:n.map(a=>O.jsxs("div",{className:`list-group-item list-group-item-action p-4 border-start border-5 border-${a.tipo==="success"?"success":a.tipo==="warning"?"warning":"primary"} mb-2 rounded shadow-sm`,children:[O.jsxs("div",{className:"d-flex w-100 justify-content-between",children:[O.jsx("h5",{className:"mb-1 fw-bold",children:a.titulo}),O.jsx("small",{className:"text-muted",children:new Date(a.fecha).toLocaleDateString()})]}),O.jsx("p",{className:"mb-1",children:a.mensaje})]},a.id))})]})}function HC(){const[n,t]=B.useState([]),i=Ki(),a=JSON.parse(sessionStorage.getItem("currentUser"))||{};B.useEffect(()=>{(async()=>{const{data:d}=await le.supabase.from("solicitudes").select("*").eq("estatus","activa").gt("unidades_necesarias",0).neq("creado_por_curp",a.curp).order("created_at",{ascending:!1});t(d||[])})()},[]);const l=async u=>{if(a.citaActiva)return alert("Ya tienes una cita activa.");if(window.confirm(`Quieres donar para ${u.paciente} en ${u.hospital}?`)){const d={hospital:u.hospital,fecha:new Date().toISOString(),paciente:u.paciente,solicitudId:u.id},f={...a,citaActiva:d};await le.updateUser(f),sessionStorage.setItem("currentUser",JSON.stringify(f));const p=u.unidades_necesarias-1,_=p<=0?"completada":"activa";await le.supabase.from("solicitudes").update({unidades_necesarias:p,estatus:_}).eq("id",u.id),alert("Gracias! Cita registrada. Ve a tu panel principal."),i("/dashboard")}};return O.jsxs("div",{className:"container py-5",children:[O.jsx("h2",{className:"text-danger fw-bold mb-4",children:"Urgencias Activas"}),O.jsx("div",{className:"row",children:n.length===0?O.jsx("p",{children:"No hay solicitudes compatibles."}):n.map(u=>O.jsx("div",{className:"col-md-6 mb-3",children:O.jsx("div",{className:"card shadow-sm border-danger",children:O.jsxs("div",{className:"card-body",children:[O.jsxs("div",{className:"d-flex justify-content-between",children:[O.jsxs("h5",{className:"card-title text-danger fw-bold",children:[" ",u.tiposangre]}),O.jsxs("span",{className:"badge bg-warning text-dark",children:["Faltan: ",u.unidades_necesarias]})]}),O.jsxs("p",{className:"card-text",children:[O.jsx("b",{children:"Paciente:"})," ",u.paciente,O.jsx("br",{}),O.jsx("b",{children:"Hospital:"})," ",u.hospital,O.jsx("br",{}),O.jsx("b",{children:"Ciudad:"})," ",u.ciudad]}),O.jsx("button",{className:"btn btn-danger w-100",onClick:()=>l(u),children:"Donar Aqu"})]})})},u.id))})]})}function d0(n,t){const i=B.useRef(t);B.useEffect(function(){t!==i.current&&n.attributionControl!=null&&(i.current!=null&&n.attributionControl.removeAttribution(i.current),t!=null&&n.attributionControl.addAttribution(t)),i.current=t},[n,t])}const IC=1;function qC(n){return Object.freeze({__version:IC,map:n})}function ZC(n,t){return Object.freeze({...n,...t})}const ep=B.createContext(null);function ip(){const n=B.use(ep);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function VC(n){function t(i,a){const{instance:l,context:u}=n(i).current;B.useImperativeHandle(a,()=>l);const{children:d}=i;return d==null?null:fm.createElement(ep,{value:u},d)}return B.forwardRef(t)}function $C(n){function t(i,a){const[l,u]=B.useState(!1),{instance:d}=n(i,u).current;B.useImperativeHandle(a,()=>d),B.useEffect(function(){l&&d.update()},[d,l,i.children]);const f=d._contentNode;return f?SS.createPortal(i.children,f):null}return B.forwardRef(t)}function GC(n){function t(i,a){const{instance:l}=n(i).current;return B.useImperativeHandle(a,()=>l),null}return B.forwardRef(t)}function f0(n,t){const i=B.useRef(void 0);B.useEffect(function(){return t!=null&&n.instance.on(t),i.current=t,function(){i.current!=null&&n.instance.off(i.current),i.current=null}},[n,t])}function np(n,t){const i=n.pane??t.pane;return i?{...n,pane:i}:n}function YC(n,t){return function(a,l){const u=ip(),d=n(np(a,u),u);return d0(u.map,a.attribution),f0(d.current,a.eventHandlers),t(d.current,u,a,l),d}}var Gl={exports:{}};var FC=Gl.exports,Gy;function WC(){return Gy||(Gy=1,(function(n,t){(function(i,a){a(t)})(FC,(function(i){var a="1.9.4";function l(r){var c,m,y,x;for(m=1,y=arguments.length;m<y;m++){x=arguments[m];for(c in x)r[c]=x[c]}return r}var u=Object.create||(function(){function r(){}return function(c){return r.prototype=c,new r}})();function d(r,c){var m=Array.prototype.slice;if(r.bind)return r.bind.apply(r,m.call(arguments,1));var y=m.call(arguments,2);return function(){return r.apply(c,y.length?y.concat(m.call(arguments)):arguments)}}var f=0;function p(r){return"_leaflet_id"in r||(r._leaflet_id=++f),r._leaflet_id}function _(r,c,m){var y,x,A,N;return N=function(){y=!1,x&&(A.apply(m,x),x=!1)},A=function(){y?x=arguments:(r.apply(m,arguments),setTimeout(N,c),y=!0)},A}function b(r,c,m){var y=c[1],x=c[0],A=y-x;return r===y&&m?r:((r-x)%A+A)%A+x}function w(){return!1}function T(r,c){if(c===!1)return r;var m=Math.pow(10,c===void 0?6:c);return Math.round(r*m)/m}function E(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function k(r){return E(r).split(/\s+/)}function R(r,c){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?u(r.options):{});for(var m in c)r.options[m]=c[m];return r.options}function M(r,c,m){var y=[];for(var x in r)y.push(encodeURIComponent(m?x.toUpperCase():x)+"="+encodeURIComponent(r[x]));return(!c||c.indexOf("?")===-1?"?":"&")+y.join("&")}var D=/\{ *([\w_ -]+) *\}/g;function P(r,c){return r.replace(D,function(m,y){var x=c[y];if(x===void 0)throw new Error("No value provided for variable "+m);return typeof x=="function"&&(x=x(c)),x})}var U=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function W(r,c){for(var m=0;m<r.length;m++)if(r[m]===c)return m;return-1}var et="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function at(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var st=0;function dt(r){var c=+new Date,m=Math.max(0,16-(c-st));return st=c+m,window.setTimeout(r,m)}var yt=window.requestAnimationFrame||at("RequestAnimationFrame")||dt,Tt=window.cancelAnimationFrame||at("CancelAnimationFrame")||at("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function bt(r,c,m){if(m&&yt===dt)r.call(c);else return yt.call(window,d(r,c))}function gt(r){r&&Tt.call(window,r)}var se={__proto__:null,extend:l,create:u,bind:d,get lastId(){return f},stamp:p,throttle:_,wrapNum:b,falseFn:w,formatNum:T,trim:E,splitWords:k,setOptions:R,getParamString:M,template:P,isArray:U,indexOf:W,emptyImageUrl:et,requestFn:yt,cancelFn:Tt,requestAnimFrame:bt,cancelAnimFrame:gt};function qt(){}qt.extend=function(r){var c=function(){R(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,y=u(m);y.constructor=c,c.prototype=y;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(c[x]=this[x]);return r.statics&&l(c,r.statics),r.includes&&(Lt(r.includes),l.apply(null,[y].concat(r.includes))),l(y,r),delete y.statics,delete y.includes,y.options&&(y.options=m.options?u(m.options):{},l(y.options,r.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,N=y._initHooks.length;A<N;A++)y._initHooks[A].call(this)}},c},qt.include=function(r){var c=this.prototype.options;return l(this.prototype,r),r.options&&(this.prototype.options=c,this.mergeOptions(r.options)),this},qt.mergeOptions=function(r){return l(this.prototype.options,r),this},qt.addInitHook=function(r){var c=Array.prototype.slice.call(arguments,1),m=typeof r=="function"?r:function(){this[r].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Lt(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=U(r)?r:[r];for(var c=0;c<r.length;c++)r[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(r,c,m){if(typeof r=="object")for(var y in r)this._on(y,r[y],c);else{r=k(r);for(var x=0,A=r.length;x<A;x++)this._on(r[x],c,m)}return this},off:function(r,c,m){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var y in r)this._off(y,r[y],c);else{r=k(r);for(var x=arguments.length===1,A=0,N=r.length;A<N;A++)x?this._off(r[A]):this._off(r[A],c,m)}return this},_on:function(r,c,m,y){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(r,c,m)===!1){m===this&&(m=void 0);var x={fn:c,ctx:m};y&&(x.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(x)}},_off:function(r,c,m){var y,x,A;if(this._events&&(y=this._events[r],!!y)){if(arguments.length===1){if(this._firingCount)for(x=0,A=y.length;x<A;x++)y[x].fn=w;delete this._events[r];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var N=this._listens(r,c,m);if(N!==!1){var q=y[N];this._firingCount&&(q.fn=w,this._events[r]=y=y.slice()),y.splice(N,1)}}},fire:function(r,c,m){if(!this.listens(r,m))return this;var y=l({},c,{type:r,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var x=this._events[r];if(x){this._firingCount=this._firingCount+1||1;for(var A=0,N=x.length;A<N;A++){var q=x[A],G=q.fn;q.once&&this.off(r,G,q.ctx),G.call(q.ctx||this,y)}this._firingCount--}}return m&&this._propagateEvent(y),this},listens:function(r,c,m,y){typeof r!="string"&&console.warn('"string" type argument expected');var x=c;typeof c!="function"&&(y=!!c,x=void 0,m=void 0);var A=this._events&&this._events[r];if(A&&A.length&&this._listens(r,x,m)!==!1)return!0;if(y){for(var N in this._eventParents)if(this._eventParents[N].listens(r,c,m,y))return!0}return!1},_listens:function(r,c,m){if(!this._events)return!1;var y=this._events[r]||[];if(!c)return!!y.length;m===this&&(m=void 0);for(var x=0,A=y.length;x<A;x++)if(y[x].fn===c&&y[x].ctx===m)return x;return!1},once:function(r,c,m){if(typeof r=="object")for(var y in r)this._on(y,r[y],c,!0);else{r=k(r);for(var x=0,A=r.length;x<A;x++)this._on(r[x],c,m,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[p(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[p(r)],this},_propagateEvent:function(r){for(var c in this._eventParents)this._eventParents[c].fire(r.type,l({layer:r.target,propagatedFrom:r.target},r),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var nt=qt.extend(Z);function it(r,c,m){this.x=m?Math.round(r):r,this.y=m?Math.round(c):c}var At=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};it.prototype={clone:function(){return new it(this.x,this.y)},add:function(r){return this.clone()._add(ct(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(ct(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new it(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new it(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=At(this.x),this.y=At(this.y),this},distanceTo:function(r){r=ct(r);var c=r.x-this.x,m=r.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(r){return r=ct(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=ct(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function ct(r,c,m){return r instanceof it?r:U(r)?new it(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new it(r.x,r.y):new it(r,c,m)}function z(r,c){if(r)for(var m=c?[r,c]:r,y=0,x=m.length;y<x;y++)this.extend(m[y])}z.prototype={extend:function(r){var c,m;if(!r)return this;if(r instanceof it||typeof r[0]=="number"||"x"in r)c=m=ct(r);else if(r=K(r),c=r.min,m=r.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(r){return ct((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return ct(this.min.x,this.max.y)},getTopRight:function(){return ct(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var c,m;return typeof r[0]=="number"||r instanceof it?r=ct(r):r=K(r),r instanceof z?(c=r.min,m=r.max):c=m=r,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(r){r=K(r);var c=this.min,m=this.max,y=r.min,x=r.max,A=x.x>=c.x&&y.x<=m.x,N=x.y>=c.y&&y.y<=m.y;return A&&N},overlaps:function(r){r=K(r);var c=this.min,m=this.max,y=r.min,x=r.max,A=x.x>c.x&&y.x<m.x,N=x.y>c.y&&y.y<m.y;return A&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var c=this.min,m=this.max,y=Math.abs(c.x-m.x)*r,x=Math.abs(c.y-m.y)*r;return K(ct(c.x-y,c.y-x),ct(m.x+y,m.y+x))},equals:function(r){return r?(r=K(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function K(r,c){return!r||r instanceof z?r:new z(r,c)}function rt(r,c){if(r)for(var m=c?[r,c]:r,y=0,x=m.length;y<x;y++)this.extend(m[y])}rt.prototype={extend:function(r){var c=this._southWest,m=this._northEast,y,x;if(r instanceof ht)y=r,x=r;else if(r instanceof rt){if(y=r._southWest,x=r._northEast,!y||!x)return this}else return r?this.extend(ut(r)||ot(r)):this;return!c&&!m?(this._southWest=new ht(y.lat,y.lng),this._northEast=new ht(x.lat,x.lng)):(c.lat=Math.min(y.lat,c.lat),c.lng=Math.min(y.lng,c.lng),m.lat=Math.max(x.lat,m.lat),m.lng=Math.max(x.lng,m.lng)),this},pad:function(r){var c=this._southWest,m=this._northEast,y=Math.abs(c.lat-m.lat)*r,x=Math.abs(c.lng-m.lng)*r;return new rt(new ht(c.lat-y,c.lng-x),new ht(m.lat+y,m.lng+x))},getCenter:function(){return new ht((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ht(this.getNorth(),this.getWest())},getSouthEast:function(){return new ht(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof ht||"lat"in r?r=ut(r):r=ot(r);var c=this._southWest,m=this._northEast,y,x;return r instanceof rt?(y=r.getSouthWest(),x=r.getNorthEast()):y=x=r,y.lat>=c.lat&&x.lat<=m.lat&&y.lng>=c.lng&&x.lng<=m.lng},intersects:function(r){r=ot(r);var c=this._southWest,m=this._northEast,y=r.getSouthWest(),x=r.getNorthEast(),A=x.lat>=c.lat&&y.lat<=m.lat,N=x.lng>=c.lng&&y.lng<=m.lng;return A&&N},overlaps:function(r){r=ot(r);var c=this._southWest,m=this._northEast,y=r.getSouthWest(),x=r.getNorthEast(),A=x.lat>c.lat&&y.lat<m.lat,N=x.lng>c.lng&&y.lng<m.lng;return A&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,c){return r?(r=ot(r),this._southWest.equals(r.getSouthWest(),c)&&this._northEast.equals(r.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ot(r,c){return r instanceof rt?r:new rt(r,c)}function ht(r,c,m){if(isNaN(r)||isNaN(c))throw new Error("Invalid LatLng object: ("+r+", "+c+")");this.lat=+r,this.lng=+c,m!==void 0&&(this.alt=+m)}ht.prototype={equals:function(r,c){if(!r)return!1;r=ut(r);var m=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return m<=(c===void 0?1e-9:c)},toString:function(r){return"LatLng("+T(this.lat,r)+", "+T(this.lng,r)+")"},distanceTo:function(r){return fe.distance(this,ut(r))},wrap:function(){return fe.wrapLatLng(this)},toBounds:function(r){var c=180*r/40075017,m=c/Math.cos(Math.PI/180*this.lat);return ot([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new ht(this.lat,this.lng,this.alt)}};function ut(r,c,m){return r instanceof ht?r:U(r)&&typeof r[0]!="object"?r.length===3?new ht(r[0],r[1],r[2]):r.length===2?new ht(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new ht(r.lat,"lng"in r?r.lng:r.lon,r.alt):c===void 0?null:new ht(r,c,m)}var Nt={latLngToPoint:function(r,c){var m=this.projection.project(r),y=this.scale(c);return this.transformation._transform(m,y)},pointToLatLng:function(r,c){var m=this.scale(c),y=this.transformation.untransform(r,m);return this.projection.unproject(y)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(r),y=this.transformation.transform(c.min,m),x=this.transformation.transform(c.max,m);return new z(y,x)},infinite:!1,wrapLatLng:function(r){var c=this.wrapLng?b(r.lng,this.wrapLng,!0):r.lng,m=this.wrapLat?b(r.lat,this.wrapLat,!0):r.lat,y=r.alt;return new ht(m,c,y)},wrapLatLngBounds:function(r){var c=r.getCenter(),m=this.wrapLatLng(c),y=c.lat-m.lat,x=c.lng-m.lng;if(y===0&&x===0)return r;var A=r.getSouthWest(),N=r.getNorthEast(),q=new ht(A.lat-y,A.lng-x),G=new ht(N.lat-y,N.lng-x);return new rt(q,G)}},fe=l({},Nt,{wrapLng:[-180,180],R:6371e3,distance:function(r,c){var m=Math.PI/180,y=r.lat*m,x=c.lat*m,A=Math.sin((c.lat-r.lat)*m/2),N=Math.sin((c.lng-r.lng)*m/2),q=A*A+Math.cos(y)*Math.cos(x)*N*N,G=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*G}}),me=6378137,zn={R:me,MAX_LATITUDE:85.0511287798,project:function(r){var c=Math.PI/180,m=this.MAX_LATITUDE,y=Math.max(Math.min(m,r.lat),-m),x=Math.sin(y*c);return new it(this.R*r.lng*c,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(r){var c=180/Math.PI;return new ht((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*c,r.x*c/this.R)},bounds:(function(){var r=me*Math.PI;return new z([-r,-r],[r,r])})()};function vs(r,c,m,y){if(U(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=c,this._c=m,this._d=y}vs.prototype={transform:function(r,c){return this._transform(r.clone(),c)},_transform:function(r,c){return c=c||1,r.x=c*(this._a*r.x+this._b),r.y=c*(this._c*r.y+this._d),r},untransform:function(r,c){return c=c||1,new it((r.x/c-this._b)/this._a,(r.y/c-this._d)/this._c)}};function Pn(r,c,m,y){return new vs(r,c,m,y)}var fr=l({},fe,{code:"EPSG:3857",projection:zn,transformation:(function(){var r=.5/(Math.PI*zn.R);return Pn(r,.5,-r,.5)})()}),Bn=l({},fr,{code:"EPSG:900913"});function mr(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function pr(r,c){var m="",y,x,A,N,q,G;for(y=0,A=r.length;y<A;y++){for(q=r[y],x=0,N=q.length;x<N;x++)G=q[x],m+=(x?"L":"M")+G.x+" "+G.y;m+=c?pt.svg?"z":"x":""}return m||"M0 0"}var Eo=document.documentElement.style,ha="ActiveXObject"in window,Oo=ha&&!document.addEventListener,gr="msLaunchUri"in navigator&&!("documentMode"in document),da=li("webkit"),vu=li("android"),yu=li("android 2")||li("android 3"),ni=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Zh=vu&&li("Google")&&ni<537&&!("AudioNode"in window),_r=!!window.opera,Ao=!gr&&li("chrome"),fa=li("gecko")&&!da&&!_r&&!ha,Vh=!Ao&&li("safari"),Co=li("phantom"),bu="OTransition"in Eo,$h=navigator.platform.indexOf("Win")===0,ys=ha&&"transition"in Eo,Ve="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!yu,Xi="MozPerspective"in Eo,si=!window.L_DISABLE_3D&&(ys||Ve||Xi)&&!bu&&!Co,ma=typeof orientation<"u"||li("mobile"),Gh=ma&&da,Yh=ma&&Ve,pa=!window.PointerEvent&&window.MSPointerEvent,ga=!!(window.PointerEvent||pa),_a="ontouchstart"in window||!!window.TouchEvent,Un=!window.L_NO_TOUCH&&(_a||ga),vr=ma&&_r,va=ma&&fa,Fh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,wu=(function(){var r=!1;try{var c=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",w,c),window.removeEventListener("testPassiveEventSupport",w,c)}catch{}return r})(),Ro=(function(){return!!document.createElement("canvas").getContext})(),Hn=!!(document.createElementNS&&mr("svg").createSVGRect),Wh=!!Hn&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),xu=!Hn&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var c=r.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),Su=navigator.platform.indexOf("Mac")===0,Tu=navigator.platform.indexOf("Linux")===0;function li(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var pt={ie:ha,ielt9:Oo,edge:gr,webkit:da,android:vu,android23:yu,androidStock:Zh,opera:_r,chrome:Ao,gecko:fa,safari:Vh,phantom:Co,opera12:bu,win:$h,ie3d:ys,webkit3d:Ve,gecko3d:Xi,any3d:si,mobile:ma,mobileWebkit:Gh,mobileWebkit3d:Yh,msPointer:pa,pointer:ga,touch:Un,touchNative:_a,mobileOpera:vr,mobileGecko:va,retina:Fh,passiveEvents:wu,canvas:Ro,svg:Hn,vml:xu,inlineSvg:Wh,mac:Su,linux:Tu},Lo=pt.msPointer?"MSPointerDown":"pointerdown",ko=pt.msPointer?"MSPointerMove":"pointermove",Ji=pt.msPointer?"MSPointerUp":"pointerup",Ae=pt.msPointer?"MSPointerCancel":"pointercancel",He={touchstart:Lo,touchmove:ko,touchend:Ji,touchcancel:Ae},In={touchstart:ws,touchmove:gn,touchend:gn,touchcancel:gn},pn={},Eu=!1;function Kh(r,c,m){return c==="touchstart"&&bs(),In[c]?(m=In[c].bind(this,m),r.addEventListener(He[c],m,!1),m):(console.warn("wrong event specified:",c),w)}function Ou(r,c,m){if(!He[c]){console.warn("wrong event specified:",c);return}r.removeEventListener(He[c],m,!1)}function ya(r){pn[r.pointerId]=r}function Mo(r){pn[r.pointerId]&&(pn[r.pointerId]=r)}function qn(r){delete pn[r.pointerId]}function bs(){Eu||(document.addEventListener(Lo,ya,!0),document.addEventListener(ko,Mo,!0),document.addEventListener(Ji,qn,!0),document.addEventListener(Ae,qn,!0),Eu=!0)}function gn(r,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in pn)c.touches.push(pn[m]);c.changedTouches=[c],r(c)}}function ws(r,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&ye(c),gn(r,c)}function Ce(r){var c={},m,y;for(y in r)m=r[y],c[y]=m&&m.bind?m.bind(r):m;return r=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Au=200;function Cu(r,c){r.addEventListener("dblclick",c);var m=0,y;function x(A){if(A.detail!==1){y=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var N=Oa(A);if(!(N.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!N.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var q=Date.now();q-m<=Au?(y++,y===2&&c(Ce(A))):y=1,m=q}}}return r.addEventListener("click",x),{dblclick:c,simDblclick:x}}function Zn(r,c){r.removeEventListener("dblclick",c.dblclick),r.removeEventListener("click",c.simDblclick)}var _n=xa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ba=xa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Do=ba==="webkitTransition"||ba==="OTransition"?ba+"End":"transitionend";function No(r){return typeof r=="string"?document.getElementById(r):r}function wa(r,c){var m=r.style[c]||r.currentStyle&&r.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(r,null);m=y?y[c]:null}return m==="auto"?null:m}function jt(r,c,m){var y=document.createElement(r);return y.className=c||"",m&&m.appendChild(y),y}function te(r){var c=r.parentNode;c&&c.removeChild(r)}function ui(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function je(r){var c=r.parentNode;c&&c.lastChild!==r&&c.appendChild(r)}function Vn(r){var c=r.parentNode;c&&c.firstChild!==r&&c.insertBefore(r,c.firstChild)}function jo(r,c){if(r.classList!==void 0)return r.classList.contains(c);var m=yr(r);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Ct(r,c){if(r.classList!==void 0)for(var m=k(c),y=0,x=m.length;y<x;y++)r.classList.add(m[y]);else if(!jo(r,c)){var A=yr(r);xs(r,(A?A+" ":"")+c)}}function pe(r,c){r.classList!==void 0?r.classList.remove(c):xs(r,E((" "+yr(r)+" ").replace(" "+c+" "," ")))}function xs(r,c){r.className.baseVal===void 0?r.className=c:r.className.baseVal=c}function yr(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function ue(r,c){"opacity"in r.style?r.style.opacity=c:"filter"in r.style&&zo(r,c)}function zo(r,c){var m=!1,y="DXImageTransform.Microsoft.Alpha";try{m=r.filters.item(y)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):r.style.filter+=" progid:"+y+"(opacity="+c+")"}function xa(r){for(var c=document.documentElement.style,m=0;m<r.length;m++)if(r[m]in c)return r[m];return!1}function Qi(r,c,m){var y=c||new it(0,0);r.style[_n]=(pt.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(m?" scale("+m+")":"")}function ae(r,c){r._leaflet_pos=c,pt.any3d?Qi(r,c):(r.style.left=c.x+"px",r.style.top=c.y+"px")}function vn(r){return r._leaflet_pos||new it(0,0)}var Ss,zi,Po;if("onselectstart"in document)Ss=function(){Et(window,"selectstart",ye)},zi=function(){Wt(window,"selectstart",ye)};else{var Ts=xa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ss=function(){if(Ts){var r=document.documentElement.style;Po=r[Ts],r[Ts]="none"}},zi=function(){Ts&&(document.documentElement.style[Ts]=Po,Po=void 0)}}function br(){Et(window,"dragstart",ye)}function Sa(){Wt(window,"dragstart",ye)}var wr,Bo;function Es(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(ci(),wr=r,Bo=r.style.outlineStyle,r.style.outlineStyle="none",Et(window,"keydown",ci))}function ci(){wr&&(wr.style.outlineStyle=Bo,wr=void 0,Bo=void 0,Wt(window,"keydown",ci))}function xr(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Ta(r){var c=r.getBoundingClientRect();return{x:c.width/r.offsetWidth||1,y:c.height/r.offsetHeight||1,boundingClientRect:c}}var Os={__proto__:null,TRANSFORM:_n,TRANSITION:ba,TRANSITION_END:Do,get:No,getStyle:wa,create:jt,remove:te,empty:ui,toFront:je,toBack:Vn,hasClass:jo,addClass:Ct,removeClass:pe,setClass:xs,getClass:yr,setOpacity:ue,testProp:xa,setTransform:Qi,setPosition:ae,getPosition:vn,get disableTextSelection(){return Ss},get enableTextSelection(){return zi},disableImageDrag:br,enableImageDrag:Sa,preventOutline:Es,restoreOutline:ci,getSizedParentNode:xr,getScale:Ta};function Et(r,c,m,y){if(c&&typeof c=="object")for(var x in c)Ei(r,x,c[x],m);else{c=k(c);for(var A=0,N=c.length;A<N;A++)Ei(r,c[A],m,y)}return this}var Ti="_leaflet_events";function Wt(r,c,m,y){if(arguments.length===1)Uo(r),delete r[Ti];else if(c&&typeof c=="object")for(var x in c)Ea(r,x,c[x],m);else if(c=k(c),arguments.length===2)Uo(r,function(q){return W(c,q)!==-1});else for(var A=0,N=c.length;A<N;A++)Ea(r,c[A],m,y);return this}function Uo(r,c){for(var m in r[Ti]){var y=m.split(/\d/)[0];(!c||c(y))&&Ea(r,y,null,null,m)}}var $n={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ei(r,c,m,y){var x=c+p(m)+(y?"_"+p(y):"");if(r[Ti]&&r[Ti][x])return this;var A=function(q){return m.call(y||r,q||window.event)},N=A;!pt.touchNative&&pt.pointer&&c.indexOf("touch")===0?A=Kh(r,c,A):pt.touch&&c==="dblclick"?A=Cu(r,A):"addEventListener"in r?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?r.addEventListener($n[c]||c,A,pt.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(A=function(q){q=q||window.event,tn(r,q)&&N(q)},r.addEventListener($n[c],A,!1)):r.addEventListener(c,N,!1):r.attachEvent("on"+c,A),r[Ti]=r[Ti]||{},r[Ti][x]=A}function Ea(r,c,m,y,x){x=x||c+p(m)+(y?"_"+p(y):"");var A=r[Ti]&&r[Ti][x];if(!A)return this;!pt.touchNative&&pt.pointer&&c.indexOf("touch")===0?Ou(r,c,A):pt.touch&&c==="dblclick"?Zn(r,A):"removeEventListener"in r?r.removeEventListener($n[c]||c,A,!1):r.detachEvent("on"+c,A),r[Ti][x]=null}function Oi(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Pi(r){return Ei(r,"wheel",Oi),this}function Gn(r){return Et(r,"mousedown touchstart dblclick contextmenu",Oi),r._leaflet_disable_click=!0,this}function ye(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function yn(r){return ye(r),Oi(r),this}function Oa(r){if(r.composedPath)return r.composedPath();for(var c=[],m=r.target;m;)c.push(m),m=m.parentNode;return c}function Aa(r,c){if(!c)return new it(r.clientX,r.clientY);var m=Ta(c),y=m.boundingClientRect;return new it((r.clientX-y.left)/m.x-c.clientLeft,(r.clientY-y.top)/m.y-c.clientTop)}var Ru=pt.linux&&pt.chrome?window.devicePixelRatio:pt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $e(r){return pt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Ru:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function tn(r,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==r;)m=m.parentNode}catch{return!1}return m!==r}var Sr={__proto__:null,on:Et,off:Wt,stopPropagation:Oi,disableScrollPropagation:Pi,disableClickPropagation:Gn,preventDefault:ye,stop:yn,getPropagationPath:Oa,getMousePosition:Aa,getWheelDelta:$e,isExternalTarget:tn,addListener:Et,removeListener:Wt},As=nt.extend({run:function(r,c,m,y){this.stop(),this._el=r,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=vn(r),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=bt(this._animate,this),this._step()},_step:function(r){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),r):(this._runFrame(1),this._complete())},_runFrame:function(r,c){var m=this._startPos.add(this._offset.multiplyBy(r));c&&m._round(),ae(this._el,m),this.fire("step")},_complete:function(){gt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Ut=nt.extend({options:{crs:fr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,c){c=R(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(ut(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ba&&pt.any3d&&!pt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Et(this._proxy,Do,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),r=this._limitCenter(ut(r),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=l({animate:m.animate},m.zoom),m.pan=l({animate:m.animate,duration:m.duration},m.pan));var y=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,c,m.zoom):this._tryAnimatedPan(r,m.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(r,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(r,c){return this._loaded?this.setView(this.getCenter(),r,{zoom:c}):(this._zoom=r,this)},zoomIn:function(r,c){return r=r||(pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,c)},zoomOut:function(r,c){return r=r||(pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,c)},setZoomAround:function(r,c,m){var y=this.getZoomScale(c),x=this.getSize().divideBy(2),A=r instanceof it?r:this.latLngToContainerPoint(r),N=A.subtract(x).multiplyBy(1-1/y),q=this.containerPointToLatLng(x.add(N));return this.setView(q,c,{zoom:m})},_getBoundsCenterZoom:function(r,c){c=c||{},r=r.getBounds?r.getBounds():ot(r);var m=ct(c.paddingTopLeft||c.padding||[0,0]),y=ct(c.paddingBottomRight||c.padding||[0,0]),x=this.getBoundsZoom(r,!1,m.add(y));if(x=typeof c.maxZoom=="number"?Math.min(c.maxZoom,x):x,x===1/0)return{center:r.getCenter(),zoom:x};var A=y.subtract(m).divideBy(2),N=this.project(r.getSouthWest(),x),q=this.project(r.getNorthEast(),x),G=this.unproject(N.add(q).divideBy(2).add(A),x);return{center:G,zoom:x}},fitBounds:function(r,c){if(r=ot(r),!r.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(r,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,c){return this.setView(r,this._zoom,{pan:c})},panBy:function(r,c){if(r=ct(r).round(),c=c||{},!r.x&&!r.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new As,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Ct(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,c,m){if(m=m||{},m.animate===!1||!pt.any3d)return this.setView(r,c,m);this._stop();var y=this.project(this.getCenter()),x=this.project(r),A=this.getSize(),N=this._zoom;r=ut(r),c=c===void 0?N:c;var q=Math.max(A.x,A.y),G=q*this.getZoomScale(N,c),Q=x.distanceTo(y)||1,lt=1.42,_t=lt*lt;function Mt(_e){var an=_e?-1:1,Kn=_e?G:q,tl=G*G-q*q+an*_t*_t*Q*Q,Za=2*Kn*_t*Q,Va=tl/Za,Cn=Math.sqrt(Va*Va+1)-Va,rn=Cn<1e-9?-18:Math.log(Cn);return rn}function ze(_e){return(Math.exp(_e)-Math.exp(-_e))/2}function be(_e){return(Math.exp(_e)+Math.exp(-_e))/2}function ri(_e){return ze(_e)/be(_e)}var Zt=Mt(0);function Vt(_e){return q*(be(Zt)/be(Zt+lt*_e))}function zt(_e){return q*(be(Zt)*ri(Zt+lt*_e)-ze(Zt))/_t}function On(_e){return 1-Math.pow(1-_e,1.5)}var mi=Date.now(),Pr=(Mt(1)-Zt)/lt,An=m.duration?1e3*m.duration:1e3*Pr*.8;function Qo(){var _e=(Date.now()-mi)/An,an=On(_e)*Pr;_e<=1?(this._flyToFrame=bt(Qo,this),this._move(this.unproject(y.add(x.subtract(y).multiplyBy(zt(an)/Q)),N),this.getScaleZoom(q/Vt(an),N),{flyTo:!0})):this._move(r,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Qo.call(this),this},flyToBounds:function(r,c){var m=this._getBoundsCenterZoom(r,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(r){return r=ot(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var c=this.options.minZoom;return this.options.minZoom=r,this._loaded&&c!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var c=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&c!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,c){this._enforcingBounds=!0;var m=this.getCenter(),y=this._limitCenter(m,this._zoom,ot(r));return m.equals(y)||this.panTo(y,c),this._enforcingBounds=!1,this},panInside:function(r,c){c=c||{};var m=ct(c.paddingTopLeft||c.padding||[0,0]),y=ct(c.paddingBottomRight||c.padding||[0,0]),x=this.project(this.getCenter()),A=this.project(r),N=this.getPixelBounds(),q=K([N.min.add(m),N.max.subtract(y)]),G=q.getSize();if(!q.contains(A)){this._enforcingBounds=!0;var Q=A.subtract(q.getCenter()),lt=q.extend(A).getSize().subtract(G);x.x+=Q.x<0?-lt.x:lt.x,x.y+=Q.y<0?-lt.y:lt.y,this.panTo(this.unproject(x),c),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=l({animate:!1,pan:!0},r===!0?{animate:!0}:r);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),y=c.divideBy(2).round(),x=m.divideBy(2).round(),A=y.subtract(x);return!A.x&&!A.y?this:(r.animate&&r.pan?this.panBy(A):(r.pan&&this._rawPanBy(A),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=l({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=d(this._handleGeolocationResponse,this),m=d(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,r):navigator.geolocation.getCurrentPosition(c,m,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var c=r.code,m=r.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var c=r.coords.latitude,m=r.coords.longitude,y=new ht(c,m),x=y.toBounds(r.coords.accuracy*2),A=this._locateOptions;if(A.setView){var N=this.getBoundsZoom(x);this.setView(y,A.maxZoom?Math.min(N,A.maxZoom):N)}var q={latlng:y,bounds:x,timestamp:r.timestamp};for(var G in r.coords)typeof r.coords[G]=="number"&&(q[G]=r.coords[G]);this.fire("locationfound",q)}},addHandler:function(r,c){if(!c)return this;var m=this[r]=new c(this);return this._handlers.push(m),this.options[r]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),te(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(gt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)te(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,c){var m="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),y=jt("div",m,c||this._mapPane);return r&&(this._panes[r]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),c=this.unproject(r.getBottomLeft()),m=this.unproject(r.getTopRight());return new rt(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,c,m){r=ot(r),m=ct(m||[0,0]);var y=this.getZoom()||0,x=this.getMinZoom(),A=this.getMaxZoom(),N=r.getNorthWest(),q=r.getSouthEast(),G=this.getSize().subtract(m),Q=K(this.project(q,y),this.project(N,y)).getSize(),lt=pt.any3d?this.options.zoomSnap:1,_t=G.x/Q.x,Mt=G.y/Q.y,ze=c?Math.max(_t,Mt):Math.min(_t,Mt);return y=this.getScaleZoom(ze,y),lt&&(y=Math.round(y/(lt/100))*(lt/100),y=c?Math.ceil(y/lt)*lt:Math.floor(y/lt)*lt),Math.max(x,Math.min(A,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new it(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,c){var m=this._getTopLeftPoint(r,c);return new z(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(r)/m.scale(c)},getScaleZoom:function(r,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var y=m.zoom(r*m.scale(c));return isNaN(y)?1/0:y},project:function(r,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(ut(r),c)},unproject:function(r,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(ct(r),c)},layerPointToLatLng:function(r){var c=ct(r).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(r){var c=this.project(ut(r))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(ut(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(ot(r))},distance:function(r,c){return this.options.crs.distance(ut(r),ut(c))},containerPointToLayerPoint:function(r){return ct(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return ct(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var c=this.containerPointToLayerPoint(ct(r));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ut(r)))},mouseEventToContainerPoint:function(r){return Aa(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var c=this._container=No(r);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Et(c,"scroll",this._onScroll,this),this._containerId=p(c)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&pt.any3d,Ct(r,"leaflet-container"+(pt.touch?" leaflet-touch":"")+(pt.retina?" leaflet-retina":"")+(pt.ielt9?" leaflet-oldie":"")+(pt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=wa(r,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ae(this._mapPane,new it(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ct(r.markerPane,"leaflet-zoom-hide"),Ct(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,c,m){ae(this._mapPane,new it(0,0));var y=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var x=this._zoom!==c;this._moveStart(x,m)._move(r,c)._moveEnd(x),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(r,c){return r&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(r,c,m,y){c===void 0&&(c=this._zoom);var x=this._zoom!==c;return this._zoom=c,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),y?m&&m.pinch&&this.fire("zoom",m):((x||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return gt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){ae(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[p(this._container)]=this;var c=r?Wt:Et;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),pt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){gt(this._resizeRequest),this._resizeRequest=bt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,c){for(var m=[],y,x=c==="mouseout"||c==="mouseover",A=r.target||r.srcElement,N=!1;A;){if(y=this._targets[p(A)],y&&(c==="click"||c==="preclick")&&this._draggableMoved(y)){N=!0;break}if(y&&y.listens(c,!0)&&(x&&!tn(A,r)||(m.push(y),x))||A===this._container)break;A=A.parentNode}return!m.length&&!N&&!x&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var c=r.target||r.srcElement;if(!(!this._loaded||c._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(c))){var m=r.type;m==="mousedown"&&Es(c),this._fireDOMEvent(r,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,c,m){if(r.type==="click"){var y=l({},r);y.type="preclick",this._fireDOMEvent(y,y.type,m)}var x=this._findEventTargets(r,c);if(m){for(var A=[],N=0;N<m.length;N++)m[N].listens(c,!0)&&A.push(m[N]);x=A.concat(x)}if(x.length){c==="contextmenu"&&ye(r);var q=x[0],G={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Q=q.getLatLng&&(!q._radius||q._radius<=10);G.containerPoint=Q?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(r),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=Q?q.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(N=0;N<x.length;N++)if(x[N].fire(c,G,!0),G.originalEvent._stopped||x[N].options.bubblingMouseEvents===!1&&W(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,c=this._handlers.length;r<c;r++)this._handlers[r].disable()},whenReady:function(r,c){return this._loaded?r.call(c||this,{target:this}):this.on("load",r,c),this},_getMapPanePos:function(){return vn(this._mapPane)||new it(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,c){var m=r&&c!==void 0?this._getNewPixelOrigin(r,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,c){var m=this.getSize()._divideBy(2);return this.project(r,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,c,m){var y=this._getNewPixelOrigin(m,c);return this.project(r,c)._subtract(y)},_latLngBoundsToNewLayerBounds:function(r,c,m){var y=this._getNewPixelOrigin(m,c);return K([this.project(r.getSouthWest(),c)._subtract(y),this.project(r.getNorthWest(),c)._subtract(y),this.project(r.getSouthEast(),c)._subtract(y),this.project(r.getNorthEast(),c)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,c,m){if(!m)return r;var y=this.project(r,c),x=this.getSize().divideBy(2),A=new z(y.subtract(x),y.add(x)),N=this._getBoundsOffset(A,m,c);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?r:this.unproject(y.add(N),c)},_limitOffset:function(r,c){if(!c)return r;var m=this.getPixelBounds(),y=new z(m.min.add(r),m.max.add(r));return r.add(this._getBoundsOffset(y,c))},_getBoundsOffset:function(r,c,m){var y=K(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),x=y.min.subtract(r.min),A=y.max.subtract(r.max),N=this._rebound(x.x,-A.x),q=this._rebound(x.y,-A.y);return new it(N,q)},_rebound:function(r,c){return r+c>0?Math.round(r-c)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(c))},_limitZoom:function(r){var c=this.getMinZoom(),m=this.getMaxZoom(),y=pt.any3d?this.options.zoomSnap:1;return y&&(r=Math.round(r/y)*y),Math.max(c,Math.min(m,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,c){var m=this._getCenterOffset(r)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var r=this._proxy=jt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(c){var m=_n,y=this._proxy.style[m];Qi(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),y===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){te(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),c=this.getZoom();Qi(this._proxy,this.project(r,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(c),x=this._getCenterOffset(r)._divideBy(1-1/y);return m.animate!==!0&&!this.getSize().contains(x)?!1:(bt(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(r,c,!0)},this),!0)},_animateZoom:function(r,c,m,y){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=c,Ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:c,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ho(r,c){return new Ut(r,c)}var ai=qt.extend({options:{position:"topright"},initialize:function(r){R(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var c=this._map;return c&&c.removeControl(this),this.options.position=r,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var c=this._container=this.onAdd(r),m=this.getPosition(),y=r._controlCorners[m];return Ct(c,"leaflet-control"),m.indexOf("bottom")!==-1?y.insertBefore(c,y.firstChild):y.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(te(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),en=function(r){return new ai(r)};Ut.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},c="leaflet-",m=this._controlContainer=jt("div",c+"control-container",this._container);function y(x,A){var N=c+x+" "+c+A;r[x+A]=jt("div",N,m)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)te(this._controlCorners[r]);te(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ca=ai.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,c,m,y){return m<y?-1:y<m?1:0}},initialize:function(r,c,m){R(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in r)this._addLayer(r[y],y);for(y in c)this._addLayer(c[y],y,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return ai.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,c){return this._addLayer(r,c),this._map?this._update():this},addOverlay:function(r,c){return this._addLayer(r,c,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var c=this._getLayer(p(r));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",c=this._container=jt("div",r),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Gn(c),Pi(c);var y=this._section=jt("section",r+"-list");m&&(this._map.on("click",this.collapse,this),Et(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=jt("a",r+"-toggle",c);x.href="#",x.title="Layers",x.setAttribute("role","button"),Et(x,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){ye(A),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=jt("div",r+"-base",y),this._separator=jt("div",r+"-separator",y),this._overlaysList=jt("div",r+"-overlays",y),c.appendChild(y)},_getLayer:function(r){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&p(this._layers[c].layer)===r)return this._layers[c]},_addLayer:function(r,c,m){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(d(function(y,x){return this.options.sortFunction(y.layer,x.layer,y.name,x.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ui(this._baseLayersList),ui(this._overlaysList),this._layerControlInputs=[];var r,c,m,y,x=0;for(m=0;m<this._layers.length;m++)y=this._layers[m],this._addItem(y),c=c||y.overlay,r=r||!y.overlay,x+=y.overlay?0:1;return this.options.hideSingleBase&&(r=r&&x>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=c&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var c=this._getLayer(p(r.target)),m=c.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(r,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(c?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=m,y.firstChild},_addItem:function(r){var c=document.createElement("label"),m=this._map.hasLayer(r.layer),y;r.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=m):y=this._createRadioElement("leaflet-base-layers_"+p(this),m),this._layerControlInputs.push(y),y.layerId=p(r.layer),Et(y,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+r.name;var A=document.createElement("span");c.appendChild(A),A.appendChild(y),A.appendChild(x);var N=r.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,c,m,y=[],x=[];this._handlingClick=!0;for(var A=r.length-1;A>=0;A--)c=r[A],m=this._getLayer(c.layerId).layer,c.checked?y.push(m):c.checked||x.push(m);for(A=0;A<x.length;A++)this._map.hasLayer(x[A])&&this._map.removeLayer(x[A]);for(A=0;A<y.length;A++)this._map.hasLayer(y[A])||this._map.addLayer(y[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,c,m,y=this._map.getZoom(),x=r.length-1;x>=0;x--)c=r[x],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&y<m.options.minZoom||m.options.maxZoom!==void 0&&y>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Et(r,"click",ye),this.expand();var c=this;setTimeout(function(){Wt(r,"click",ye),c._preventClick=!1})}}),Lu=function(r,c,m){return new Ca(r,c,m)},Io=ai.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var c="leaflet-control-zoom",m=jt("div",c+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,c,m,y,x){var A=jt("a",m,y);return A.innerHTML=r,A.href="#",A.title=c,A.setAttribute("role","button"),A.setAttribute("aria-label",c),Gn(A),Et(A,"click",yn),Et(A,"click",x,this),Et(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var r=this._map,c="leaflet-disabled";pe(this._zoomInButton,c),pe(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ct(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ct(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ut.mergeOptions({zoomControl:!0}),Ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Io,this.addControl(this.zoomControl))});var Xh=function(r){return new Io(r)},ku=ai.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var c="leaflet-control-scale",m=jt("div",c),y=this.options;return this._addScales(y,c+"-line",m),r.on(y.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),m},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,c,m){r.metric&&(this._mScale=jt("div",c,m)),r.imperial&&(this._iScale=jt("div",c,m))},_update:function(){var r=this._map,c=r.getSize().y/2,m=r.distance(r.containerPointToLatLng([0,c]),r.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var c=this._getRoundNum(r),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/r)},_updateImperial:function(r){var c=r*3.2808399,m,y,x;c>5280?(m=c/5280,y=this._getRoundNum(m),this._updateScale(this._iScale,y+" mi",y/m)):(x=this._getRoundNum(c),this._updateScale(this._iScale,x+" ft",x/c))},_updateScale:function(r,c,m){r.style.width=Math.round(this.options.maxWidth*m)+"px",r.innerHTML=c},_getRoundNum:function(r){var c=Math.pow(10,(Math.floor(r)+"").length-1),m=r/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),qo=function(r){return new ku(r)},Jh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Zo=ai.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(pt.inlineSvg?Jh+" ":"")+"Leaflet</a>"},initialize:function(r){R(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=jt("div","leaflet-control-attribution"),Gn(this._container);for(var c in r._layers)r._layers[c].getAttribution&&this.addAttribution(r._layers[c].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var c in this._attributions)this._attributions[c]&&r.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),r.length&&m.push(r.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Ut.mergeOptions({attributionControl:!0}),Ut.addInitHook(function(){this.options.attributionControl&&new Zo().addTo(this)});var Qh=function(r){return new Zo(r)};ai.Layers=Ca,ai.Zoom=Io,ai.Scale=ku,ai.Attribution=Zo,en.layers=Lu,en.zoom=Xh,en.scale=qo,en.attribution=Qh;var Bi=qt.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Bi.addTo=function(r,c){return r.addHandler(c,this),this};var td={Events:Z},Vo=pt.touch?"touchstart mousedown":"mousedown",bn=nt.extend({options:{clickTolerance:3},initialize:function(r,c,m,y){R(this,y),this._element=r,this._dragStartTarget=c||r,this._preventOutline=m},enable:function(){this._enabled||(Et(this._dragStartTarget,Vo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bn._dragging===this&&this.finishDrag(!0),Wt(this._dragStartTarget,Vo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!jo(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){bn._dragging===this&&this.finishDrag();return}if(!(bn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(bn._dragging=this,this._preventOutline&&Es(this._element),br(),Ss(),!this._moving)){this.fire("down");var c=r.touches?r.touches[0]:r,m=xr(this._element);this._startPoint=new it(c.clientX,c.clientY),this._startPos=vn(this._element),this._parentScale=Ta(m);var y=r.type==="mousedown";Et(document,y?"mousemove":"touchmove",this._onMove,this),Et(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var c=r.touches&&r.touches.length===1?r.touches[0]:r,m=new it(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,ye(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ct(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),ae(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){pe(document.body,"leaflet-dragging"),this._lastTarget&&(pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Wt(document,"mousemove touchmove",this._onMove,this),Wt(document,"mouseup touchend touchcancel",this._onUp,this),Sa(),zi();var c=this._moved&&this._moving;this._moving=!1,bn._dragging=!1,c&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Mu(r,c,m){var y,x=[1,4,2,8],A,N,q,G,Q,lt,_t,Mt;for(A=0,lt=r.length;A<lt;A++)r[A]._code=Yn(r[A],c);for(q=0;q<4;q++){for(_t=x[q],y=[],A=0,lt=r.length,N=lt-1;A<lt;N=A++)G=r[A],Q=r[N],G._code&_t?Q._code&_t||(Mt=Tr(Q,G,_t,c,m),Mt._code=Yn(Mt,c),y.push(Mt)):(Q._code&_t&&(Mt=Tr(Q,G,_t,c,m),Mt._code=Yn(Mt,c),y.push(Mt)),y.push(G));r=y}return r}function Du(r,c){var m,y,x,A,N,q,G,Q,lt;if(!r||r.length===0)throw new Error("latlngs not passed");hi(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var _t=ut([0,0]),Mt=ot(r),ze=Mt.getNorthWest().distanceTo(Mt.getSouthWest())*Mt.getNorthEast().distanceTo(Mt.getNorthWest());ze<1700&&(_t=$o(r));var be=r.length,ri=[];for(m=0;m<be;m++){var Zt=ut(r[m]);ri.push(c.project(ut([Zt.lat-_t.lat,Zt.lng-_t.lng])))}for(q=G=Q=0,m=0,y=be-1;m<be;y=m++)x=ri[m],A=ri[y],N=x.y*A.x-A.y*x.x,G+=(x.x+A.x)*N,Q+=(x.y+A.y)*N,q+=N*3;q===0?lt=ri[0]:lt=[G/q,Q/q];var Vt=c.unproject(ct(lt));return ut([Vt.lat+_t.lat,Vt.lng+_t.lng])}function $o(r){for(var c=0,m=0,y=0,x=0;x<r.length;x++){var A=ut(r[x]);c+=A.lat,m+=A.lng,y++}return ut([c/y,m/y])}var Go={__proto__:null,clipPolygon:Mu,polygonCenter:Du,centroid:$o};function Nu(r,c){if(!c||!r.length)return r.slice();var m=c*c;return r=id(r,m),r=zu(r,m),r}function ju(r,c,m){return Math.sqrt(Ra(r,c,m,!0))}function ed(r,c,m){return Ra(r,c,m)}function zu(r,c){var m=r.length,y=typeof Uint8Array<"u"?Uint8Array:Array,x=new y(m);x[0]=x[m-1]=1,Yo(r,x,c,0,m-1);var A,N=[];for(A=0;A<m;A++)x[A]&&N.push(r[A]);return N}function Yo(r,c,m,y,x){var A=0,N,q,G;for(q=y+1;q<=x-1;q++)G=Ra(r[q],r[y],r[x],!0),G>A&&(N=q,A=G);A>m&&(c[N]=1,Yo(r,c,m,y,N),Yo(r,c,m,N,x))}function id(r,c){for(var m=[r[0]],y=1,x=0,A=r.length;y<A;y++)nd(r[y],r[x])>c&&(m.push(r[y]),x=y);return x<A-1&&m.push(r[A-1]),m}var Pu;function Bu(r,c,m,y,x){var A=y?Pu:Yn(r,m),N=Yn(c,m),q,G,Q;for(Pu=N;;){if(!(A|N))return[r,c];if(A&N)return!1;q=A||N,G=Tr(r,c,q,m,x),Q=Yn(G,m),q===A?(r=G,A=Q):(c=G,N=Q)}}function Tr(r,c,m,y,x){var A=c.x-r.x,N=c.y-r.y,q=y.min,G=y.max,Q,lt;return m&8?(Q=r.x+A*(G.y-r.y)/N,lt=G.y):m&4?(Q=r.x+A*(q.y-r.y)/N,lt=q.y):m&2?(Q=G.x,lt=r.y+N*(G.x-r.x)/A):m&1&&(Q=q.x,lt=r.y+N*(q.x-r.x)/A),new it(Q,lt,x)}function Yn(r,c){var m=0;return r.x<c.min.x?m|=1:r.x>c.max.x&&(m|=2),r.y<c.min.y?m|=4:r.y>c.max.y&&(m|=8),m}function nd(r,c){var m=c.x-r.x,y=c.y-r.y;return m*m+y*y}function Ra(r,c,m,y){var x=c.x,A=c.y,N=m.x-x,q=m.y-A,G=N*N+q*q,Q;return G>0&&(Q=((r.x-x)*N+(r.y-A)*q)/G,Q>1?(x=m.x,A=m.y):Q>0&&(x+=N*Q,A+=q*Q)),N=r.x-x,q=r.y-A,y?N*N+q*q:new it(x,A)}function hi(r){return!U(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Er(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hi(r)}function Cs(r,c){var m,y,x,A,N,q,G,Q;if(!r||r.length===0)throw new Error("latlngs not passed");hi(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var lt=ut([0,0]),_t=ot(r),Mt=_t.getNorthWest().distanceTo(_t.getSouthWest())*_t.getNorthEast().distanceTo(_t.getNorthWest());Mt<1700&&(lt=$o(r));var ze=r.length,be=[];for(m=0;m<ze;m++){var ri=ut(r[m]);be.push(c.project(ut([ri.lat-lt.lat,ri.lng-lt.lng])))}for(m=0,y=0;m<ze-1;m++)y+=be[m].distanceTo(be[m+1])/2;if(y===0)Q=be[0];else for(m=0,A=0;m<ze-1;m++)if(N=be[m],q=be[m+1],x=N.distanceTo(q),A+=x,A>y){G=(A-y)/x,Q=[q.x-G*(q.x-N.x),q.y-G*(q.y-N.y)];break}var Zt=c.unproject(ct(Q));return ut([Zt.lat+lt.lat,Zt.lng+lt.lng])}var sd={__proto__:null,simplify:Nu,pointToSegmentDistance:ju,closestPointOnSegment:ed,clipSegment:Bu,_getEdgeIntersection:Tr,_getBitCode:Yn,_sqClosestPointOnSegment:Ra,isFlat:hi,_flat:Er,polylineCenter:Cs},Or={project:function(r){return new it(r.lng,r.lat)},unproject:function(r){return new ht(r.y,r.x)},bounds:new z([-180,-90],[180,90])},Ar={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var c=Math.PI/180,m=this.R,y=r.lat*c,x=this.R_MINOR/m,A=Math.sqrt(1-x*x),N=A*Math.sin(y),q=Math.tan(Math.PI/4-y/2)/Math.pow((1-N)/(1+N),A/2);return y=-m*Math.log(Math.max(q,1e-10)),new it(r.lng*c*m,y)},unproject:function(r){for(var c=180/Math.PI,m=this.R,y=this.R_MINOR/m,x=Math.sqrt(1-y*y),A=Math.exp(-r.y/m),N=Math.PI/2-2*Math.atan(A),q=0,G=.1,Q;q<15&&Math.abs(G)>1e-7;q++)Q=x*Math.sin(N),Q=Math.pow((1-Q)/(1+Q),x/2),G=Math.PI/2-2*Math.atan(A*Q)-N,N+=G;return new ht(N*c,r.x*c/m)}},Uu={__proto__:null,LonLat:Or,Mercator:Ar,SphericalMercator:zn},Hu=l({},fe,{code:"EPSG:3395",projection:Ar,transformation:(function(){var r=.5/(Math.PI*Ar.R);return Pn(r,.5,-r,.5)})()}),Fo=l({},fe,{code:"EPSG:4326",projection:Or,transformation:Pn(1/180,1,-1/180,.5)}),Rs=l({},Nt,{projection:Or,transformation:Pn(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,c){var m=c.lng-r.lng,y=c.lat-r.lat;return Math.sqrt(m*m+y*y)},infinite:!0});Nt.Earth=fe,Nt.EPSG3395=Hu,Nt.EPSG3857=fr,Nt.EPSG900913=Bn,Nt.EPSG4326=Fo,Nt.Simple=Rs;var Ai=nt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[p(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[p(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var c=r.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Ut.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var c=p(r);return this._layers[c]?this:(this._layers[c]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var c=p(r);return this._layers[c]?(this._loaded&&r.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return p(r)in this._layers},eachLayer:function(r,c){for(var m in this._layers)r.call(c,this._layers[m]);return this},_addLayers:function(r){r=r?U(r)?r:[r]:[];for(var c=0,m=r.length;c<m;c++)this.addLayer(r[c])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[p(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var c=p(r);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,c=-1/0,m=this._getZoomSpan();for(var y in this._zoomBoundLayers){var x=this._zoomBoundLayers[y].options;r=x.minZoom===void 0?r:Math.min(r,x.minZoom),c=x.maxZoom===void 0?c:Math.max(c,x.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=r===1/0?void 0:r,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ls=Ai.extend({initialize:function(r,c){R(this,c),this._layers={};var m,y;if(r)for(m=0,y=r.length;m<y;m++)this.addLayer(r[m])},addLayer:function(r){var c=this.getLayerId(r);return this._layers[c]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var c=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(r){var c=typeof r=="number"?r:this.getLayerId(r);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var c=Array.prototype.slice.call(arguments,1),m,y;for(m in this._layers)y=this._layers[m],y[r]&&y[r].apply(y,c);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,c){for(var m in this._layers)r.call(c,this._layers[m]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return p(r)}}),ad=function(r,c){return new Ls(r,c)},Ui=Ls.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Ls.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Ls.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new rt;for(var c in this._layers){var m=this._layers[c];r.extend(m.getBounds?m.getBounds():m.getLatLng())}return r}}),Iu=function(r,c){return new Ui(r,c)},Hi=qt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){R(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,c){var m=this._getIconUrl(r);if(!m){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(y,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(r,c){var m=this.options,y=m[c+"Size"];typeof y=="number"&&(y=[y,y]);var x=ct(y),A=ct(c==="shadow"&&m.shadowAnchor||m.iconAnchor||x&&x.divideBy(2,!0));r.className="leaflet-marker-"+c+" "+(m.className||""),A&&(r.style.marginLeft=-A.x+"px",r.style.marginTop=-A.y+"px"),x&&(r.style.width=x.x+"px",r.style.height=x.y+"px")},_createImg:function(r,c){return c=c||document.createElement("img"),c.src=r,c},_getIconUrl:function(r){return pt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function La(r){return new Hi(r)}var ka=Hi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof ka.imagePath!="string"&&(ka.imagePath=this._detectIconPath()),(this.options.imagePath||ka.imagePath)+Hi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var c=function(m,y,x){var A=y.exec(m);return A&&A[x]};return r=c(r,/^url\((['"])?(.+)\1\)$/,2),r&&c(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=jt("div","leaflet-default-icon-path",document.body),c=wa(r,"background-image")||wa(r,"backgroundImage");if(document.body.removeChild(r),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Ma=Bi.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new bn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ct(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var c=this._marker,m=c._map,y=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,A=vn(c._icon),N=m.getPixelBounds(),q=m.getPixelOrigin(),G=K(N.min._subtract(q).add(x),N.max._subtract(q).subtract(x));if(!G.contains(A)){var Q=ct((Math.max(G.max.x,A.x)-G.max.x)/(N.max.x-G.max.x)-(Math.min(G.min.x,A.x)-G.min.x)/(N.min.x-G.min.x),(Math.max(G.max.y,A.y)-G.max.y)/(N.max.y-G.max.y)-(Math.min(G.min.y,A.y)-G.min.y)/(N.min.y-G.min.y)).multiplyBy(y);m.panBy(Q,{animate:!1}),this._draggable._newPos._add(Q),this._draggable._startPos._add(Q),ae(c._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=bt(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(gt(this._panRequest),this._panRequest=bt(this._adjustPan.bind(this,r)))},_onDrag:function(r){var c=this._marker,m=c._shadow,y=vn(c._icon),x=c._map.layerPointToLatLng(y);m&&ae(m,y),c._latlng=x,r.latlng=x,r.oldLatLng=this._oldLatLng,c.fire("move",r).fire("drag",r)},_onDragEnd:function(r){gt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Da=Ai.extend({options:{icon:new ka,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,c){R(this,c),this._latlng=ut(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var c=this._latlng;return this._latlng=ut(r),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=r.icon.createIcon(this._icon),y=!1;m!==this._icon&&(this._icon&&this._removeIcon(),y=!0,r.title&&(m.title=r.title),m.tagName==="IMG"&&(m.alt=r.alt||"")),Ct(m,c),r.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Et(m,"focus",this._panOnFocus,this);var x=r.icon.createShadow(this._shadow),A=!1;x!==this._shadow&&(this._removeShadow(),A=!0),x&&(Ct(x,c),x.alt=""),this._shadow=x,r.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&A&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(this._icon,"focus",this._panOnFocus,this),te(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&te(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&ae(this._icon,r),this._shadow&&ae(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ma)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ma(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&ue(this._icon,r),this._shadow&&ue(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var c=this.options.icon.options,m=c.iconSize?ct(c.iconSize):ct(0,0),y=c.iconAnchor?ct(c.iconAnchor):ct(0,0);r.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:m.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qu(r,c){return new Da(r,c)}var Ii=Ai.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return R(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ks=Ii.extend({options:{fill:!0,radius:10},initialize:function(r,c){R(this,c),this._latlng=ut(r),this._radius=this.options.radius},setLatLng:function(r){var c=this._latlng;return this._latlng=ut(r),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var c=r&&r.radius||this._radius;return Ii.prototype.setStyle.call(this,r),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,c=this._radiusY||r,m=this._clickTolerance(),y=[r+m,c+m];this._pxBounds=new z(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zu(r,c){return new ks(r,c)}var Cr=ks.extend({initialize:function(r,c,m){if(typeof c=="number"&&(c=l({},m,{radius:c})),R(this,c),this._latlng=ut(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new rt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Ii.prototype.setStyle,_project:function(){var r=this._latlng.lng,c=this._latlng.lat,m=this._map,y=m.options.crs;if(y.distance===fe.distance){var x=Math.PI/180,A=this._mRadius/fe.R/x,N=m.project([c+A,r]),q=m.project([c-A,r]),G=N.add(q).divideBy(2),Q=m.unproject(G).lat,lt=Math.acos((Math.cos(A*x)-Math.sin(c*x)*Math.sin(Q*x))/(Math.cos(c*x)*Math.cos(Q*x)))/x;(isNaN(lt)||lt===0)&&(lt=A/Math.cos(Math.PI/180*c)),this._point=G.subtract(m.getPixelOrigin()),this._radius=isNaN(lt)?0:G.x-m.project([Q,r-lt]).x,this._radiusY=G.y-N.y}else{var _t=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(_t).x}this._updateBounds()}});function Vu(r,c,m){return new Cr(r,c,m)}var nn=Ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,c){R(this,c),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var c=1/0,m=null,y=Ra,x,A,N=0,q=this._parts.length;N<q;N++)for(var G=this._parts[N],Q=1,lt=G.length;Q<lt;Q++){x=G[Q-1],A=G[Q];var _t=y(r,x,A,!0);_t<c&&(c=_t,m=y(r,x,A))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,c){return c=c||this._defaultShape(),r=ut(r),c.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new rt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return hi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var c=[],m=hi(r),y=0,x=r.length;y<x;y++)m?(c[y]=ut(r[y]),this._bounds.extend(c[y])):c[y]=this._convertLatLngs(r[y]);return c},_project:function(){var r=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),c=new it(r,r);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(r,c,m){var y=r[0]instanceof ht,x=r.length,A,N;if(y){for(N=[],A=0;A<x;A++)N[A]=this._map.latLngToLayerPoint(r[A]),m.extend(N[A]);c.push(N)}else for(A=0;A<x;A++)this._projectLatlngs(r[A],c,m)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,y,x,A,N,q,G;for(m=0,x=0,A=this._rings.length;m<A;m++)for(G=this._rings[m],y=0,N=G.length;y<N-1;y++)q=Bu(G[y],G[y+1],r,y,!0),q&&(c[x]=c[x]||[],c[x].push(q[0]),(q[1]!==G[y+1]||y===N-2)&&(c[x].push(q[1]),x++))}},_simplifyPoints:function(){for(var r=this._parts,c=this.options.smoothFactor,m=0,y=r.length;m<y;m++)r[m]=Nu(r[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,c){var m,y,x,A,N,q,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(m=0,A=this._parts.length;m<A;m++)for(q=this._parts[m],y=0,N=q.length,x=N-1;y<N;x=y++)if(!(!c&&y===0)&&ju(r,q[x],q[y])<=G)return!0;return!1}});function rd(r,c){return new nn(r,c)}nn._flat=Er;var Ms=nn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Du(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var c=nn.prototype._convertLatLngs.call(this,r),m=c.length;return m>=2&&c[0]instanceof ht&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(r){nn.prototype._setLatLngs.call(this,r),hi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,c=this.options.weight,m=new it(c,c);if(r=new z(r.min.subtract(m),r.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,x=this._rings.length,A;y<x;y++)A=Mu(this._rings[y],r,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var c=!1,m,y,x,A,N,q,G,Q;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(A=0,G=this._parts.length;A<G;A++)for(m=this._parts[A],N=0,Q=m.length,q=Q-1;N<Q;q=N++)y=m[N],x=m[q],y.y>r.y!=x.y>r.y&&r.x<(x.x-y.x)*(r.y-y.y)/(x.y-y.y)+y.x&&(c=!c);return c||nn.prototype._containsPoint.call(this,r,!0)}});function od(r,c){return new Ms(r,c)}var sn=Ui.extend({initialize:function(r,c){R(this,c),this._layers={},r&&this.addData(r)},addData:function(r){var c=U(r)?r:r.features,m,y,x;if(c){for(m=0,y=c.length;m<y;m++)x=c[m],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var A=this.options;if(A.filter&&!A.filter(r))return this;var N=Ie(r,A);return N?(N.feature=kr(r),N.defaultOptions=N.options,this.resetStyle(N),A.onEachFeature&&A.onEachFeature(r,N),this.addLayer(N)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=l({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(c){this._setLayerStyle(c,r)},this)},_setLayerStyle:function(r,c){r.setStyle&&(typeof c=="function"&&(c=c(r.feature)),r.setStyle(c))}});function Ie(r,c){var m=r.type==="Feature"?r.geometry:r,y=m?m.coordinates:null,x=[],A=c&&c.pointToLayer,N=c&&c.coordsToLatLng||Rr,q,G,Q,lt;if(!y&&!m)return null;switch(m.type){case"Point":return q=N(y),Ds(A,r,q,c);case"MultiPoint":for(Q=0,lt=y.length;Q<lt;Q++)q=N(y[Q]),x.push(Ds(A,r,q,c));return new Ui(x);case"LineString":case"MultiLineString":return G=Na(y,m.type==="LineString"?0:1,N),new nn(G,c);case"Polygon":case"MultiPolygon":return G=Na(y,m.type==="Polygon"?1:2,N),new Ms(G,c);case"GeometryCollection":for(Q=0,lt=m.geometries.length;Q<lt;Q++){var _t=Ie({geometry:m.geometries[Q],type:"Feature",properties:r.properties},c);_t&&x.push(_t)}return new Ui(x);case"FeatureCollection":for(Q=0,lt=m.features.length;Q<lt;Q++){var Mt=Ie(m.features[Q],c);Mt&&x.push(Mt)}return new Ui(x);default:throw new Error("Invalid GeoJSON object.")}}function Ds(r,c,m,y){return r?r(c,m):new Da(m,y&&y.markersInheritOptions&&y)}function Rr(r){return new ht(r[1],r[0],r[2])}function Na(r,c,m){for(var y=[],x=0,A=r.length,N;x<A;x++)N=c?Na(r[x],c-1,m):(m||Rr)(r[x]),y.push(N);return y}function Lr(r,c){return r=ut(r),r.alt!==void 0?[T(r.lng,c),T(r.lat,c),T(r.alt,c)]:[T(r.lng,c),T(r.lat,c)]}function ja(r,c,m,y){for(var x=[],A=0,N=r.length;A<N;A++)x.push(c?ja(r[A],hi(r[A])?0:c-1,m,y):Lr(r[A],y));return!c&&m&&x.length>0&&x.push(x[0].slice()),x}function wn(r,c){return r.feature?l({},r.feature,{geometry:c}):kr(c)}function kr(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var xn={toGeoJSON:function(r){return wn(this,{type:"Point",coordinates:Lr(this.getLatLng(),r)})}};Da.include(xn),Cr.include(xn),ks.include(xn),nn.include({toGeoJSON:function(r){var c=!hi(this._latlngs),m=ja(this._latlngs,c?1:0,!1,r);return wn(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),Ms.include({toGeoJSON:function(r){var c=!hi(this._latlngs),m=c&&!hi(this._latlngs[0]),y=ja(this._latlngs,m?2:c?1:0,!0,r);return c||(y=[y]),wn(this,{type:(m?"Multi":"")+"Polygon",coordinates:y})}}),Ls.include({toMultiPoint:function(r){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(r).geometry.coordinates)}),wn(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(r){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(r);var m=c==="GeometryCollection",y=[];return this.eachLayer(function(x){if(x.toGeoJSON){var A=x.toGeoJSON(r);if(m)y.push(A.geometry);else{var N=kr(A);N.type==="FeatureCollection"?y.push.apply(y,N.features):y.push(N)}}}),m?wn(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Mr(r,c){return new sn(r,c)}var za=Mr,Ns=Ai.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,c,m){this._url=r,this._bounds=ot(c),R(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){te(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&je(this._image),this},bringToBack:function(){return this._map&&Vn(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=ot(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",c=this._image=r?this._url:jt("img");if(Ct(c,"leaflet-image-layer"),this._zoomAnimated&&Ct(c,"leaflet-zoom-animated"),this.options.className&&Ct(c,this.options.className),c.onselectstart=w,c.onmousemove=w,c.onload=d(this.fire,this,"load"),c.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(r){var c=this._map.getZoomScale(r.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Qi(this._image,m,c)},_reset:function(){var r=this._image,c=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();ae(r,c.min),r.style.width=m.x+"px",r.style.height=m.y+"px"},_updateOpacity:function(){ue(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),$u=function(r,c,m){return new Ns(r,c,m)},Sn=Ns.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",c=this._image=r?this._url:jt("video");if(Ct(c,"leaflet-image-layer"),this._zoomAnimated&&Ct(c,"leaflet-zoom-animated"),this.options.className&&Ct(c,this.options.className),c.onselectstart=w,c.onmousemove=w,c.onloadeddata=d(this.fire,this,"load"),r){for(var m=c.getElementsByTagName("source"),y=[],x=0;x<m.length;x++)y.push(m[x].src);this._url=m.length>0?y:[c.src];return}U(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var N=jt("source");N.src=this._url[A],c.appendChild(N)}}});function js(r,c,m){return new Sn(r,c,m)}var Dr=Ns.extend({_initImage:function(){var r=this._image=this._url;Ct(r,"leaflet-image-layer"),this._zoomAnimated&&Ct(r,"leaflet-zoom-animated"),this.options.className&&Ct(r,this.options.className),r.onselectstart=w,r.onmousemove=w}});function Gu(r,c,m){return new Dr(r,c,m)}var qe=Ai.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,c){r&&(r instanceof ht||U(r))?(this._latlng=ut(r),R(this,c)):(R(this,r),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&ue(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&ue(this._container,1),this.bringToFront(),this.options.interactive&&(Ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(ue(this._container,0),this._removeTimeout=setTimeout(d(te,void 0,this._container),200)):te(this._container),this.options.interactive&&(pe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=ut(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&je(this._container),this},bringToBack:function(){return this._map&&Vn(this._container),this},_prepareOpen:function(r){var c=this._source;if(!c._map)return!1;if(c instanceof Ui){c=null;var m=this._source._layers;for(var y in m)if(m[y]._map){c=m[y];break}if(!c)return!1;this._source=c}if(!r)if(c.getCenter)r=c.getCenter();else if(c.getLatLng)r=c.getLatLng();else if(c.getBounds)r=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")r.innerHTML=c;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),c=ct(this.options.offset),m=this._getAnchor();this._zoomAnimated?ae(this._container,r.add(m)):c=c.add(r).add(m);var y=this._containerBottom=-c.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=y+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});Ut.include({_initOverlay:function(r,c,m,y){var x=c;return x instanceof r||(x=new r(y).setContent(c)),m&&x.setLatLng(m),x}}),Ai.include({_initOverlay:function(r,c,m,y){var x=m;return x instanceof r?(R(x,y),x._source=this):(x=c&&!y?c:new r(y,this),x.setContent(m)),x}});var Pa=qe.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,qe.prototype.openOn.call(this,r)},onAdd:function(r){qe.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ii||this._source.on("preclick",Oi))},onRemove:function(r){qe.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ii||this._source.off("preclick",Oi))},getEvents:function(){var r=qe.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",c=this._container=jt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=jt("div",r+"-content-wrapper",c);if(this._contentNode=jt("div",r+"-content",m),Gn(c),Pi(this._contentNode),Et(c,"contextmenu",Oi),this._tipContainer=jt("div",r+"-tip-container",c),this._tip=jt("div",r+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=jt("a",r+"-close-button",c);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Et(y,"click",function(x){ye(x),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,c=r.style;c.width="",c.whiteSpace="nowrap";var m=r.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var y=r.offsetHeight,x=this.options.maxHeight,A="leaflet-popup-scrolled";x&&y>x?(c.height=x+"px",Ct(r,A)):pe(r,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),m=this._getAnchor();ae(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,c=parseInt(wa(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,y=this._containerWidth,x=new it(this._containerLeft,-m-this._containerBottom);x._add(vn(this._container));var A=r.layerPointToContainerPoint(x),N=ct(this.options.autoPanPadding),q=ct(this.options.autoPanPaddingTopLeft||N),G=ct(this.options.autoPanPaddingBottomRight||N),Q=r.getSize(),lt=0,_t=0;A.x+y+G.x>Q.x&&(lt=A.x+y-Q.x+G.x),A.x-lt-q.x<0&&(lt=A.x-q.x),A.y+m+G.y>Q.y&&(_t=A.y+m-Q.y+G.y),A.y-_t-q.y<0&&(_t=A.y-q.y),(lt||_t)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([lt,_t]))}},_getAnchor:function(){return ct(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Yu=function(r,c){return new Pa(r,c)};Ut.mergeOptions({closePopupOnClick:!0}),Ut.include({openPopup:function(r,c,m){return this._initOverlay(Pa,r,c,m).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Ai.include({bindPopup:function(r,c){return this._popup=this._initOverlay(Pa,this._popup,r,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Ui||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){yn(r);var c=r.layer||r.target;if(this._popup._source===c&&!(c instanceof Ii)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=c,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Ba=qe.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){qe.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){qe.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=qe.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",c=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=jt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var c,m,y=this._map,x=this._container,A=y.latLngToContainerPoint(y.getCenter()),N=y.layerPointToContainerPoint(r),q=this.options.direction,G=x.offsetWidth,Q=x.offsetHeight,lt=ct(this.options.offset),_t=this._getAnchor();q==="top"?(c=G/2,m=Q):q==="bottom"?(c=G/2,m=0):q==="center"?(c=G/2,m=Q/2):q==="right"?(c=0,m=Q/2):q==="left"?(c=G,m=Q/2):N.x<A.x?(q="right",c=0,m=Q/2):(q="left",c=G+(lt.x+_t.x)*2,m=Q/2),r=r.subtract(ct(c,m,!0)).add(lt).add(_t),pe(x,"leaflet-tooltip-right"),pe(x,"leaflet-tooltip-left"),pe(x,"leaflet-tooltip-top"),pe(x,"leaflet-tooltip-bottom"),Ct(x,"leaflet-tooltip-"+q),ae(x,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&ue(this._container,r)},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(c)},_getAnchor:function(){return ct(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ld=function(r,c){return new Ba(r,c)};Ut.include({openTooltip:function(r,c,m){return this._initOverlay(Ba,r,c,m).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Ai.include({bindTooltip:function(r,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ba,this._tooltip,r,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var c=r?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Ui||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var c=typeof r.getElement=="function"&&r.getElement();c&&(Et(c,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Et(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var c=typeof r.getElement=="function"&&r.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var c=r.latlng,m,y;this._tooltip.options.sticky&&r.originalEvent&&(m=this._map.mouseEventToContainerPoint(r.originalEvent),y=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(c)}});var Fu=Hi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var c=r&&r.tagName==="DIV"?r:document.createElement("div"),m=this.options;if(m.html instanceof Element?(ui(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var y=ct(m.bgPos);c.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function ud(r){return new Fu(r)}Hi.Default=ka;var zs=Ai.extend({options:{tileSize:256,opacity:1,updateWhenIdle:pt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){R(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),te(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(je(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof it?r:new it(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var c=this.getPane().children,m=-r(-1/0,1/0),y=0,x=c.length,A;y<x;y++)A=c[y].style.zIndex,c[y]!==this._container&&A&&(m=r(m,+A));isFinite(m)&&(this.options.zIndex=m+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!pt.ielt9){ue(this._container,this.options.opacity);var r=+new Date,c=!1,m=!1;for(var y in this._tiles){var x=this._tiles[y];if(!(!x.current||!x.loaded)){var A=Math.min(1,(r-x.loaded)/200);ue(x.el,A),A<1?c=!0:(x.active?m=!0:this._onOpaqueTile(x),x.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(gt(this._fadeFrame),this._fadeFrame=bt(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=jt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,c=this.options.maxZoom;if(r!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===r?(this._levels[m].el.style.zIndex=c-Math.abs(r-m),this._onUpdateLevel(m)):(te(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var y=this._levels[r],x=this._map;return y||(y=this._levels[r]={},y.el=jt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=c,y.origin=x.project(x.unproject(x.getPixelOrigin()),r).round(),y.zoom=r,this._setZoomTransform(y,x.getCenter(),x.getZoom()),w(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var r,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)c=this._tiles[r],c.retain=c.current;for(r in this._tiles)if(c=this._tiles[r],c.current&&!c.active){var y=c.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var c in this._tiles)this._tiles[c].coords.z===r&&this._removeTile(c)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)te(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,c,m,y){var x=Math.floor(r/2),A=Math.floor(c/2),N=m-1,q=new it(+x,+A);q.z=+N;var G=this._tileCoordsToKey(q),Q=this._tiles[G];return Q&&Q.active?(Q.retain=!0,!0):(Q&&Q.loaded&&(Q.retain=!0),N>y?this._retainParent(x,A,N,y):!1)},_retainChildren:function(r,c,m,y){for(var x=2*r;x<2*r+2;x++)for(var A=2*c;A<2*c+2;A++){var N=new it(x,A);N.z=m+1;var q=this._tileCoordsToKey(N),G=this._tiles[q];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);m+1<y&&this._retainChildren(x,A,m+1,y)}},_resetView:function(r){var c=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var c=this.options;return c.minNativeZoom!==void 0&&r<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<r?c.maxNativeZoom:r},_setView:function(r,c,m,y){var x=Math.round(c);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var A=this.options.updateWhenZooming&&x!==this._tileZoom;(!y||A)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(r),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(r,c)},_setZoomTransforms:function(r,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],r,c)},_setZoomTransform:function(r,c,m){var y=this._map.getZoomScale(m,r.zoom),x=r.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(c,m)).round();pt.any3d?Qi(r.el,x,y):ae(r.el,x)},_resetGrid:function(){var r=this._map,c=r.options.crs,m=this._tileSize=this.getTileSize(),y=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,c.wrapLng[0]],y).x/m.x),Math.ceil(r.project([0,c.wrapLng[1]],y).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([c.wrapLat[0],0],y).y/m.x),Math.ceil(r.project([c.wrapLat[1],0],y).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),y=c.getZoomScale(m,this._tileZoom),x=c.project(r,this._tileZoom).floor(),A=c.getSize().divideBy(y*2);return new z(x.subtract(A),x.add(A))},_update:function(r){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(r===void 0&&(r=c.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(r),x=this._pxBoundsToTileRange(y),A=x.getCenter(),N=[],q=this.options.keepBuffer,G=new z(x.getBottomLeft().subtract([q,-q]),x.getTopRight().add([q,-q]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Q in this._tiles){var lt=this._tiles[Q].coords;(lt.z!==this._tileZoom||!G.contains(new it(lt.x,lt.y)))&&(this._tiles[Q].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(r,m);return}for(var _t=x.min.y;_t<=x.max.y;_t++)for(var Mt=x.min.x;Mt<=x.max.x;Mt++){var ze=new it(Mt,_t);if(ze.z=this._tileZoom,!!this._isValidTile(ze)){var be=this._tiles[this._tileCoordsToKey(ze)];be?be.current=!0:N.push(ze)}}if(N.sort(function(Zt,Vt){return Zt.distanceTo(A)-Vt.distanceTo(A)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ri=document.createDocumentFragment();for(Mt=0;Mt<N.length;Mt++)this._addTile(N[Mt],ri);this._level.el.appendChild(ri)}}}},_isValidTile:function(r){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(r.x<m.min.x||r.x>m.max.x)||!c.wrapLat&&(r.y<m.min.y||r.y>m.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(r);return ot(this.options.bounds).overlaps(y)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var c=this._map,m=this.getTileSize(),y=r.scaleBy(m),x=y.add(m),A=c.unproject(y,r.z),N=c.unproject(x,r.z);return[A,N]},_tileCoordsToBounds:function(r){var c=this._tileCoordsToNwSe(r),m=new rt(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var c=r.split(":"),m=new it(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(r){var c=this._tiles[r];c&&(te(c.el),delete this._tiles[r],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ct(r,"leaflet-tile");var c=this.getTileSize();r.style.width=c.x+"px",r.style.height=c.y+"px",r.onselectstart=w,r.onmousemove=w,pt.ielt9&&this.options.opacity<1&&ue(r,this.options.opacity)},_addTile:function(r,c){var m=this._getTilePos(r),y=this._tileCoordsToKey(r),x=this.createTile(this._wrapCoords(r),d(this._tileReady,this,r));this._initTile(x),this.createTile.length<2&&bt(d(this._tileReady,this,r,null,x)),ae(x,m),this._tiles[y]={el:x,coords:r,current:!0},c.appendChild(x),this.fire("tileloadstart",{tile:x,coords:r})},_tileReady:function(r,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:r});var y=this._tileCoordsToKey(r);m=this._tiles[y],m&&(m.loaded=+new Date,this._map._fadeAnimated?(ue(m.el,0),gt(this._fadeFrame),this._fadeFrame=bt(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Ct(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),pt.ielt9||!this._map._fadeAnimated?bt(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var c=new it(this._wrapX?b(r.x,this._wrapX):r.x,this._wrapY?b(r.y,this._wrapY):r.y);return c.z=r.z,c},_pxBoundsToTileRange:function(r){var c=this.getTileSize();return new z(r.min.unscaleBy(c).floor(),r.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Wu(r){return new zs(r)}var Tn=zs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,c){this._url=r,c=R(this,c),c.detectRetina&&pt.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,c){return this._url===r&&c===void 0&&(c=!0),this._url=r,c||this.redraw(),this},createTile:function(r,c){var m=document.createElement("img");return Et(m,"load",d(this._tileOnLoad,this,c,m)),Et(m,"error",d(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(r),m},getTileUrl:function(r){var c={r:pt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-r.y;this.options.tms&&(c.y=m),c["-y"]=m}return P(this._url,l(c,this.options))},_tileOnLoad:function(r,c){pt.ielt9?setTimeout(d(r,this,null,c),0):r(null,c)},_tileOnError:function(r,c,m){var y=this.options.errorTileUrl;y&&c.getAttribute("src")!==y&&(c.src=y),r(m,c)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,y=this.options.zoomOffset;return m&&(r=c-r),r+y},_getSubdomain:function(r){var c=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var r,c;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(c=this._tiles[r].el,c.onload=w,c.onerror=w,!c.complete)){c.src=et;var m=this._tiles[r].coords;te(c),delete this._tiles[r],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(r){var c=this._tiles[r];if(c)return c.el.setAttribute("src",et),zs.prototype._removeTile.call(this,r)},_tileReady:function(r,c,m){if(!(!this._map||m&&m.getAttribute("src")===et))return zs.prototype._tileReady.call(this,r,c,m)}});function di(r,c){return new Tn(r,c)}var Ua=Tn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,c){this._url=r;var m=l({},this.defaultWmsParams);for(var y in c)y in this.options||(m[y]=c[y]);c=R(this,c);var x=c.detectRetina&&pt.retina?2:1,A=this.getTileSize();m.width=A.x*x,m.height=A.y*x,this.wmsParams=m},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Tn.prototype.onAdd.call(this,r)},getTileUrl:function(r){var c=this._tileCoordsToNwSe(r),m=this._crs,y=K(m.project(c[0]),m.project(c[1])),x=y.min,A=y.max,N=(this._wmsVersion>=1.3&&this._crs===Fo?[x.y,x.x,A.y,A.x]:[x.x,x.y,A.x,A.y]).join(","),q=Tn.prototype.getTileUrl.call(this,r);return q+M(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(r,c){return l(this.wmsParams,r),c||this.redraw(),this}});function fi(r,c){return new Ua(r,c)}Tn.WMS=Ua,di.wms=fi;var Je=Ai.extend({options:{padding:.1},initialize:function(r){R(this,r),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,c){var m=this._map.getZoomScale(c,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,c),A=y.multiplyBy(-m).add(x).subtract(this._map._getNewPixelOrigin(r,c));pt.any3d?Qi(this._container,A,m):ae(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-r)).round();this._bounds=new z(m,m.add(c.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Nr=Je.extend({options:{tolerance:0},getEvents:function(){var r=Je.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Je.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Et(r,"mousemove",this._onMouseMove,this),Et(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Et(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){gt(this._redrawRequest),delete this._ctx,te(this._container),Wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var c in this._layers)r=this._layers[c],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Je.prototype._update.call(this);var r=this._bounds,c=this._container,m=r.getSize(),y=pt.retina?2:1;ae(c,r.min),c.width=y*m.x,c.height=y*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",pt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Je.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[p(r)]=r;var c=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var c=r._order,m=c.next,y=c.prev;m?m.prev=y:this._drawLast=y,y?y.next=m:this._drawFirst=m,delete r._order,delete this._layers[p(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var c=r.options.dashArray.split(/[, ]+/),m=[],y,x;for(x=0;x<c.length;x++){if(y=Number(c[x]),isNaN(y))return;m.push(y)}r.options._dashArray=m}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||bt(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var c=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(r._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(r._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var c=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)r=y.layer,(!c||r._pxBounds&&r._pxBounds.intersects(c))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,c){if(this._drawing){var m,y,x,A,N=r._parts,q=N.length,G=this._ctx;if(q){for(G.beginPath(),m=0;m<q;m++){for(y=0,x=N[m].length;y<x;y++)A=N[m][y],G[y?"lineTo":"moveTo"](A.x,A.y);c&&G.closePath()}this._fillStroke(G,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var c=r._point,m=this._ctx,y=Math.max(Math.round(r._radius),1),x=(Math.max(Math.round(r._radiusY),1)||y)/y;x!==1&&(m.save(),m.scale(1,x)),m.beginPath(),m.arc(c.x,c.y/x,y,0,Math.PI*2,!1),x!==1&&m.restore(),this._fillStroke(m,r)}},_fillStroke:function(r,c){var m=c.options;m.fill&&(r.globalAlpha=m.fillOpacity,r.fillStyle=m.fillColor||m.color,r.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(r.setLineDash&&r.setLineDash(c.options&&c.options._dashArray||[]),r.globalAlpha=m.opacity,r.lineWidth=m.weight,r.strokeStyle=m.color,r.lineCap=m.lineCap,r.lineJoin=m.lineJoin,r.stroke())},_onClick:function(r){for(var c=this._map.mouseEventToLayerPoint(r),m,y,x=this._drawFirst;x;x=x.next)m=x.layer,m.options.interactive&&m._containsPoint(c)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(m))&&(y=m);this._fireEvent(y?[y]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,c)}},_handleMouseOut:function(r){var c=this._hoveredLayer;c&&(pe(this._container,"leaflet-interactive"),this._fireEvent([c],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,c){if(!this._mouseHoverThrottled){for(var m,y,x=this._drawFirst;x;x=x.next)m=x.layer,m.options.interactive&&m._containsPoint(c)&&(y=m);y!==this._hoveredLayer&&(this._handleMouseOut(r),y&&(Ct(this._container,"leaflet-interactive"),this._fireEvent([y],r,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,c,m){this._map._fireDOMEvent(c,m||c.type,r)},_bringToFront:function(r){var c=r._order;if(c){var m=c.next,y=c.prev;if(m)m.prev=y;else return;y?y.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(r)}},_bringToBack:function(r){var c=r._order;if(c){var m=c.next,y=c.prev;if(y)y.next=m;else return;m?m.prev=y:y&&(this._drawLast=y),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(r)}}});function Ha(r){return pt.canvas?new Nr(r):null}var En=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Wo={_initContainer:function(){this._container=jt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Je.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var c=r._container=En("shape");Ct(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",r._path=En("path"),c.appendChild(r._path),this._updateStyle(r),this._layers[p(r)]=r},_addPath:function(r){var c=r._container;this._container.appendChild(c),r.options.interactive&&r.addInteractiveTarget(c)},_removePath:function(r){var c=r._container;te(c),r.removeInteractiveTarget(c),delete this._layers[p(r)]},_updateStyle:function(r){var c=r._stroke,m=r._fill,y=r.options,x=r._container;x.stroked=!!y.stroke,x.filled=!!y.fill,y.stroke?(c||(c=r._stroke=En("stroke")),x.appendChild(c),c.weight=y.weight+"px",c.color=y.color,c.opacity=y.opacity,y.dashArray?c.dashStyle=U(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=y.lineCap.replace("butt","flat"),c.joinstyle=y.lineJoin):c&&(x.removeChild(c),r._stroke=null),y.fill?(m||(m=r._fill=En("fill")),x.appendChild(m),m.color=y.fillColor||y.color,m.opacity=y.fillOpacity):m&&(x.removeChild(m),r._fill=null)},_updateCircle:function(r){var c=r._point.round(),m=Math.round(r._radius),y=Math.round(r._radiusY||m);this._setPath(r,r._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+y+" 0,"+65535*360)},_setPath:function(r,c){r._path.v=c},_bringToFront:function(r){je(r._container)},_bringToBack:function(r){Vn(r._container)}},qi=pt.vml?En:mr,Ps=Je.extend({_initContainer:function(){this._container=qi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){te(this._container),Wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Je.prototype._update.call(this);var r=this._bounds,c=r.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),ae(m,r.min),m.setAttribute("viewBox",[r.min.x,r.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(r){var c=r._path=qi("path");r.options.className&&Ct(c,r.options.className),r.options.interactive&&Ct(c,"leaflet-interactive"),this._updateStyle(r),this._layers[p(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){te(r._path),r.removeInteractiveTarget(r._path),delete this._layers[p(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var c=r._path,m=r.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(r,c){this._setPath(r,pr(r._parts,c))},_updateCircle:function(r){var c=r._point,m=Math.max(Math.round(r._radius),1),y=Math.max(Math.round(r._radiusY),1)||m,x="a"+m+","+y+" 0 1,0 ",A=r._empty()?"M0 0":"M"+(c.x-m)+","+c.y+x+m*2+",0 "+x+-m*2+",0 ";this._setPath(r,A)},_setPath:function(r,c){r._path.setAttribute("d",c)},_bringToFront:function(r){je(r._path)},_bringToBack:function(r){Vn(r._path)}});pt.vml&&Ps.include(Wo);function Ia(r){return pt.svg||pt.vml?new Ps(r):null}Ut.include({getRenderer:function(r){var c=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var c=this._paneRenderers[r];return c===void 0&&(c=this._createRenderer({pane:r}),this._paneRenderers[r]=c),c},_createRenderer:function(r){return this.options.preferCanvas&&Ha(r)||Ia(r)}});var Fn=Ms.extend({initialize:function(r,c){Ms.prototype.initialize.call(this,this._boundsToLatLngs(r),c)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=ot(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function cd(r,c){return new Fn(r,c)}Ps.create=qi,Ps.pointsToPath=pr,sn.geometryToLayer=Ie,sn.coordsToLatLng=Rr,sn.coordsToLatLngs=Na,sn.latLngToCoords=Lr,sn.latLngsToCoords=ja,sn.getFeature=wn,sn.asFeature=kr,Ut.mergeOptions({boxZoom:!0});var Qe=Bi.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){te(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ss(),br(),this._startPoint=this._map.mouseEventToContainerPoint(r),Et(document,{contextmenu:yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=jt("div","leaflet-zoom-box",this._container),Ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var c=new z(this._point,this._startPoint),m=c.getSize();ae(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(te(this._box),pe(this._container,"leaflet-crosshair")),zi(),Sa(),Wt(document,{contextmenu:yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var c=new rt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ut.addInitHook("addHandler","boxZoom",Qe),Ut.mergeOptions({doubleClickZoom:!0});var jr=Bi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var c=this._map,m=c.getZoom(),y=c.options.zoomDelta,x=r.originalEvent.shiftKey?m-y:m+y;c.options.doubleClickZoom==="center"?c.setZoom(x):c.setZoomAround(r.containerPoint,x)}});Ut.addInitHook("addHandler","doubleClickZoom",jr),Ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Zi=Bi.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new bn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pe(this._map._container,"leaflet-grab"),pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ot(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,c){return r-(r-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;r.x<c.min.x&&(r.x=this._viscousLimit(r.x,c.min.x)),r.y<c.min.y&&(r.y=this._viscousLimit(r.y,c.min.y)),r.x>c.max.x&&(r.x=this._viscousLimit(r.x,c.max.x)),r.y>c.max.y&&(r.y=this._viscousLimit(r.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,c=Math.round(r/2),m=this._initialWorldOffset,y=this._draggable._newPos.x,x=(y-c+m)%r+c-m,A=(y+c+m)%r-c-m,N=Math.abs(x+m)<Math.abs(A+m)?x:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(r){var c=this._map,m=c.options,y=!m.inertia||r.noInertia||this._times.length<2;if(c.fire("dragend",r),y)c.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,N=m.easeLinearity,q=x.multiplyBy(N/A),G=q.distanceTo([0,0]),Q=Math.min(m.inertiaMaxSpeed,G),lt=q.multiplyBy(Q/G),_t=Q/(m.inertiaDeceleration*N),Mt=lt.multiplyBy(-_t/2).round();!Mt.x&&!Mt.y?c.fire("moveend"):(Mt=c._limitOffset(Mt,c.options.maxBounds),bt(function(){c.panBy(Mt,{duration:_t,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});Ut.addInitHook("addHandler","dragging",Zi),Ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ko=Bi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Et(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,c=document.documentElement,m=r.scrollTop||c.scrollTop,y=r.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(y,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var c=this._panKeys={},m=this.keyCodes,y,x;for(y=0,x=m.left.length;y<x;y++)c[m.left[y]]=[-1*r,0];for(y=0,x=m.right.length;y<x;y++)c[m.right[y]]=[r,0];for(y=0,x=m.down.length;y<x;y++)c[m.down[y]]=[0,r];for(y=0,x=m.up.length;y<x;y++)c[m.up[y]]=[0,-1*r]},_setZoomDelta:function(r){var c=this._zoomKeys={},m=this.keyCodes,y,x;for(y=0,x=m.zoomIn.length;y<x;y++)c[m.zoomIn[y]]=r;for(y=0,x=m.zoomOut.length;y<x;y++)c[m.zoomOut[y]]=-r},_addHooks:function(){Et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var c=r.keyCode,m=this._map,y;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(y=this._panKeys[c],r.shiftKey&&(y=ct(y).multiplyBy(3)),m.options.maxBounds&&(y=m._limitOffset(ct(y),m.options.maxBounds)),m.options.worldCopyJump){var x=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(y)));m.panTo(x)}else m.panBy(y)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;yn(r)}}});Ut.addInitHook("addHandler","keyboard",Ko),Ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var qa=Bi.extend({addHooks:function(){Et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var c=$e(r),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var y=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),y),yn(r)},_performZoom:function(){var r=this._map,c=r.getZoom(),m=this._map.options.zoomSnap||0;r._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,A=m?Math.ceil(x/m)*m:x,N=r._limitZoom(c+(this._delta>0?A:-A))-c;this._delta=0,this._startTime=null,N&&(r.options.scrollWheelZoom==="center"?r.setZoom(c+N):r.setZoomAround(this._lastMousePos,c+N))}});Ut.addInitHook("addHandler","scrollWheelZoom",qa);var Wn=600;Ut.mergeOptions({tapHold:pt.touchNative&&pt.safari&&pt.mobile,tapTolerance:15});var zr=Bi.extend({addHooks:function(){Et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var c=r.touches[0];this._startPos=this._newPos=new it(c.clientX,c.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Et(document,"touchend",ye),Et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Wn),Et(document,"touchend touchcancel contextmenu",this._cancel,this),Et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Wt(document,"touchend",ye),Wt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)},_onMove:function(r){var c=r.touches[0];this._newPos=new it(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,c){var m=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});Ut.addInitHook("addHandler","tapHold",zr),Ut.mergeOptions({touchZoom:pt.touch,bounceAtZoomLimits:!0});var Xo=Bi.extend({addHooks:function(){Ct(this._map._container,"leaflet-touch-zoom"),Et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pe(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var c=this._map;if(!(!r.touches||r.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(r.touches[0]),y=c.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(y)._divideBy(2))),this._startDist=m.distanceTo(y),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Et(document,"touchmove",this._onTouchMove,this),Et(document,"touchend touchcancel",this._onTouchEnd,this),ye(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(r.touches[0]),y=c.mouseEventToContainerPoint(r.touches[1]),x=m.distanceTo(y)/this._startDist;if(this._zoom=c.getScaleZoom(x,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&x<1||this._zoom>c.getMaxZoom()&&x>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var A=m._add(y)._divideBy(2)._subtract(this._centerPoint);if(x===1&&A.x===0&&A.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),gt(this._animRequest);var N=d(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=bt(N,this,!0),ye(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,gt(this._animRequest),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ut.addInitHook("addHandler","touchZoom",Xo),Ut.BoxZoom=Qe,Ut.DoubleClickZoom=jr,Ut.Drag=Zi,Ut.Keyboard=Ko,Ut.ScrollWheelZoom=qa,Ut.TapHold=zr,Ut.TouchZoom=Xo,i.Bounds=z,i.Browser=pt,i.CRS=Nt,i.Canvas=Nr,i.Circle=Cr,i.CircleMarker=ks,i.Class=qt,i.Control=ai,i.DivIcon=Fu,i.DivOverlay=qe,i.DomEvent=Sr,i.DomUtil=Os,i.Draggable=bn,i.Evented=nt,i.FeatureGroup=Ui,i.GeoJSON=sn,i.GridLayer=zs,i.Handler=Bi,i.Icon=Hi,i.ImageOverlay=Ns,i.LatLng=ht,i.LatLngBounds=rt,i.Layer=Ai,i.LayerGroup=Ls,i.LineUtil=sd,i.Map=Ut,i.Marker=Da,i.Mixin=td,i.Path=Ii,i.Point=it,i.PolyUtil=Go,i.Polygon=Ms,i.Polyline=nn,i.Popup=Pa,i.PosAnimation=As,i.Projection=Uu,i.Rectangle=Fn,i.Renderer=Je,i.SVG=Ps,i.SVGOverlay=Dr,i.TileLayer=Tn,i.Tooltip=Ba,i.Transformation=vs,i.Util=se,i.VideoOverlay=Sn,i.bind=d,i.bounds=K,i.canvas=Ha,i.circle=Vu,i.circleMarker=Zu,i.control=en,i.divIcon=ud,i.extend=l,i.featureGroup=Iu,i.geoJSON=Mr,i.geoJson=za,i.gridLayer=Wu,i.icon=La,i.imageOverlay=$u,i.latLng=ut,i.latLngBounds=ot,i.layerGroup=ad,i.map=Ho,i.marker=qu,i.point=ct,i.polygon=od,i.polyline=rd,i.popup=Yu,i.rectangle=cd,i.setOptions=R,i.stamp=p,i.svg=Ia,i.svgOverlay=Gu,i.tileLayer=di,i.tooltip=ld,i.transformation=Pn,i.version=a,i.videoOverlay=js;var Jo=window.L;i.noConflict=function(){return window.L=Jo,this},window.L=i}))})(Gl,Gl.exports)),Gl.exports}var _u=WC();const qh=Yy(_u);function sp(n,t,i){return Object.freeze({instance:n,context:t,container:i})}function ap(n,t){return t==null?function(a,l){const u=B.useRef(void 0);return u.current||(u.current=n(a,l)),u}:function(a,l){const u=B.useRef(void 0);u.current||(u.current=n(a,l));const d=B.useRef(a),{instance:f}=u.current;return B.useEffect(function(){d.current!==a&&(t(f,a,d.current),d.current=a)},[f,a,t]),u}}function KC(n,t){B.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function m0(n){return function(i){const a=ip(),l=n(np(i,a),a);return d0(a.map,i.attribution),f0(l.current,i.eventHandlers),KC(l.current,a),l}}function XC(n,t){const i=ap(n,t),a=m0(i);return VC(a)}function JC(n,t){const i=ap(n),a=YC(i,t);return $C(a)}function QC(n,t){const i=ap(n,t),a=m0(i);return GC(a)}function tR(n,t,i){const{opacity:a,zIndex:l}=t;a!=null&&a!==i.opacity&&n.setOpacity(a),l!=null&&l!==i.zIndex&&n.setZIndex(l)}function p0(){return ip().map}function eR({bounds:n,boundsOptions:t,center:i,children:a,className:l,id:u,placeholder:d,style:f,whenReady:p,zoom:_,...b},w){const[T]=B.useState({className:l,id:u,style:f}),[E,k]=B.useState(null),R=B.useRef(void 0);B.useImperativeHandle(w,()=>E?.map??null,[E]);const M=B.useCallback(P=>{if(P!==null&&!R.current){const U=new _u.Map(P,b);R.current=U,i!=null&&_!=null?U.setView(i,_):n!=null&&U.fitBounds(n,t),p!=null&&U.whenReady(p),k(qC(U))}},[]);B.useEffect(()=>()=>{E?.map.remove()},[E]);const D=E?fm.createElement(ep,{value:E},a):d??null;return fm.createElement("div",{...T,ref:M},D)}const iR=B.forwardRef(eR),g0=XC(function({position:t,...i},a){const l=new _u.Marker(t,i);return sp(l,ZC(a,{overlayContainer:l}))},function(t,i,a){i.position!==a.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==a.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==a.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==a.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),_0=JC(function(t,i){const a=new _u.Popup(t,i.overlayContainer);return sp(a,i)},function(t,i,{position:a},l){B.useEffect(function(){const{instance:d}=t;function f(_){_.popup===d&&(d.update(),l(!0))}function p(_){_.popup===d&&l(!1)}return i.map.on({popupopen:f,popupclose:p}),i.overlayContainer==null?(a!=null&&d.setLatLng(a),d.openOn(i.map)):i.overlayContainer.bindPopup(d),function(){i.map.off({popupopen:f,popupclose:p}),i.overlayContainer?.unbindPopup(),i.map.removeLayer(d)}},[t,i,l,a])}),nR=QC(function({url:t,...i},a){const l=new _u.TileLayer(t,np(i,a));return sp(l,a)},function(t,i,a){tR(t,i,a);const{url:l}=i;l!=null&&l!==a.url&&t.setUrl(l)});delete qh.Icon.Default.prototype._getIconUrl;qh.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const sR=new qh.DivIcon({className:"custom-icon",html:'<div style="background-color: #ffffff; width: 30px; height: 30px; border-radius: 50%; border: 2px solid #b71c1c; display: flex; align-items: center; justify-content: center; font-size: 16px; box-shadow: 0 2px 5px rgba(0,0,0,0.3);"></div>',iconSize:[30,30],iconAnchor:[15,30],popupAnchor:[0,-30]}),aR=new qh.DivIcon({className:"my-location-icon",html:'<div style="background-color: #0d6efd; width: 16px; height: 16px; border-radius: 50%; border: 2px solid white; box-shadow: 0 0 0 4px rgba(13, 110, 253, 0.4);"></div>',iconSize:[20,20],iconAnchor:[10,10]}),rR=[{id:101,nombre:"Hospital General Regional No. 6 IMSS",lat:22.2394,lng:-97.8601,ciudad:"Cd. Madero",estado:"TAM"},{id:102,nombre:"Hospital Civil de Madero",lat:22.2475,lng:-97.8373,ciudad:"Cd. Madero",estado:"TAM"},{id:103,nombre:"Hospital General Dr. Carlos Canseco",lat:22.2286,lng:-97.8553,ciudad:"Tampico",estado:"TAM"},{id:104,nombre:"Hospital Beneficencia Espaola",lat:22.235,lng:-97.865,ciudad:"Tampico",estado:"TAM"},{id:106,nombre:"Hospital Universitario",lat:25.6887,lng:-100.3496,ciudad:"Monterrey",estado:"NL"},{id:201,nombre:"Centro Mdico Nacional Siglo XXI",lat:19.4067,lng:-99.1567,ciudad:"CDMX",estado:"CDMX"},{id:301,nombre:"Hospital Civil de Guadalajara",lat:20.6864,lng:-103.3516,ciudad:"Guadalajara",estado:"JAL"},{id:502,nombre:"Hospital General de Cancn",lat:21.1683,lng:-86.8433,ciudad:"Cancn",estado:"QROO"}];function oR(){const n=p0(),[t,i]=B.useState(!1),a=()=>{if(i(!0),!navigator.geolocation){alert("Tu navegador no soporta geolocalizacin"),i(!1);return}navigator.geolocation.getCurrentPosition(l=>{const{latitude:u,longitude:d}=l.coords;n.flyTo([u,d],14,{duration:1.5}),i(!1)},l=>{console.error("Error GPS:",l),alert("No pudimos obtener tu ubicacin. Verifica permisos."),i(!1)},{enableHighAccuracy:!0})};return O.jsx("div",{className:"leaflet-bottom leaflet-right",style:{marginBottom:"20px",marginRight:"10px",pointerEvents:"auto",zIndex:1e3},children:O.jsx("button",{onClick:a,className:"btn btn-light shadow border-0 rounded-circle d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px"},title:"Ir a mi ubicacin",children:t?O.jsx("div",{className:"spinner-border text-primary spinner-border-sm"}):O.jsx("span",{style:{fontSize:"24px"},children:""})})})}function lR(){const[n,t]=B.useState(null),i=p0();return B.useEffect(()=>{i.locate().on("locationfound",function(a){t(a.latlng)})},[i]),n?O.jsx(g0,{position:n,icon:aR,children:O.jsx(_0,{children:"Ests aqu!"})}):null}function uR(){const n=[23.6345,-102.5528];return O.jsxs("div",{className:"d-flex flex-column h-100",children:[O.jsx("h2",{className:"text-danger fw-bold",children:"Red Nacional de Hospitales"}),O.jsxs("p",{className:"text-muted mb-3",children:["Explora los centros de donacin. Usa el botn ",O.jsx("span",{className:"fs-5",children:""})," para encontrarte."]}),O.jsx("div",{className:"card shadow-sm border-0 p-1 flex-grow-1",style:{height:"600px",width:"100%",borderRadius:"15px",position:"relative",overflow:"hidden"},children:O.jsxs(iR,{center:n,zoom:5,style:{height:"100%",width:"100%"},children:[O.jsx(nR,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),O.jsx(oR,{}),O.jsx(lR,{}),rR.map(t=>O.jsx(g0,{position:[t.lat,t.lng],icon:sR,children:O.jsx(_0,{children:O.jsxs("div",{className:"text-center",children:[O.jsx("h6",{className:"fw-bold mb-1 text-danger",children:t.nombre}),O.jsxs("span",{className:"badge bg-secondary mb-2",children:[t.ciudad,", ",t.estado]})]})})},t.id))]})})]})}function cR(){const[n]=_S(),t=n.get("hospital"),i=n.get("reqId"),a=n.get("paciente")||"el paciente",l=JSON.parse(sessionStorage.getItem("currentUser"))||{},[u,d]=B.useState([]),[f,p]=B.useState(""),[_,b]=B.useState(0),w=B.useRef(null),T=M=>d(D=>[...D,{text:M,isBot:!0}]),E=M=>d(D=>[...D,{text:M,isBot:!1}]);B.useEffect(()=>{setTimeout(()=>T(`Hola ${l.nombre.split(" ")[0]}! Soy tu asistente de donacin. `),500),setTimeout(()=>T(`Ests a punto de aceptar donar para <b>${a}</b> en el <b>${t}</b>.`),1500),setTimeout(()=>T("Ests seguro que puedes asistir maana? (Escribe 'Si')"),2500)},[]),B.useEffect(()=>w.current?.scrollIntoView({behavior:"smooth"}),[u]);const k=()=>{if(!f.trim())return;const M=f.trim();E(M),p(""),setTimeout(()=>R(M.toLowerCase()),800)},R=async M=>{if(_===0)if(M.includes("si")||M.includes("s")||M.includes("claro")){T("Perfecto! Estoy reservando tu lugar en el sistema...");try{const{data:D}=await le.supabase.from("solicitudes").select("*").eq("id",i).single();if(D&&D.unidades_necesarias>0){const P=D.unidades_necesarias-1,U=P<=0?"completada":"activa";await le.supabase.from("solicitudes").update({unidades_necesarias:P,estatus:U}).eq("id",i);const W={hospital:t,fecha:new Date().toLocaleDateString(),paciente:a,solicitudId:i},et={...l,citaActiva:W};await le.supabase.from("users").update({citaActiva:W}).eq("curp",l.curp),sessionStorage.setItem("currentUser",JSON.stringify(et)),T(` <b>Confirmado!</b><br>Te esperamos en ${t}.<br>Menciona que vas a donar para: ${a}.`),T("Eres un hroe! Nos vemos."),b(99)}else T(" Lo siento, parece que esta solicitud ya fue cubierta por otro hroe hace un momento."),b(99)}catch{T("Ocurri un error de conexin. Intenta nuevamente.")}}else T("Entendido. Cancelamos el proceso. No te preocupes, puedes volver cuando ests listo."),b(99)};return O.jsx("div",{className:"container py-5",children:O.jsxs("div",{className:"card shadow-lg border-0 mx-auto",style:{maxWidth:"600px",borderRadius:"20px"},children:[O.jsx("div",{className:"card-header bg-danger text-white text-center fw-bold py-3",style:{borderTopLeftRadius:"20px",borderTopRightRadius:"20px"},children:"Asistente Virtual"}),O.jsxs("div",{className:"card-body bg-light",style:{height:"400px",overflowY:"auto"},children:[u.map((M,D)=>O.jsx("div",{className:`d-flex ${M.isBot?"justify-content-start":"justify-content-end"} mb-3`,children:O.jsx("div",{className:`p-3 rounded-4 shadow-sm ${M.isBot?"bg-white text-dark":"bg-primary text-white"}`,style:{maxWidth:"80%"},children:O.jsx("span",{dangerouslySetInnerHTML:{__html:M.text}})})},D)),O.jsx("div",{ref:w})]}),_!==99&&O.jsx("div",{className:"card-footer bg-white p-3",children:O.jsxs("div",{className:"input-group",children:[O.jsx("input",{type:"text",className:"form-control border-0 bg-light",placeholder:"Escribe tu respuesta...",value:f,onChange:M=>p(M.target.value),onKeyPress:M=>M.key==="Enter"&&k()}),O.jsx("button",{className:"btn btn-danger rounded-circle ms-2",style:{width:"45px",height:"45px"},onClick:k,children:""})]})}),_===99&&O.jsx("div",{className:"card-footer bg-white p-3",children:O.jsx(dn,{to:"/dashboard",className:"btn btn-outline-dark w-100 rounded-pill",children:"Volver al Inicio"})})]})})}function hR(){const[n,t]=B.useState([]),i=Ki(),a=async()=>{const f=await le.getAllUsers(),p={admin:1,subadmin:2,doctor:3,donador:4};f.sort((_,b)=>(p[_.rol]||4)-(p[b.rol]||4)),t(f)};B.useEffect(()=>{a()},[]);const l=()=>{sessionStorage.removeItem("currentUser"),i("/")},u=async(f,p)=>{if(f.rol==="admin")return alert("No puedes modificar al Admin principal.");if(window.confirm(`Cambiar a ${f.nombre} al rol de ${p}?`)){const{error:_}=await le.supabase.from("users").update({rol:p}).eq("curp",f.curp);_||(alert(" Rol actualizado."),a())}},d=async f=>{if(window.confirm(" ESTS SEGURO? Esta accin borrar al usuario permanentemente.")){const{error:p}=await le.supabase.from("users").delete().eq("curp",f);p?alert("Error al eliminar: "+p.message):(alert(" Usuario eliminado."),a())}};return O.jsxs("div",{className:"d-flex",children:[O.jsxs("div",{className:"bg-dark text-white p-4",style:{width:"250px",minHeight:"100vh"},children:[O.jsx("h3",{className:"text-warning text-center",children:" Super Admin"}),O.jsx("button",{onClick:l,className:"btn btn-outline-light w-100 mt-5",children:"Cerrar Sesin"})]}),O.jsxs("div",{className:"p-5 w-100 bg-light",children:[O.jsx("h2",{className:"mb-4",children:"Gestin Total de Usuarios"}),O.jsx("div",{className:"card shadow-sm p-4 bg-white",children:O.jsxs("table",{className:"table align-middle",children:[O.jsx("thead",{className:"table-dark",children:O.jsxs("tr",{children:[O.jsx("th",{children:"Nombre"}),O.jsx("th",{children:"Rol"}),O.jsx("th",{children:"Acciones"})]})}),O.jsx("tbody",{children:n.map(f=>O.jsxs("tr",{children:[O.jsxs("td",{children:[f.nombre,O.jsx("br",{}),O.jsx("small",{className:"text-muted",children:f.curp})]}),O.jsx("td",{children:O.jsx("span",{className:`badge bg-${f.rol==="admin"?"warning":f.rol==="subadmin"?"info":f.rol==="doctor"?"primary":"secondary"}`,children:f.rol||"donador"})}),O.jsx("td",{children:f.rol!=="admin"&&O.jsxs("div",{className:"btn-group",children:[O.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>u(f,"subadmin"),children:"Hacer Subadmin"}),O.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>u(f,"doctor"),children:"Hacer Doctor"}),O.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>u(f,"donador"),children:"Degradar"}),O.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>d(f.curp),children:""})]})})]},f.curp))})]})})]})]})}function dR(){const[n,t]=B.useState([]),i=Ki(),a=async()=>{const d=await le.getAllUsers();t(d.filter(f=>f.rol==="donador"&&f.citaActiva))};B.useEffect(()=>{a()},[]);const l=async d=>{if(window.confirm(`Confirmar extraccin de sangre a ${d.nombre}?`))try{const f=d.citaActiva.solicitudId;if(f){const{data:_}=await le.supabase.from("solicitudes").select("*").eq("id",f).single();if(_){const b=_.unidades_necesarias-1,w=b<=0?"completada":"activa";if(await le.supabase.from("solicitudes").update({unidades_necesarias:b,estatus:w}).eq("id",f),w==="completada"){const{data:T}=await le.supabase.from("users").select("push_token").eq("curp",_.creado_por_curp).single();T?.push_token&&console.log("Meta completada. Notificar a: "+_.creado_por_curp)}}}const p={...d,puntos:(d.puntos||0)+100,cuestionario:!1,ultimaDonacion:new Date().toISOString(),citaActiva:null};await le.updateUser(p),alert(" Donacin registrada con xito."),a()}catch(f){alert("Error procesando: "+f.message)}},u=()=>{sessionStorage.removeItem("currentUser"),i("/")};return O.jsxs("div",{className:"d-flex",children:[O.jsxs("div",{className:"sidebar bg-primary text-white p-4",style:{width:"250px",minHeight:"100vh"},children:[O.jsx("h3",{children:" Doctores"}),O.jsx("button",{onClick:u,className:"btn btn-outline-light w-100 mt-5",children:"Salir"})]}),O.jsxs("div",{className:"p-5 w-100",children:[O.jsx("h2",{children:"Pacientes con Cita Hoy"}),O.jsxs("table",{className:"table mt-4 shadow-sm",children:[O.jsx("thead",{className:"table-primary",children:O.jsxs("tr",{children:[O.jsx("th",{children:"Donador"}),O.jsx("th",{children:"Tipo Sangre"}),O.jsx("th",{children:"Paciente Destino"}),O.jsx("th",{children:"Hospital"}),O.jsx("th",{children:"Accin"})]})}),O.jsx("tbody",{children:n.length===0?O.jsx("tr",{children:O.jsx("td",{colSpan:"5",children:"No hay citas activas."})}):n.map(d=>O.jsxs("tr",{children:[O.jsx("td",{children:d.nombre}),O.jsx("td",{children:O.jsx("span",{className:"badge bg-danger",children:d.sangre})}),O.jsx("td",{children:d.citaActiva?.paciente||"General"}),O.jsx("td",{children:d.citaActiva?.hospital}),O.jsx("td",{children:O.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>l(d),children:" Confirmar"})})]},d.curp))})]})]})]})}function fR(){return O.jsx(fS,{children:O.jsxs(qx,{children:[O.jsx(ei,{path:"/",element:O.jsx(iO,{})}),O.jsx(ei,{path:"/registro",element:O.jsx(nO,{})}),O.jsx(ei,{path:"/aviso",element:O.jsx(sO,{})}),O.jsx(ei,{path:"/cuestionario",element:O.jsx(aO,{})}),O.jsxs(ei,{element:O.jsx(oO,{}),children:[O.jsx(ei,{path:"/dashboard",element:O.jsx(zC,{})}),O.jsx(ei,{path:"/perfil",element:O.jsx(PC,{})}),O.jsx(ei,{path:"/solicitudes",element:O.jsx(BC,{})}),O.jsx(ei,{path:"/MisNotificaciones",element:O.jsx(UC,{})}),O.jsx(ei,{path:"/ListaSolicitudes",element:O.jsx(HC,{})}),O.jsx(ei,{path:"/mapa",element:O.jsx(uR,{})}),O.jsx(ei,{path:"/chat",element:O.jsx(cR,{})}),O.jsx(ei,{path:"/historial",element:O.jsx(rO,{})})]}),O.jsx(ei,{path:"/admin-dashboard",element:O.jsx(hR,{})}),O.jsx(ei,{path:"/doctor-dashboard",element:O.jsx(dR,{})})]})})}qw.createRoot(document.getElementById("root")).render(O.jsx(B.StrictMode,{children:O.jsx(fR,{})}));
